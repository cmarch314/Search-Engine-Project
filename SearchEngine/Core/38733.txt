{"text": "OEChem C Theory Manual Version 1 3 1 Previous 32 9 3 Molecule parameters Up 32 OpenEye Command Line Next 32 11 Parameter Aliases Shortcuts 32 1 Parameter Ranges and Legal Illegal Values Some parameters can have legal illegal ranges and values These are set with the LEGAL VALUE ILLEGAL VALUE LEGAL RANGE and ILLEGAL RANGE fields boolBoolean parameters cannot have legal illegal ranges and values int float and doubleThese parameters can have legal and illegal ranges and values Checks for illegal ranges and values are performed first and if an invalid range or value is detected an error is returned Then legal ranges and values are checked and if the parameter setting matches or there are no legal ranges or values it passes inf and inf are values are recognized as range limits along with regular numerical values string file and param fileThese parameters can have legal and illegal values but not ranges For file and param file types the restriction is on the file name Illegal values are check first and a then if at least one legal value is specified it is check also Legal and Illegal values for these types support up to 2 wildcards for pattern matches This is commonly used to force a file extension e g LEGAL VALUE txt OEMol and OEGraphMolMolecule parameters cannot have legal and illegal ranges and values however they are automatically restricted to files with recognized file extensions Chapter 32 Example 13 cpp file include oeplatform h include oesystem h Defines static const unsigned char array InterfaceData include ch32 13 itf Defines static const unsigned char array RequirementData include ch32 13r req using namespace OEPlatform using namespace OESystem using namespace std int main int argc char argv OEInterface itf OEConfigure itf InterfaceData if OECheckHelp itf argc argv return OEParseCommandLine itf argc argv RequirementData if itf Has string op OEThrow Error You must specify op return 1 string op itf Get string op float x itf Get float x float y itf Get float y if op add oeout x plus y is x y oeendl else if op subtract oeout x minus y is x y oeendl else if op multiply oeout x times y is x y oeendl else if op divide oeout x divided by y is x y oeendl This isn t needed since op is now restricted to legal values else OEThrow Error s is not a valid operation op c str return 1 return Download as text Chapter 32 Example 13 OEConfigure txt configuration file CATEGORY Variables BRIEF Category for variables PARAMETER x TYPE float DEFAULT 1 LEGAL RANGE inf 1 LEGAL RANGE 1 1 BRIEF First variable END PARAMETER y TYPE float DEFAULT LEGAL RANGE inf BRIEF Second variable END END CATEGORY operator PARAMETER op TYPE string BRIEF Operation to perform on x and y REQUIRED yes LEGAL VALUE add LEGAL VALUE substract LEGAL VALUE multiply LEGAL VALUE divide DETAIL The operation performed is x op y So if op is add the operation is x y END END Download as text Chapter 32 Example 13 Requirement txt configuration file REQUIREMENT OPTION y op divide OPTION y ERROR MSG Cannot divide by zero result would be undefined END Download as text The following is example output from the above example program ch32 13 x 1 y 1 op add Fatal 1 is not a legal setting for parameter x specified on command line ch32 13 x 1 y 1 op divide Fatal 1 is not a legal setting for parameter x specified on command line ch32 13 x 99999 y 1 op divide Fatal 1 is not a legal setting for parameter y specified on command line ch32 13 x 99999 y op divide Fatal Missing requirements Cannot divide by zero result would be undefined ch32 13 x 99999 y op add 99999 plus is 99999 The basic rules for the value range checking are The parameter setting must not fall within or on an illegal range or value The parameter setting must fall with or on a legal range or value IF AND ONLY IF at least one legal range or value has been specified IMPORTANT Default parameter values must be legal values OEChem C Theory Manual Version 1 3 1 Previous 32 9 3 Molecule parameters Up 32 OpenEye Command Line Next 32 11 Parameter Aliases Shortcuts Documentation released on July 3 2 4 ", "_id": "http://www.ics.uci.edu/~dock/manuals/oechem/cplusprog/node267.html", "title": "32.10 parameter ranges and legal/illegal values", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<html>\n<head>\n<title>32.10 Parameter Ranges and Legal/Illegal Values</title>\n<META NAME=\"description\" CONTENT=\"32.10 Parameter Ranges and Legal/Illegal Values\">\n<META NAME=\"keywords\" CONTENT=\"cplusprog\">\n<META NAME=\"resource-type\" CONTENT=\"document\">\n<META NAME=\"distribution\" CONTENT=\"global\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\">\n<link rel=\"STYLESHEET\" href=\"cplusprog.css\">\n<link rel=\"first\" href=\"cplusprog.html\">\n<link rel=\"contents\" href=\"contents.html\" title=\"Contents\">\n\n<LINK REL=\"next\" HREF=\"node268.html\">\n<LINK REL=\"previous\" HREF=\"node263.html\">\n<LINK REL=\"up\" HREF=\"node252.html\">\n<LINK REL=\"next\" HREF=\"node268.html\">\n</head>\n<body>\n<DIV CLASS=\"navigation\">\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node266.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node252.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node268.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node266.html\">32.9.3 Molecule parameters</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node252.html\">32. OpenEye Command Line</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node268.html\">32.11 Parameter Aliases/Shortcuts</A>\n<br><hr>\n</DIV>\n<!--End of Navigation Panel-->\n\n<H1><A NAME=\"SECTION00351000000000000000000\">\n32.10 Parameter Ranges and Legal/Illegal Values</A>\n</H1>\n\n<P>\nSome parameters can have legal/illegal ranges and values.  These are set with\nthe !LEGAL_VALUE , !ILLEGAL_VALUE , !LEGAL_RANGE and !ILLEGAL_RANGE fields.\n\n<P>\n<DL COMPACT>\n<DT><code>bool</code></DT>\n<DD>Boolean parameters cannot have legal/illegal ranges and values\n\n<P>\n</DD>\n<DT><code>int, float and double</code></DT>\n<DD>These parameters can have legal and illegal\nranges and values.  Checks for illegal ranges and values are performed first and\nif an invalid range or value is detected an error is returned.  Then legal ranges\nand values are checked, and if the parameter setting matches or there are no\nlegal ranges or values it passes.  'inf' and '-inf' are values are recognized as\nrange limits, along with regular numerical values.\n\n<P>\n</DD>\n<DT><code>string, file and param_file</code></DT>\n<DD>These parameters can have legal and\nillegal values, but not ranges.  For file and param_file types the restriction\nis on the file name.  Illegal values are check first, and a then if at least\none legal value is specified it is check also.  Legal and Illegal values for\nthese types support up to 2 * wildcards for pattern matches.  This is commonly\nused to force a file extension (<I>e.g</I>., \"!LEGAL_VALUE *.txt\").\n\n<P>\n</DD>\n<DT><code>OEMol and OEGraphMol</code></DT>\n<DD>Molecule parameters cannot have legal and\nillegal ranges and values, however they are automatically restricted to files\nwith recognized file extensions.\n\n<P>\n</DD>\n</DL>\n\n<P>\n<i>Chapter 32 - Example 13 : cpp file</i>\n<dl><dd><pre class=\"verbatim\">#include \"oeplatform.h\"\n#include \"oesystem.h\"\n\n//Defines static const unsigned char* array InterfaceData\n#include \"ch32-13.itf\"\n\n//Defines static const unsigned char* array RequirementData\n#include \"ch32-13r.req\"\n\nusing namespace OEPlatform;\nusing namespace OESystem;\nusing namespace std;\nint main(int argc, char** argv)\n{\n  OEInterface itf;\n  OEConfigure(itf,InterfaceData);\n  if (OECheckHelp(itf,argc,argv)) return 0;\n  OEParseCommandLine(itf,argc,argv,RequirementData);\n\n  if (!itf.Has&lt;string&gt;(\"-op\"))\n  {\n    OEThrow.Error(\"You must specify -op\");\n    return 1;\n  }\n\n  string op = itf.Get&lt;string&gt;(\"-op\");\n  float x = itf.Get&lt;float&gt;(\"-x\");\n  float y = itf.Get&lt;float&gt;(\"-y\");\n\n  if (op == \"add\")\n  {\n    oeout &lt;&#60; x &lt;&#60; \" plus \" &lt;&#60; y &lt;&#60; \" is \" &lt;&#60; x+y &lt;&#60; oeendl;\n  }\n  else if (op == \"subtract\")\n  {\n    oeout &lt;&#60; x &lt;&#60; \" minus \" &lt;&#60; y &lt;&#60; \" is \" &lt;&#60; x-y &lt;&#60; oeendl;\n  }\n  else if (op == \"multiply\")\n  {\n    oeout &lt;&#60; x &lt;&#60; \" times \" &lt;&#60; y &lt;&#60; \" is \" &lt;&#60; x*y &lt;&#60; oeendl;\n  }\n  else if (op == \"divide\")\n  {\n    oeout &lt;&#60; x &lt;&#60; \" divided by \" &lt;&#60; y &lt;&#60; \" is \" &lt;&#60; x/y &lt;&#60; oeendl;\n  }\n\n  //This isn't needed since op is now restricted to legal values\n  //else\n  //{\n  //  OEThrow.Error(\"%s is not a valid operation\",op.c_str());\n  //  return 1;\n  //}\n\n  return 0;\n}\n</pre>\n<div class=\"verbatiminput-footer\">\n<a href=\"ch32-13.txt\" type=\"text/plain\">Download as text.</a>\n</div>\n</dd></dl>\n\n<P>\n<i>Chapter 32 - Example 13 : OEConfigure txt configuration file</i>\n<dl><dd><pre class=\"verbatim\">!CATEGORY Variables\n  !BRIEF Category for variables\n\n  !PARAMETER -x\n    !TYPE float\n    !DEFAULT 10\n    !LEGAL_RANGE -inf -10\n    !LEGAL_RANGE 10 1000\n    !BRIEF First variable\n  !END\n\n  !PARAMETER -y\n    !TYPE float\n    !DEFAULT 0.0\n    !LEGAL_RANGE 0 inf\n    !BRIEF Second variable\n  !END\n\n!END\n\n!CATEGORY operator\n\n  !PARAMETER -op\n    !TYPE string\n    !BRIEF Operation to perform on x and y\n    !REQUIRED yes\n    !LEGAL_VALUE add\n    !LEGAL_VALUE substract\n    !LEGAL_VALUE multiply\n    !LEGAL_VALUE divide\n    !DETAIL\n      The operation performed is\n\n        x &lt;-op&gt; y\n\n      So if -op is 'add' the operation is\n\n        x + y\n  !END\n\n!END\n</pre>\n<div class=\"verbatiminput-footer\">\n<a href=\"ch32-13.txt\" type=\"text/plain\">Download as text.</a>\n</div>\n</dd></dl>\n\n<P>\n<i>Chapter 32 - Example 13 : Requirement txt configuration file</i>\n<dl><dd><pre class=\"verbatim\">!REQUIREMENT\n  !OPTION -y 0.0 !-op divide\n  !OPTION !-y 0.0\n  !ERROR_MSG\n    Cannot divide by zero\n    result would be undefined\n!END\n</pre>\n<div class=\"verbatiminput-footer\">\n<a href=\"ch32-13r.txt\" type=\"text/plain\">Download as text.</a>\n</div>\n</dd></dl>\n\n<P>\nThe following is example output from the above example program.\n\n<P>\n<dl><dd><pre class=\"verbatim\">&gt; ch32-13 -x -1 -y -1 -op add\nFatal: -1 is not a legal setting for parameter -x (specified on command line)\n\n&gt; ch32-13 -x -1 -y -1 -op divide\nFatal: -1 is not a legal setting for parameter -x (specified on command line)\n\n&gt; ch32-13 -x -99999 -y -1 -op divide\nFatal: -1 is not a legal setting for parameter -y (specified on command line)\n\n&gt; ch32-13 -x -99999 -y 0 -op divide\nFatal: Missing requirements:\n    Cannot divide by zero\n    result would be undefined\n\n&gt; ch32-13 -x -99999 -y 0 -op add\n-99999.000000 plus 0.000000 is -99999.000000\n\n&gt;\n</pre></dl>\n\n<P>\nThe basic rules for the value range checking are\n\n<P>\n\n<OL>\n<LI>The parameter setting must not fall within or on an illegal range or value.\n\n<P>\n</LI>\n<LI>The parameter setting must fall with or on a legal range or value\n<i>IF AND ONLY IF</i> at least one legal range or value has been specified.\n\n<P>\n</LI>\n</OL>\n\n<P>\n<i>IMPORTANT</i>: Default parameter values must be legal values.\n\n<P>\n\n<DIV CLASS=\"navigation\">\n<p><hr>\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node266.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node252.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node268.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node266.html\">32.9.3 Molecule parameters</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node252.html\">32. OpenEye Command Line</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node268.html\">32.11 Parameter Aliases/Shortcuts</A>\n<hr>\n<span class=\"release-info\">Documentation released on July 30, 2004.</span>\n</DIV>\n<!--End of Navigation Panel-->\n\n</BODY>\n</HTML>\n", "id": 38733.0}