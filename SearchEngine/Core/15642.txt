{"text": "Life Expectancy Demographers work with the distribution of age at death in the form of a life table which displays the information in tabular form Starting with 1 live births at year zero the life table shows the number who are expected to survive to the end of the next year If you divide that number by 1 you have the probability of surviving to the given age This is also known as the survivor function which is just the complement of the cumulative distribution function for age at death In other words if F x is the cumulative distribution function cdf for age at death Pr age of death x then the survivor function is S x 1 F x Similarly F x 1 S x To see the 1997 life tables for US males and females issue the R command Life97 read table http www ics uci edu staceyah 12 A Life97 dat header TRUE The read table function can be used to read a table of data for example created by a spreadsheet and saved as plain text tab space or comma delimited from your local machine or from a URL as in this example If comma delimited use read table file header TRUE sep Now enter the name of the data frame to see the life table Life97 You can see that in the older age groups the ratio of females to males becomes increasingly large It is worth noting that life tables like these are based on historical data and model based projections Your mileage may vary Computing Life Expectancy from the Life Table Life97 Male is the data for males and Life97 Female is the data for females Alternative equivalent expressions are Life97 Male and Life97 Female or Life97 2 and Life97 3 These tables represent the number surviving to a given age If we divide by 1 we will have the proportion surviving to a given age We will work with the distribution for age at death Death at or before n is the complement of the event survival through age n To compute the cumulative distribution function for age at death for females use the following R command Fem 1 Life97 Female 1 Male 1 Life97 Male 1 Here are commands to plot of the cumulative distribution functions F n Pr age at death less than or equal to n Note the use of par mfrow c 2 1 to create a window with two rows and one column of plots Try par mfrow c 1 2 par mfrow c 2 1 barplot Fem names arg Life97 age space title Females barplot Male names arg Life97 age space title Males The probability of death at age n is the difference between F n and F n 1 that is the probability of death at or before age n minus the probability of death at or before age n 1 In R we can use the following commands to compute the probabilities of death in a given year Pf diff Fem Pm diff Male The diff function computes the differences between successive values in the dataset The result is the probability of death in year N for N running from 1 to 119 Here are commands to plot of the cumulative distribution along with the probability density function histogram just described for females barplot Fem names arg Life97 age space barplot Pf names arg Life97 age 1 space col green Make sure you understand the relation between these pairs of graphs Compare the shapes of the density functions histograms for male and females What differences can you see Can you explain the differences We are now ready to compute the expected age at death known more positively as the life expectancy The age categories are 1 to 119 years in 1 year intervals age 1 119 sum age Pf In fact people don t die on their birthday deaths are distributed throughout the year If the deaths are roughly evenly distributed within years then the average age at death in year n would be n 1 2 How much difference does that make age 1 119 1 2 sum age Pf Conditional Life Expectancy What is the conditional probability of death at age k given you have survived to age n Can you see how to compute the conditional probabilites for k n 1 n 2 n 3 Hint you need to use the definition of conditional probability You are conditioning on an event of the form age n Pr age n Pr age n 1 Pr age n 2 For example the probability of survival past age 5 is sum Pf 51 119 It is a bother to have to figure out which categories to sum especially when the age categories don t exactly match the row numbers of the table A neat solution is to let R do the selection for you sum Pf age 5 To see what R is doing just print the data data frame age Pf and then compare to the selected subset data frame age Pf age 5 The conditional probability of death at age n 1 given death at age greater than n is Pr age n 1 age n Pr age n 1 and age n Pr age n Pr age n 1 Pr age n The intersection of the events age n and age n 1 is just the latter event Thus we can compute the conditional probabilities of death at each age greater than n simply by dividing by their sum To get the conditional probabilities of death at each age given survival to age 5 for US women use Pf5 Pf age 5 sum Pf age 5 In other words Pf5 contains the probability of death at each age past 5 given survival through age 5 This conditional distribution is a perfectly good probability distribution The probabilities sum to 1 sum Pf5 We can compute the expected age at death given survival to age 5 using this conditional distribution This is known as the conditional life expectancy The sample space is the set of possible outcomes 51 119 so using the definition of expectation the conditional life expectancy for a US female surviving to age 5 is sum age age 5 Pf5 It is greater than the unconditional expected value the unconditional life expectancy includes those who die at a younger age It is not wildly different though To see why look at the probability of survival past age 5 sum Pf age 5 Material taken from Albyn Jones Math 141 Lab Webpage Nov 2 13 Stats 12 A Index", "_id": "http://www.ics.uci.edu/~staceyah/120A/Life.html", "title": "life tables and life expectancy", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\n<html>\n  <head>\n    <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\">\n    <title>Life Tables and Life Expectancy</title>\n    <meta content=\"Stacey Hancock\" name=\"author\">\n  </head>\n  <body>\n    <table width=\"500\" align=\"center\" border=\"1\" cellpadding=\"2\"\n      cellspacing=\"2\">\n      <tbody>\n        <tr>\n          <th valign=\"middle\" align=\"center\" bgcolor=\"#ffffcc\">\n            <h1>Life Expectancy<br>\n            </h1>\n          </th>\n        </tr>\n      </tbody>\n    </table>\n    <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\">\n    <p align=\"left\"> <br>\n      Demographers work with the distribution of age at death in the\n      form of a \"life table\", which displays the information in tabular\n      form. Starting with 100,000 live births at year zero, the life\n      table shows the number who are expected to survive to the end of\n      the next year. If you divide that number by 100,000, you have the\n      probability of surviving to the given age. This is also known as\n      the \"<font color=\"#009900\"><b>survivor function</b></font>\", which\n      is just the <b>complement of the cumulative distribution function</b>\n      for age at death. In other words, if F(x) is the cumulative\n      distribution function (cdf) for age at death (Pr(age of death\n      &lt;= x)), then the survivor function is S(x) = 1-F(x). Similarly,\n      F(x) = 1- S(x). To see the 1997 life tables for US males and\n      females, issue the R command: </p>\n    <pre>Life97 &lt;- read.table(\"http://www.ics.uci.edu/~staceyah/120A/Life97.dat\", header=TRUE)\n</pre>\n    The <i>read.table()</i> function can be used to read a table of\n    data (for example created by a spreadsheet, and saved as plain text,\n    tab, space, or comma delimited) from your local machine or from a\n    URL as in this example. If comma delimited, use <i>read.table(\"file\",header=TRUE,sep=\",\")</i>.\n    <hr> Now enter the name of the data.frame to see the life table:\n    <pre>           Life97\n</pre>\n    You can see that in the older age groups, the ratio of females to\n    males becomes increasingly large. It is worth noting that life\n    tables like these are based on historical data and model-based\n    projections. Your mileage may vary!\n    <center>\n      <h4>Computing Life Expectancy from the Life Table</h4>\n    </center>\n    <p> Life97$Male is the data for males, and Life97$Female is the data\n      for females. Alternative equivalent expressions are\n      Life97[,\"Male\"] and Life97[,\"Female\"], or Life97[,2] and\n      Life97[,3]. <br>\n    </p>\n    <p> These tables represent the number surviving to a given age. If\n      we divide by 100000, we will have the proportion surviving to a\n      given age. We will work with the distribution for age at death.\n      \"Death at or before n\" is the complement of the event \"survival\n      through age n\". </p>\n    <p> To compute the cumulative distribution function for age at death\n      for females use the following R command: </p>\n    <pre>           Fem  = 1 - Life97$Female/100000\n           Male = 1 - Life97$Male/100000\n</pre>\n    Here are commands to plot of the cumulative distribution functions:\n    F(n) = Pr(age at death less than or equal to n). Note the use of\n    'par(mfrow=c(2,1))' to create a window with two rows and one column\n    of plots. Try 'par(mfrow=c(1,2))'.\n    <pre> \n           par(mfrow=c(2,1))\n           barplot(Fem,names.arg=Life97$age,space=0)\n           title(\"Females\")\n           barplot(Male,names.arg=Life97$age,space=0)\n           title(\"Males\")\n</pre>\n    The probability of death at age n is the difference between F(n) and\n    F(n-1), that is the probability of death at or before age n, minus\n    the probability of death at or before age n-1. In R we can use the\n    following commands to compute the probabilities of death in a given\n    year:\n    <pre>           Pf &lt;- diff(Fem)\n           Pm &lt;- diff(Male)\n</pre>\n    The diff() function computes the differences between successive\n    values in the dataset. The result is the probability of death in\n    year N, for N running from 1 to 119. Here are commands to plot of\n    the cumulative distribution along with the probability density\n    function (histogram) just described for females:\n    <pre>           barplot(Fem,names.arg=Life97$age,space=0)\n           barplot(Pf,names.arg=Life97$age[-1],space=0,col=\"green\")\n</pre>\n    Make sure you understand the relation between these pairs of graphs.\n    <p> Compare the shapes of the density functions (histograms) for\n      male and females. What differences can you see? Can you explain\n      the differences? </p>\n    <p> We are now ready to compute the expected age at death, known\n      more positively as the \"life expectancy\". The age categories are 1\n      to 119 years, in 1 year intervals. </p>\n    <pre>           age = 1:119\n           sum( age*Pf )\n</pre>\n    In fact, people don't die on their birthday; deaths are distributed\n    throughout the year. If the deaths are roughly evenly distributed\n    within years, then the average age at death in year n would be\n    n-1/2. How much difference does that make?\n    <pre>           age &lt;- (1:119)-1/2\n           sum( age*Pf )\n</pre>\n    <p> </p>\n    <center>\n      <h4> Conditional Life Expectancy</h4>\n    </center>\n    What is the conditional probability of death at age k, given you\n    have survived to age n? Can you see how to compute the conditional\n    probabilites for k=n+1,n+2, n+3,...? Hint: you need to use the\n    definition of conditional probability! You are conditioning on an\n    event of the form \"age &gt; n\".\n    <pre> \n    Pr(age &gt; n) = Pr(age = n+1)+ Pr(age=n+2) + ...  \n</pre>\n    For example, the probability of survival past age 50 is\n    <blockquote>\n      <pre>sum(Pf[51:119])\n</pre>\n    </blockquote>\n    It is a bother to have to figure out which categories to sum,\n    especially when the age categories don't exactly match the row\n    numbers of the table. A neat solution is to let <b>R</b> do the\n    selection for you:\n    <blockquote>\n      <pre>sum(Pf[age &gt; 50])\n</pre>\n    </blockquote>\n    To see what <b>R</b> is doing, just print the data,\n    <blockquote>\n      <pre>data.frame(age,Pf)\n</pre>\n    </blockquote>\n    and then compare to the selected subset:\n    <blockquote>\n      <pre>data.frame(age,Pf)[age&gt;50,]\n</pre>\n    </blockquote>\n    <p> The conditional probability of death at age n+1, given death at\n      age greater than n, is </p>\n    <blockquote> Pr(age = n+1 | age &gt; n) = Pr(age = n+1 and age &gt;\n      n)/Pr(age &gt; n) <br>\n      <blockquote>= Pr(age = n+1)/Pr(age &gt; n)\n        <br>\n      </blockquote>\n    </blockquote>\n    The intersection of the events \"age &gt; n\" and \"age = n+1\" is just\n    the latter event. Thus we can compute the conditional probabilities\n    of death at each age greater than n simply by dividing by their sum.\n    <p> To get the conditional probabilities of death at each age given\n      survival to age 50 for US women, use: </p>\n    <pre> \n           Pf50 &lt;- Pf[age&gt;50]/sum(Pf[age&gt;50])\n</pre>\n    In other words, Pf50 contains the probability of death at each age\n    past 50, given survival through age 50. This conditional\n    distribution is a perfectly good probability distribution. The\n    probabilities sum to 1:\n    <pre> \n           sum(Pf50) \n</pre>\n    We can compute the expected age at death, given survival to age 50,\n    using this conditional distribution. This is known as the\n    conditional life expectancy. The sample space is the set of possible\n    outcomes (51:119), so using the definition of expectation, the\n    conditional life expectancy for a US female surviving to age 50 is\n    <pre>           sum(age[age&gt;50]*Pf50)\n</pre>\n    It is greater than the unconditional expected value - the\n    unconditional life expectancy includes those who die at a younger\n    age. It is not wildly different, though. To see why, look at the\n    probability of survival past age 50:\n    <pre> \n           sum(Pf[age&gt;50])\n</pre>\n    <br>\n    <hr size=\"2\" width=\"100%\"><i>Material taken from Albyn Jones' Math\n      141 Lab Webpage, Nov. 2013</i><br>\n    <br>\n    <hr style=\"width: 100%; height: 2px;\">\n    <div align=\"center\"> <big> </big><br>\n      <big> <a href=\"index.html\">Stats 120A Index</a></big><br>\n      <br>\n    </div>\n    <hr style=\"width: 100%; height: 2px;\">\n    <p><br>\n    </p>\n  </body>\n</html>\n", "id": 15642.0}