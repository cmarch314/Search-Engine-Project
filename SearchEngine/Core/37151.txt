{"text": "APBS Tutorial PreviousNaCl condensation around DNANext Visualization The following requires the VMD functions provided in the my functions Tcl script Please download this before proceeding Electrostatic potential The electrostatic potential can be visualized via VMD by running the pot vmd script in VMD vmd e pot vmd The result should be the rather uninteresting potential isosurface Figure 2 DNA electrostatic potential which can be adjusted via the Graphics Representations menu item Charge density The charge density for the DNA is much more interesting than the electrostatic potential The first step in our analysis will be to plot the average radial density around the DNA using the Python script density This script can then be used to process the volume based density file qdens dx produced by our earlier APBS run python density qdens dx tee qdens dat The result of this command will be 3 columns of data on the screen and written to qdens dat the radius in A the charge density at the given radius averaged over all angles and displacements along the center of the cylinder 1 A in ec A 3 and the cumulative charge density per unit distance along the DNA molecule in ec A 2 This averaging is performed over the center of the DNA cylinder to avoid well known end effects The overall charge density profile can be visualized by starting Gnuplot gnuplot and typing the following commands within Gnuplot gnuplot set xlabel Radius A gnuplot set ylabel Charge density e A 3 gnuplot plot qdens dat using 1 2 title Charge density with linespoints The resulting plot shows the distribution of ions around the DNA molecule The cumulative charge density can also be plotted by gnuplot set ylabel Cumulative charge density per length e A 2 gnuplot plot qdens dat using 1 3 title Charge density with linespoints When you are done with Gnuplot simply exit by typing quit at the prompt The results of these calculations are very sensitive to grid spacing and boundary conditions this is mainly why the PB solution appears to be over screening the DNA molecule The charge distribution can also be visualized with VMD by downloading qdens vmd and running vmd e qdens vmd You can translate the DNA molecule towards you by clicking in the VMD OpenGL window and typing t and holding down the middle mouse button while dragging By doing this you can cut through the charge density isosurfaces and get a better look at how the salt is arranged around the DNA Additionally you can modify the isocontour values Graphics Representations menu item to examine regions of different salt concetration The result of all this manipulation should look something like the following image Figure 3 NaCl charge density around DNA PreviousHomeNext Calculating the potential and charge densityUpMore examples ", "_id": "http://www.ics.uci.edu/~dock/manuals/apbs/html/tutorial/x351.html", "title": "visualization", "html": "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\">\n<HTML\n><HEAD\n><TITLE\n>Visualization</TITLE\n><META\nNAME=\"GENERATOR\"\nCONTENT=\"Modular DocBook HTML Stylesheet Version 1.76b+\n\"><LINK\nREL=\"HOME\"\nTITLE=\"APBS Tutorial\"\nHREF=\"book1.html\"><LINK\nREL=\"UP\"\nTITLE=\"NaCl condensation around DNA\"\nHREF=\"c329.html\"><LINK\nREL=\"PREVIOUS\"\nTITLE=\"Calculating the potential and charge density\"\nHREF=\"x339.html\"><LINK\nREL=\"NEXT\"\nTITLE=\"More examples...\"\nHREF=\"c412.html\"></HEAD\n><BODY\nCLASS=\"sect1\"\nBGCOLOR=\"#FFFFFF\"\nTEXT=\"#000000\"\nLINK=\"#0000FF\"\nVLINK=\"#840084\"\nALINK=\"#0000FF\"\n><DIV\nCLASS=\"NAVHEADER\"\n><TABLE\nSUMMARY=\"Header navigation table\"\nWIDTH=\"100%\"\nBORDER=\"0\"\nCELLPADDING=\"0\"\nCELLSPACING=\"0\"\n><TR\n><TH\nCOLSPAN=\"3\"\nALIGN=\"center\"\n>APBS Tutorial</TH\n></TR\n><TR\n><TD\nWIDTH=\"10%\"\nALIGN=\"left\"\nVALIGN=\"bottom\"\n><A\nHREF=\"x339.html\"\nACCESSKEY=\"P\"\n>&#60;&#60;&#60; Previous</A\n></TD\n><TD\nWIDTH=\"80%\"\nALIGN=\"center\"\nVALIGN=\"bottom\"\n>NaCl condensation around DNA</TD\n><TD\nWIDTH=\"10%\"\nALIGN=\"right\"\nVALIGN=\"bottom\"\n><A\nHREF=\"c412.html\"\nACCESSKEY=\"N\"\n>Next &#62;&#62;&#62;</A\n></TD\n></TR\n></TABLE\n><HR\nALIGN=\"LEFT\"\nWIDTH=\"100%\"></DIV\n><DIV\nCLASS=\"sect1\"\n><H1\nCLASS=\"sect1\"\n><A\nNAME=\"AEN351\"\n></A\n>Visualization</H1\n><P\n>&#13;      <DIV\nCLASS=\"important\"\n><P\n></P\n><TABLE\nCLASS=\"important\"\nWIDTH=\"100%\"\nBORDER=\"0\"\n><TR\n><TD\nWIDTH=\"25\"\nALIGN=\"CENTER\"\nVALIGN=\"TOP\"\n><IMG\nSRC=\"./stylesheet-images/important.gif\"\nHSPACE=\"5\"\nALT=\"Important\"></TD\n><TD\nALIGN=\"LEFT\"\nVALIGN=\"TOP\"\n><P\n> \n          The following requires the VMD functions provided in the \n          <A\nHREF=\"examples/condensation/my_functions\"\nTARGET=\"_top\"\n>my_functions</A\n>\n          Tcl script.  Please download this before proceeding.\n        </P\n></TD\n></TR\n></TABLE\n></DIV\n>\n    </P\n><DIV\nCLASS=\"sect2\"\n><H2\nCLASS=\"sect2\"\n><A\nNAME=\"AEN357\"\n></A\n>Electrostatic potential</H2\n><P\n> The electrostatic potential can be visualized via VMD by running\n        the <A\nHREF=\"examples/condensation/pot.vmd\"\nTARGET=\"_top\"\n>pot.vmd</A\n> script\n        in VMD:\n        <TABLE\nBORDER=\"0\"\nBGCOLOR=\"#E0E0E0\"\nWIDTH=\"100%\"\n><TR\n><TD\n><PRE\nCLASS=\"screen\"\n>&#13;          <TT\nCLASS=\"prompt\"\n>$</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>vmd -e pot.vmd</B\n></TT\n>\n        </PRE\n></TD\n></TR\n></TABLE\n>\n        The result should be the rather uninteresting potential isosurface:\n        <DIV\nCLASS=\"figure\"\n><A\nNAME=\"AEN364\"\n></A\n><P\n><IMG\nSRC=\"images/dna-pot.png\"></P\n><P\n><B\n>Figure 2. DNA electrostatic potential</B\n></P\n></DIV\n>\n        which can be adjusted via the \n        <B\nCLASS=\"guimenu\"\n>Graphics</B\n>-&gt;<B\nCLASS=\"guimenuitem\"\n>Representations</B\n>\n        menu item.\n      </P\n></DIV\n><DIV\nCLASS=\"sect2\"\n><H2\nCLASS=\"sect2\"\n><A\nNAME=\"AEN370\"\n></A\n>Charge density</H2\n><P\n> The charge density for the DNA is much more interesting than the\n        electrostatic potential.  The first step in our analysis will be to\n        plot the average radial density around the DNA using the Python script\n        <A\nHREF=\"examples/condensation/density\"\nTARGET=\"_top\"\n>density</A\n>.\n        This script can then be used to process the volume-based density file\n        <TT\nCLASS=\"filename\"\n>qdens.dx</TT\n> produced by our earlier APBS run:\n        <TABLE\nBORDER=\"0\"\nBGCOLOR=\"#E0E0E0\"\nWIDTH=\"100%\"\n><TR\n><TD\n><PRE\nCLASS=\"screen\"\n>&#13;          <TT\nCLASS=\"prompt\"\n>$</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>python density qdens.dx | tee qdens.dat</B\n></TT\n>\n        </PRE\n></TD\n></TR\n></TABLE\n>\n        The result of this command will be 3 columns of data (on the screen\n        and written to <TT\nCLASS=\"filename\"\n>qdens.dat</TT\n>):  the radius (in\n        A), the charge density at the given radius averaged over all\n        angles and displacements along the center of the cylinder (+/- 10\n        A)\n        (in e<SUB\n>c</SUB\n> A<SUP\n>-3</SUP\n>), \n        and the cumulative charge density per unit distance along the DNA\n        molecule\n        (in e<SUB\n>c</SUB\n> A<SUP\n>-2</SUP\n>).\n        This averaging is performed over the center of the DNA cylinder to\n        avoid well-known \"end effects\".\n      </P\n><P\n>&#13;        The overall charge density profile can be visualized by starting \n        Gnuplot:\n        <TABLE\nBORDER=\"0\"\nBGCOLOR=\"#E0E0E0\"\nWIDTH=\"100%\"\n><TR\n><TD\n><PRE\nCLASS=\"screen\"\n>&#13;          <TT\nCLASS=\"prompt\"\n>$</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>gnuplot</B\n></TT\n>\n        </PRE\n></TD\n></TR\n></TABLE\n>\n        and typing the following commands within Gnuplot:\n        <TABLE\nBORDER=\"0\"\nBGCOLOR=\"#E0E0E0\"\nWIDTH=\"100%\"\n><TR\n><TD\n><PRE\nCLASS=\"screen\"\n>&#13;          <TT\nCLASS=\"prompt\"\n>gnuplot&#62;</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>set xlabel \"Radius (A)\"</B\n></TT\n>\n          <TT\nCLASS=\"prompt\"\n>gnuplot&#62;</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>set ylabel \"Charge density (e/A^3)\"</B\n></TT\n>\n          <TT\nCLASS=\"prompt\"\n>gnuplot&#62;</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>plot 'qdens.dat' using 1:2 title 'Charge density' with linespoints</B\n></TT\n>\n        </PRE\n></TD\n></TR\n></TABLE\n>\n        The resulting plot shows the distribution of ions around the DNA\n        molecule.  The cumulative charge density can also be plotted by:\n        <TABLE\nBORDER=\"0\"\nBGCOLOR=\"#E0E0E0\"\nWIDTH=\"100%\"\n><TR\n><TD\n><PRE\nCLASS=\"screen\"\n>&#13;          <TT\nCLASS=\"prompt\"\n>gnuplot&#62;</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>set ylabel \"Cumulative charge density per length (e/A^2)\"</B\n></TT\n>\n          <TT\nCLASS=\"prompt\"\n>gnuplot&#62;</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>plot 'qdens.dat' using 1:3 title 'Charge density' with linespoints</B\n></TT\n>\n        </PRE\n></TD\n></TR\n></TABLE\n>\n        When you are done with Gnuplot, simply exit by typing\n        <TT\nCLASS=\"userinput\"\n><B\n>quit</B\n></TT\n> at the prompt.\n        The results of these calculations are very sensitive to grid spacing\n        and boundary conditions; this is mainly why the PB solution appears to\n        be over-screening the DNA molecule.\n      </P\n><P\n>&#13;        The charge distribution can also be visualized with VMD by downloading\n        <A\nHREF=\"examples/condensation/qdens.vmd\"\nTARGET=\"_top\"\n>qdens.vmd</A\n> and\n        running:\n        <TABLE\nBORDER=\"0\"\nBGCOLOR=\"#E0E0E0\"\nWIDTH=\"100%\"\n><TR\n><TD\n><PRE\nCLASS=\"screen\"\n>&#13;          <TT\nCLASS=\"prompt\"\n>$</TT\n> <TT\nCLASS=\"userinput\"\n><B\n>vmd -e qdens.vmd</B\n></TT\n>\n        </PRE\n></TD\n></TR\n></TABLE\n>\n      </P\n><P\n>&#13;        You can translate the DNA molecule towards you by clicking in the VMD\n        OpenGL window and typing 't' and holding down the middle mouse button\n        while dragging.  By doing this, you can cut through the charge density\n        isosurfaces and get a better look at how the salt is arranged around the\n        DNA.  Additionally, you can modify the isocontour values \n        (<B\nCLASS=\"guimenu\"\n>Graphics</B\n>-&gt;<B\nCLASS=\"guimenuitem\"\n>Representations</B\n> menu item)\n        to examine regions of different salt concetration.  The result of all\n        this manipulation should look something like the following image:\n        <DIV\nCLASS=\"figure\"\n><A\nNAME=\"AEN409\"\n></A\n><P\n><IMG\nSRC=\"images/dna-qdens.png\"></P\n><P\n><B\n>Figure 3. NaCl charge density around DNA</B\n></P\n></DIV\n>\n      </P\n></DIV\n></DIV\n><DIV\nCLASS=\"NAVFOOTER\"\n><HR\nALIGN=\"LEFT\"\nWIDTH=\"100%\"><TABLE\nSUMMARY=\"Footer navigation table\"\nWIDTH=\"100%\"\nBORDER=\"0\"\nCELLPADDING=\"0\"\nCELLSPACING=\"0\"\n><TR\n><TD\nWIDTH=\"33%\"\nALIGN=\"left\"\nVALIGN=\"top\"\n><A\nHREF=\"x339.html\"\nACCESSKEY=\"P\"\n>&#60;&#60;&#60; Previous</A\n></TD\n><TD\nWIDTH=\"34%\"\nALIGN=\"center\"\nVALIGN=\"top\"\n><A\nHREF=\"book1.html\"\nACCESSKEY=\"H\"\n>Home</A\n></TD\n><TD\nWIDTH=\"33%\"\nALIGN=\"right\"\nVALIGN=\"top\"\n><A\nHREF=\"c412.html\"\nACCESSKEY=\"N\"\n>Next &#62;&#62;&#62;</A\n></TD\n></TR\n><TR\n><TD\nWIDTH=\"33%\"\nALIGN=\"left\"\nVALIGN=\"top\"\n>Calculating the potential and charge density</TD\n><TD\nWIDTH=\"34%\"\nALIGN=\"center\"\nVALIGN=\"top\"\n><A\nHREF=\"c329.html\"\nACCESSKEY=\"U\"\n>Up</A\n></TD\n><TD\nWIDTH=\"33%\"\nALIGN=\"right\"\nVALIGN=\"top\"\n>More examples...</TD\n></TR\n></TABLE\n></DIV\n></BODY\n></HTML\n>", "id": 37151.0}