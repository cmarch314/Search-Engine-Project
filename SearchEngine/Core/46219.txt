{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 137 for trunk Nomatic Gaim current client gtk plugins nomatic nomatic c View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Feb 1 2 7 1 41 12 PM 8 years ago Author djp3Message Finished ripping out completion fields File 1 edited trunk Nomatic Gaim current client gtk plugins nomatic nomatic c modified 9 diffs Legend UnmodifiedAddedRemoved trunk Nomatic Gaim current client gtk plugins nomatic nomatic c r136 r137 3636 include nomatic h 3737 include presence h 38 include completionField h 3938 include feature h 4 39 include featureCollection h 248247 249248 25 void static transferCompletionFieldToEntry GtkEntry entry 251 252 GtkEntryCompletion completion 253 int selection 254 255 completion gtk entry get completion entry 256 selection completion priv current selected 257 258 if selection 1 259 GtkListStore store 26 store GTK LIST STORE gtk entry completion get model completion 261 262 Modify a particular row 263 GtkTreeIter iter 264 GtkTreePath path 265 path gtk tree path new from indices selection 1 266 if gtk tree model get iter GTK TREE MODEL store iter path 267 if selection 268 nomaticDebugMisc NULL Nomatic Selected an item from an empty list Ignoring this n 269 gtk tree path free path 27 path NULL 271 nomaticDebugMisc NULL Nomatic Selected an item from an empty list Ignoring this n 272 273 else 274 nomaticDebugFatal NULL Nomatic Got a bad path selection d n selection 275 276 277 else 278 char str data 279 gtk tree model get GTK TREE MODEL store iter str data 1 28 nomaticDebugMisc NULL Nomatic Completion Selected s n str data 281 gtk entry set text GTK ENTRY entry str data 282 g free str data 283 284 gtk tree path free path 285 286 287 288 289 void setFreeFormContextFromUI const char newContext bool usingStructuredNow GtkEntryCompletion completion 29 291 static char lastContext 292 293 if lastContext 294 lastContext strdup 295 296 if strcmp lastContext newContext 297 free lastContext 298 lastContext strdup newContext 299 3 presenceSetFreeFormContext newContext usingStructuredNow 3 1 addCompletionString completion newContext 3 2 3 3 Add this instance to the training data 3 4 feature x featureNew 3 5 NULL 3 6 NULL 3 7 NULL 3 8 NULL NULL NULL NULL 3 9 NULL 31 NULL NULL NULL 311 presenceGetFreeFormContext 312 feature f featureSense 313 featureOverwrite f x 314 315 featureCollectionStoreFeature f 316 317 featureFree x 318 featureFree f 319 32 321 322 static gboolean matchSelectedFreeFormCB GtkEntryCompletion widget GtkTreeModel model GtkTreeIter iter GtkEntry entry 323 324 GValue v1 325 gchar value NULL 326 327 Get the string value stored at this node 328 v1 GValue g malloc sizeof GValue 329 gtk tree model get value model iter v1 33 value gchar g value peek pointer v1 331 g free v1 332 333 Get the widget box 334 GtkEntryCompletion completion 335 completion gtk entry get completion GTK ENTRY entry 336 337 setFreeFormContextFromUI value FALSE completion 338 return FALSE 339 34 341249 This function is triggered when the Nomatic Free Form Context is updated 34225 static gboolean setFreeFormContextCB GtkEntry entry GdkEventKey event gpointer data 343251 344252gboolean handleIt FALSE 345 gboolean completionSelected TRUE 346253gchar phrase 347 static int lastKey 1 348254 349255 handleIt handleIt isReturnKey event data 35 256 handleIt handleIt isFocusOutEvent event data 351257 352 This is a wierd corner case when the completion list is empty the user enters some text and then hits tab 353 if lastKey GDK Tab event keyval isFocusOutEvent event data 354 completionSelected FALSE 355 356 If the user hits Return and the textbox finds out about it then we don t want to get the phrase 357 from the completion Entry 358 if isReturnKey event data 359 completionSelected FALSE 36 361 lastKey event keyval 362 363258 if handleIt 364 if completionSelected 365 transferCompletionFieldToEntry entry 366 367 368 Manage the widget box 369 GtkEntryCompletion completion 37 completion gtk entry get completion GTK ENTRY entry 371259 phrase gchar gtk entry get text GTK ENTRY entry 37226 373 setFreeFormContextFromUI phrase FALSE completion 374 261 if presenceGetContextIsStructured strcmp presenceGetFreeFormContext phrase 262 nomaticDebugMisc NULL Nomatic FreeForm s n phrase 263 presenceSetFreeFormContext phrase FALSE 264 265 Add this instance to the training data 266 feature x featureNew 267 NULL 268 NULL 269 NULL 27 NULL NULL NULL NULL 271 NULL 272 NULL NULL NULL 273 presenceGetFreeFormContext 274 feature f featureSense 275 featureOverwrite f x 276 featureCollectionStoreFeature f 277 278 featureFree x 279 featureFree f 28 375281 376282 return FALSE 377283 378284 379 void setLocationContextFromUI const char newContext bool usingStructuredNow GtkEntryCompletion completion 38 381 static char lastContext 382 383 if lastContext 384 lastContext strdup 385 386 if strcmp lastContext newContext 387 free lastContext 388 lastContext strdup newContext 389 39 presenceSetLocationContext newContext usingStructuredNow 391 addCompletionString completion newContext 392 393 Add this instance to the training data 394 feature x featureNew NULL 395 NULL 396 NULL 397 NULL NULL NULL NULL 398 NULL 399 presenceGetActivityContext 4 presenceGetLocationContext 4 1 presenceGetSocialContext 4 2 NULL 4 3 feature f featureSense 4 4 featureOverwrite f x 4 5 featureCollectionStoreFeature f 4 6 4 7 featureFree f 4 8 featureFree x 4 9 41 411 412 413 static gboolean matchSelectedLocationCB GtkEntryCompletion widget GtkTreeModel model GtkTreeIter iter GtkEntry entry 414 415 GValue v1 416 gchar value NULL 417 418 Get the string value stored at this node 419 v1 GValue g malloc sizeof GValue 42 gtk tree model get value model iter v1 421 value gchar g value peek pointer v1 422 g free v1 423 424 Get the widget box 425 GtkEntryCompletion completion 426 completion gtk entry get completion GTK ENTRY entry 427 428 Update everything 429 setLocationContextFromUI value TRUE completion 43 return FALSE 431 432 433285 This function is triggered when the Nomatic Location Context is updated 434286static gboolean setLocationContextCB GtkEntry entry GdkEventKey event gpointer data 435287 436288gboolean handleIt FALSE 437 gboolean completionSelected TRUE 438289gchar phrase 439 static int lastKey 1 44 29 441291 handleIt handleIt isReturnKey event data 442292 handleIt handleIt isFocusOutEvent event data 443293 444 nomaticDebugMisc NULL Nomatic Callback n 445 nomaticDebugMisc NULL Nomatic last key d current key d event is s n lastKey event keyval data 446 This is a wierd corner case when the completion list is empty the user enters some text and then hits tab 447 if lastKey GDK Tab event keyval isFocusOutEvent event data 448 completionSelected FALSE 449 45 If the user hits Return and the textbox finds out about it then we don t want to get the phrase 451 from the completion Entry 452 if isReturnKey event data 453 completionSelected FALSE 454 455 lastKey event keyval 456 457294 if handleIt 458 if completionSelected 459 transferCompletionFieldToEntry entry 46 461 462 Manage the widget box 463 GtkEntryCompletion completion 464 completion gtk entry get completion GTK ENTRY entry 465295 phrase gchar gtk entry get text GTK ENTRY entry 466296 467 setLocationContextFromUI phrase TRUE completion 468 469 return FALSE 47 471 472 void setActivityContextFromUI const char newContext bool usingStructuredNow GtkEntryCompletion completion 473 474 static char lastContext NULL 475 476 if lastContext 477 lastContext strdup 478 479 if strcmp lastContext newContext 48 free lastContext 481 lastContext strdup newContext 482 483 presenceSetActivityContext newContext usingStructuredNow 484 addCompletionString completion newContext 485 486 Add this instance to the training data 487 feature x featureNew NULL 488 NULL 489 NULL 49 NULL NULL NULL NULL 491 NULL 492 presenceGetActivityContext 493 presenceGetLocationContext 494 presenceGetSocialContext 495 NULL 496 feature f featureSense 497 featureOverwrite f x 498 499 featureCollectionStoreFeature f 5 5 1 featureFree f 5 2 featureFree x 5 3 5 4 5 5 5 6 5 7 5 8 static gboolean matchSelectedActivityCB GtkEntryCompletion widget GtkTreeModel model GtkTreeIter iter GtkEntry entry 5 9 51 GValue v1 511 gchar value NULL 512 513 Get the string value stored at this node 514 v1 GValue g malloc sizeof GValue 515 gtk tree model get value model iter v1 516 value gchar g value peek pointer v1 517 g free v1 518 519 Get the widget box 52 GtkEntryCompletion completion 521 completion gtk entry get completion GTK ENTRY entry 522 523 Update everything 524 setActivityContextFromUI value TRUE completion 297 if presenceGetContextIsStructured strcmp presenceGetLocationContext phrase 298 presenceSetLocationContext phrase TRUE 299 3 Add this instance to the training data 3 1 feature x featureNew NULL 3 2 NULL 3 3 NULL 3 4 NULL NULL NULL NULL 3 5 NULL 3 6 presenceGetActivityContext 3 7 presenceGetLocationContext 3 8 presenceGetSocialContext 3 9 NULL 31 feature f featureSense 311 featureOverwrite f x 312 featureCollectionStoreFeature f 313 314 featureFree f 315 featureFree x 316 317 525318 return FALSE 526319 53 323 531324gboolean handleIt FALSE 532 gboolean completionSelected TRUE 533325gchar phrase 534 static int lastKey 1 535326 536327 handleIt handleIt isReturnKey event data 537328 handleIt handleIt isFocusOutEvent event data 538329 539 This is a wierd corner case when the completion list is empty the user enters some text and then hits tab 54 if lastKey GDK Tab event keyval isFocusOutEvent event data 541 completionSelected FALSE 542 543 If the user hits Return and the textbox finds out about it then we don t want to get the phrase 544 from the completion Entry 545 if isReturnKey event data 546 completionSelected FALSE 547 548 lastKey event keyval 549 55 33 if handleIt 551 if completionSelected 552 transferCompletionFieldToEntry entry 553 554 555 Manage the widget box 556 GtkEntryCompletion completion 557 completion gtk entry get completion GTK ENTRY entry 558331 phrase gchar gtk entry get text GTK ENTRY entry 559332 56 setActivityContextFromUI phrase TRUE completion 561 333 if presenceGetContextIsStructured strcmp presenceGetActivityContext phrase 334 335 presenceSetActivityContext phrase TRUE 336 337 Add this instance to the training data 338 feature x featureNew NULL 339 NULL 34 NULL 341 NULL NULL NULL NULL 342 NULL 343 presenceGetActivityContext 344 presenceGetLocationContext 345 presenceGetSocialContext 346 NULL 347 feature f featureSense 348 featureOverwrite f x 349 35 featureCollectionStoreFeature f 351 352 featureFree f 353 featureFree x 354 562355 563356 return FALSE 564357 565358 566 567 void setSocialContextFromUI const char newContext bool usingStructuredNow GtkEntryCompletion completion 568 569 static char lastContext NULL 57 571 if lastContext 572 lastContext strdup 573 574 Don t update if there isn t any change 575 if strcmp lastContext newContext 576 free lastContext 577 lastContext strdup newContext 578 579 presenceSetSocialContext newContext usingStructuredNow 58 addCompletionString completion newContext 581 582 Add this instance to the training data 583 feature x featureNew NULL 584 NULL 585 NULL 586 NULL NULL NULL NULL 587 NULL 588 presenceGetActivityContext 589 presenceGetLocationContext 59 presenceGetSocialContext 591 NULL 592 feature f featureSense 593 featureOverwrite f x 594 595 featureCollectionStoreFeature f 596 597 featureFree f 598 featureFree x 599 6 6 1 6 2 6 3 static gboolean matchSelectedSocialContextCB GtkEntryCompletion widget GtkTreeModel model GtkTreeIter iter GtkEntry entry 6 4 6 5 GValue v1 6 6 gchar value NULL 6 7 6 8 Get the string value stored at this node 6 9 v1 GValue g malloc sizeof GValue 61 gtk tree model get value model iter v1 611 value gchar g value peek pointer v1 612 g free v1 613 614 Get the widget box 615 GtkEntryCompletion completion 616 completion gtk entry get completion GTK ENTRY entry 617 618 Update everything 619 setSocialContextFromUI value TRUE completion 62 return FALSE 621 622359 62336 This function is triggered when the Nomatic Social Context is updated 625362 626363gboolean handleIt FALSE 627 gboolean completionSelected TRUE 628364gchar phrase 629 static int lastKey 1 63 365 631366 handleIt handleIt isReturnKey event data 632367 handleIt handleIt isFocusOutEvent event data 633368 634 This is a wierd corner case when the completion list is empty the user enters some text and then hits tab 635 if lastKey GDK Tab event keyval isFocusOutEvent event data 636 completionSelected FALSE 637 638 If the user hits Return and the textbox finds out about it then we don t want to get the phrase 639 from the completion Entry 64 if isReturnKey event data 641 completionSelected FALSE 642 643 lastKey event keyval 644 645369 if handleIt 646 if completionSelected 647 transferCompletionFieldToEntry entry 648 649 65 Manage the widget box 651 GtkEntryCompletion completion 652 completion gtk entry get completion GTK ENTRY entry 65337 phrase gchar gtk entry get text GTK ENTRY entry 654371 655 setSocialContextFromUI phrase TRUE completion 656 372 if presenceGetContextIsStructured strcmp presenceGetSocialContext phrase 373 presenceSetSocialContext phrase TRUE 374 375 Add this instance to the training data 376 feature x featureNew NULL 377 NULL 378 NULL 379 NULL NULL NULL NULL 38 NULL 381 presenceGetActivityContext 382 presenceGetLocationContext 383 presenceGetSocialContext 384 NULL 385 feature f featureSense 386 featureOverwrite f x 387 featureCollectionStoreFeature f 388 389 featureFree f 39 featureFree x 391 657392 658393 return FALSE 7695 4 gtk box pack start GTK BOX hbox text textbox TRUE TRUE 77 5 5 771 GtkEntryCompletion completion 772 7735 6 Textbox Location 7745 7 locationContextTextbox gtk entry new 77751 gtk box pack start GTK BOX hbox text locationContextTextbox TRUE TRUE 778511 779 completion initializeTextBoxWithCompletionField locationContextTextbox 78 g signal connect G OBJECT completion match selected G CALLBACK matchSelectedLocationCB locationContextTextbox 781 782512 g signal connect G OBJECT locationContextTextbox key press event 783513 G CALLBACK setLocationContextCB key press event 793523 gtk widget set size request activityContextTextbox 3 2 794524 gtk box pack start GTK BOX hbox text activityContextTextbox TRUE TRUE 795 796 completion initializeTextBoxWithCompletionField activityContextTextbox 797 g signal connect G OBJECT completion match selected G CALLBACK matchSelectedActivityCB activityContextTextbox 798525 799526 g signal connect G OBJECT activityContextTextbox key press event 8 9536 gtk box pack start GTK BOX hbox text socialContextTextbox TRUE TRUE 81 537 811 completion initializeTextBoxWithCompletionField socialContextTextbox 812 813 g signal connect G OBJECT completion match selected G CALLBACK matchSelectedSocialContextCB socialContextTextbox 814 815538 g signal connect G OBJECT socialContextTextbox key press event 816539 G CALLBACK setSocialContextCB key press event 838561 839562 gtk box pack start GTK BOX hbox cus freeFormContextTextbox TRUE TRUE 84 completion initializeTextBoxWithCompletionField freeFormContextTextbox 841 842 TODO Bring this back into the code 843 featureCollectionTransferToCompletionField locationContextTextbox 844 activityContextTextbox 845 socialStatusTextbox 846 freeFormContextTextbox 847 848 g signal connect G OBJECT completion match selected G CALLBACK matchSelectedFreeFormCB freeFormContextTextbox 849 563 85 564 g signal connect G OBJECT freeFormContextTextbox key press event 851565 G CALLBACK setFreeFormContextCB key press event Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/137/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c", "title": "\n      changeset 137 for trunk/nomatic*gaim/current/client/gtk/plugins/nomatic/nomatic.c \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 137 for trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=137\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=137\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/138/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" title=\"Changeset 138 for trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/136/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" title=\"Changeset 136 for trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/136/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" title=\"Changeset 136 for trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/138/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" title=\"Changeset 138 for trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/137\">137</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Feb 1, 2007, 1:41:12 PM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2007-02-01T13%3A41%3A12-08%3A00&amp;precision=second\" title=\"See timeline at Feb 1, 2007, 1:41:12 PM\">8 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nFinished ripping out completion fields<br />\n</p>\n\n            \n            \n          </dd>\n        <dt class=\"property files\">\n          File:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>1 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137\">\n              trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">9 diffs</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/137/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" title=\"Show the changeset 137 restricted to trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 136\">\n                    <a title=\"Show revision 136 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L36\">\n                      r136</a>\n                  </th>\n                  <th title=\"Revision 137\">\n                    <a title=\"Show revision 137 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L36\">\n                      r137</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>36</th><th>36</th><td class=\"l\"><span>#include \"nomatic.h\"</span>\u00a0</td>\n                  </tr><tr>\n                          <th>37</th><th>37</th><td class=\"l\"><span>#include \"presence.h\"</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>38</th><th>\u00a0</th><td class=\"l\"><del>#include \"completionField.h\"</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>39</th><th>38</th><td class=\"l\"><span>#include \"feature.h\"</span>\u00a0</td>\n                  </tr><tr>\n                          <th>40</th><th>39</th><td class=\"l\"><span>#include \"featureCollection.h\"</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L248\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L247\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>248</th><th>247</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>249</th><th>248</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>250</th><th>\u00a0</th><td class=\"l\"><del>void static transferCompletionFieldToEntry(GtkEntry *entry)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>251</th><th>\u00a0</th><td class=\"l\"><del>{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>252</th><th>\u00a0</th><td class=\"l\"><del>GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>253</th><th>\u00a0</th><td class=\"l\"><del>int selection;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>254</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>255</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(entry);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>256</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; selection = completion-&gt;priv-&gt;current_selected;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>257</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>258</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(selection != -1){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>259</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkListStore *store;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>260</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; store = GTK_LIST_STORE(gtk_entry_completion_get_model(completion));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>261</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>262</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Modify a particular row */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>263</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkTreeIter iter;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>264</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkTreePath *path;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>265</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; path = gtk_tree_path_new_from_indices (selection,-1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>266</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!gtk_tree_model_get_iter (GTK_TREE_MODEL (store),&amp;iter, path)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>267</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(selection == 0){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>268</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: Selected an item from an empty list - Ignoring this\\n\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>269</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_path_free (path);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>270</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; path = NULL;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>271</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: Selected an item from an empty list - Ignoring this\\n\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>272</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>273</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>274</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugFatal(NULL,\"Nomatic: Got a bad path, selection=%d\\n\",selection);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>275</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>276</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>277</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>278</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *str_data;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>279</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_model_get(GTK_TREE_MODEL(store),&amp;iter,0,&amp;str_data,-1);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>280</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: Completion Selected %s\\n\",str_data);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>281</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(entry),str_data);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>282</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(str_data);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>283</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>284</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_path_free (path);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>285</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>286</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>287</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr><tr>\n                          <th>288</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>289</th><th>\u00a0</th><td class=\"l\"><del>void setFreeFormContextFromUI(const char *newContext,bool usingStructuredNow, GtkEntryCompletion *completion)</del>\u00a0</td>\n                  </tr><tr>\n                          <th>290</th><th>\u00a0</th><td class=\"l\"><del>{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>291</th><th>\u00a0</th><td class=\"l\"><del>static char *lastContext;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>292</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>293</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(!lastContext){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>294</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(\"\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>295</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>296</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(strcmp(lastContext,newContext) != 0){&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>297</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(lastContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>298</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(newContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>299</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>300</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetFreeFormContext(newContext,usingStructuredNow);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>301</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addCompletionString(completion,newContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>302</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>303</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>304</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(</del>\u00a0</td>\n                  </tr><tr>\n                          <th>305</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>306</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>307</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>308</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>309</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>310</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>311</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetFreeFormContext());</del>\u00a0</td>\n                  </tr><tr>\n                          <th>312</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>313</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>314</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>315</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>316</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>317</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>318</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>319</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>320</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr><tr>\n                          <th>321</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>322</th><th>\u00a0</th><td class=\"l\"><del>static gboolean matchSelectedFreeFormCB(GtkEntryCompletion *widget,GtkTreeModel *model,GtkTreeIter *iter,GtkEntry *entry)&nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>323</th><th>\u00a0</th><td class=\"l\"><del>{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>324</th><th>\u00a0</th><td class=\"l\"><del>GValue *v1;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>325</th><th>\u00a0</th><td class=\"l\"><del>gchar *value = NULL;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>326</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>327</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the string value stored at this node */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>328</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; v1 = (GValue *) g_malloc0 (sizeof(GValue));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>329</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_model_get_value(model,iter,0,v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>330</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; value = (gchar*) g_value_peek_pointer(v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>331</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; g_free(v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>332</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>333</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the widget box */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>334</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>335</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>336</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>337</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; setFreeFormContextFromUI(value,FALSE,completion);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>338</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>339</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>340</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>341</th><th>249</th><td class=\"l\"><span>// This function is triggered when the Nomatic Free Form Context is updated</span>\u00a0</td>\n                  </tr><tr>\n                          <th>342</th><th>250</th><td class=\"l\"><span>static gboolean setFreeFormContextCB (GtkEntry *entry, GdkEventKey *event, gpointer data)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>343</th><th>251</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>344</th><th>252</th><td class=\"l\"><span>gboolean handleIt = FALSE;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>345</th><th>\u00a0</th><td class=\"l\"><del>gboolean completionSelected = TRUE;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>346</th><th>253</th><td class=\"l\"><span>gchar *phrase;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>347</th><th>\u00a0</th><td class=\"l\"><del>static int lastKey = -1;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>348</th><th>254</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>349</th><th>255</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isReturnKey(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>350</th><th>256</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isFocusOutEvent(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>351</th><th>257</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>352</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /*This is a wierd corner case when the completion list is empty, the user enters some text and then hits tab */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>353</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if((lastKey == GDK_Tab) &amp;&amp; (event-&gt;keyval == 0) &amp;&amp; isFocusOutEvent(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>354</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>355</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>356</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* If the user hits Return and the textbox finds out about it then we don't want to get the phrase </del>\u00a0</td>\n                  </tr><tr>\n                          <th>357</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* from the completion Entry*/</del>\u00a0</td>\n                  </tr><tr>\n                          <th>358</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(isReturnKey(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>359</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>360</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>361</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; lastKey = event-&gt;keyval;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>362</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>363</th><th>258</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(handleIt){</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>364</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(completionSelected){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>365</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transferCompletionFieldToEntry(entry);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>366</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>367</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>368</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Manage the widget box */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>369</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>370</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>371</th><th>259</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; phrase = (gchar *)gtk_entry_get_text(GTK_ENTRY(entry));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>372</th><th>260</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>373</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; setFreeFormContextFromUI(phrase,FALSE,completion);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>374</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>261</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(presenceGetContextIsStructured() || (strcmp(presenceGetFreeFormContext(),phrase) != 0)){&nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>262</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: FreeForm: %s:\\n\",phrase);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>263</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetFreeFormContext(phrase,FALSE);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>264</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>265</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>266</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>267</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>268</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>269</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>270</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>271</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>272</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>273</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetFreeFormContext());</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>274</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>275</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>276</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>277</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>278</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>279</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>280</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>375</th><th>281</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>376</th><th>282</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>377</th><th>283</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>378</th><th>284</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>379</th><th>\u00a0</th><td class=\"l\"><del>void setLocationContextFromUI(const char *newContext,bool usingStructuredNow, GtkEntryCompletion *completion)</del>\u00a0</td>\n                  </tr><tr>\n                          <th>380</th><th>\u00a0</th><td class=\"l\"><del>{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>381</th><th>\u00a0</th><td class=\"l\"><del>static char *lastContext;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>382</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>383</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(!lastContext){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>384</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(\"\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>385</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>386</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(strcmp(lastContext,newContext) != 0){&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>387</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(lastContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>388</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(newContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>389</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>390</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetLocationContext(newContext,usingStructuredNow);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>391</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addCompletionString(completion,newContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>392</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>393</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>394</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>395</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>396</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>397</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>398</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>399</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetActivityContext(),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>400</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetLocationContext(),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>401</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetSocialContext(),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>402</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>403</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>404</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>405</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>406</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>407</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>408</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>409</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>410</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr><tr>\n                          <th>411</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>412</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>413</th><th>\u00a0</th><td class=\"l\"><del>static gboolean matchSelectedLocationCB(GtkEntryCompletion *widget,GtkTreeModel *model,GtkTreeIter *iter,GtkEntry *entry)&nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>414</th><th>\u00a0</th><td class=\"l\"><del>{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>415</th><th>\u00a0</th><td class=\"l\"><del>GValue *v1;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>416</th><th>\u00a0</th><td class=\"l\"><del>gchar *value = NULL;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>417</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>418</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the string value stored at this node */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>419</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; v1 = (GValue *) g_malloc0 (sizeof(GValue));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>420</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_model_get_value(model,iter,0,v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>421</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; value = (gchar*) g_value_peek_pointer(v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>422</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; g_free(v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>423</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>424</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the widget box */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>425</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>426</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>427</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>428</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Update everything */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>429</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; setLocationContextFromUI(value,TRUE,completion);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>430</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>431</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>432</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>433</th><th>285</th><td class=\"l\"><span>// This function is triggered when the Nomatic Location Context is updated</span>\u00a0</td>\n                  </tr><tr>\n                          <th>434</th><th>286</th><td class=\"l\"><span>static gboolean setLocationContextCB (GtkEntry *entry, GdkEventKey *event, gpointer data)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>435</th><th>287</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>436</th><th>288</th><td class=\"l\"><span>gboolean handleIt = FALSE;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>437</th><th>\u00a0</th><td class=\"l\"><del>gboolean completionSelected = TRUE;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>438</th><th>289</th><td class=\"l\"><span>gchar *phrase;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>439</th><th>\u00a0</th><td class=\"l\"><del>static int lastKey = -1;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>440</th><th>290</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>441</th><th>291</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isReturnKey(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>442</th><th>292</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isFocusOutEvent(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>443</th><th>293</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>444</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; //nomaticDebugMisc(NULL,\"Nomatic: Callback\\n\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>445</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; //nomaticDebugMisc(NULL,\"Nomatic: last key = %d, current key = %d, event is %s\\n\",lastKey, event-&gt;keyval, data);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>446</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /*This is a wierd corner case when the completion list is empty, the user enters some text and then hits tab */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>447</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if((lastKey == GDK_Tab) &amp;&amp; (event-&gt;keyval == 0) &amp;&amp; isFocusOutEvent(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>448</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>449</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>450</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* If the user hits Return and the textbox finds out about it then we don't want to get the phrase </del>\u00a0</td>\n                  </tr><tr>\n                          <th>451</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* from the completion Entry*/</del>\u00a0</td>\n                  </tr><tr>\n                          <th>452</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(isReturnKey(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>453</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>454</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>455</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; lastKey = event-&gt;keyval;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>456</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>457</th><th>294</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(handleIt){</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>458</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(completionSelected){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>459</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transferCompletionFieldToEntry(entry);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>460</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>461</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>462</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Manage the widget box */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>463</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>464</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>465</th><th>295</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; phrase = (gchar *)gtk_entry_get_text(GTK_ENTRY(entry));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>466</th><th>296</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>467</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; setLocationContextFromUI(phrase,TRUE,completion);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>468</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>469</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>470</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>471</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>472</th><th>\u00a0</th><td class=\"l\"><span>void setActivityContextFromUI(const char *newContext,bool usingStructuredNow, GtkEntryCompletion *completion)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>473</th><th>\u00a0</th><td class=\"l\"><span>{&nbsp; &nbsp; &nbsp; &nbsp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>474</th><th>\u00a0</th><td class=\"l\"><span>static char *lastContext=NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>475</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>476</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(!lastContext){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>477</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(\"\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>478</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>479</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(strcmp(lastContext,newContext) != 0){&nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>480</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(lastContext);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>481</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(newContext);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>482</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>483</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetActivityContext(newContext,usingStructuredNow);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>484</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addCompletionString(completion,newContext);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>485</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>486</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>487</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>488</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>489</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>490</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>491</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>492</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetActivityContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>493</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetLocationContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>494</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetSocialContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>495</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>496</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>497</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>498</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>499</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>500</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>501</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>502</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>503</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>504</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>505</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>506</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>507</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>508</th><th>\u00a0</th><td class=\"l\"><span>static gboolean matchSelectedActivityCB(GtkEntryCompletion *widget,GtkTreeModel *model,GtkTreeIter *iter,GtkEntry *entry)&nbsp; &nbsp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>509</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>510</th><th>\u00a0</th><td class=\"l\"><span>GValue *v1;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>511</th><th>\u00a0</th><td class=\"l\"><span>gchar *value = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>512</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>513</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the string value stored at this node */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>514</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; v1 = (GValue *) g_malloc0 (sizeof(GValue));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>515</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_model_get_value(model,iter,0,v1);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>516</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; value = (gchar*) g_value_peek_pointer(v1);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>517</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(v1);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>518</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>519</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the widget box */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>520</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>521</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>522</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>523</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Update everything */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>524</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; setActivityContextFromUI(value,TRUE,completion);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>297</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((!presenceGetContextIsStructured()) || (strcmp(presenceGetLocationContext(),phrase) != 0)){&nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>298</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetLocationContext(phrase,TRUE);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>299</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>300</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>301</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>302</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>303</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>304</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>305</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>306</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetActivityContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>307</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetLocationContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>308</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetSocialContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>309</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>310</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>311</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>312</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>313</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>314</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>315</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>316</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>317</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>525</th><th>318</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>526</th><th>319</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L530\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L323\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>530</th><th>323</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>531</th><th>324</th><td class=\"l\"><span>gboolean handleIt = FALSE;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>532</th><th>\u00a0</th><td class=\"l\"><del>gboolean completionSelected = TRUE;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>533</th><th>325</th><td class=\"l\"><span>gchar *phrase;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>534</th><th>\u00a0</th><td class=\"l\"><del>static int lastKey = -1;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>535</th><th>326</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>536</th><th>327</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isReturnKey(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>537</th><th>328</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isFocusOutEvent(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>538</th><th>329</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>539</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /*This is a wierd corner case when the completion list is empty, the user enters some text and then hits tab */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>540</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if((lastKey == GDK_Tab) &amp;&amp; (event-&gt;keyval == 0) &amp;&amp; isFocusOutEvent(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>541</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>542</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>543</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* If the user hits Return and the textbox finds out about it then we don't want to get the phrase </del>\u00a0</td>\n                  </tr><tr>\n                          <th>544</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* from the completion Entry*/</del>\u00a0</td>\n                  </tr><tr>\n                          <th>545</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(isReturnKey(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>546</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>547</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>548</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; lastKey = event-&gt;keyval;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>549</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>550</th><th>330</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(handleIt){</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>551</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(completionSelected){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>552</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transferCompletionFieldToEntry(entry);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>553</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>554</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>555</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Manage the widget box */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>556</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>557</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>558</th><th>331</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; phrase = (gchar *)gtk_entry_get_text(GTK_ENTRY(entry));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>559</th><th>332</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>560</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; setActivityContextFromUI(phrase,TRUE,completion);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>561</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>333</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((!presenceGetContextIsStructured()) || (strcmp(presenceGetActivityContext(),phrase) != 0)){&nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>334</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>335</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetActivityContext(phrase,TRUE);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>336</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>337</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>338</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>339</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>340</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>341</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>342</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>343</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetActivityContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>344</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetLocationContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>345</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetSocialContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>346</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>347</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>348</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>349</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>350</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>351</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>352</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>353</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>354</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>562</th><th>355</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>563</th><th>356</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>564</th><th>357</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>565</th><th>358</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>566</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>567</th><th>\u00a0</th><td class=\"l\"><del>void setSocialContextFromUI(const char *newContext,bool usingStructuredNow, GtkEntryCompletion *completion)</del>\u00a0</td>\n                  </tr><tr>\n                          <th>568</th><th>\u00a0</th><td class=\"l\"><del>{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>569</th><th>\u00a0</th><td class=\"l\"><del>static char *lastContext=NULL;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>570</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>571</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(!lastContext){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>572</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(\"\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>573</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>574</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Don't update if there isn't any change</del>\u00a0</td>\n                  </tr><tr>\n                          <th>575</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(strcmp(lastContext,newContext) != 0){&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>576</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(lastContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>577</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastContext = strdup(newContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>578</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>579</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetSocialContext(newContext,usingStructuredNow);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>580</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addCompletionString(completion,newContext);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>581</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>582</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>583</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>584</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>585</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>586</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>587</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>588</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetActivityContext(),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>589</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetLocationContext(),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>590</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetSocialContext(),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>591</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>592</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>593</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>594</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>595</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>596</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>597</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>598</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>599</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>600</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr><tr>\n                          <th>601</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>602</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>603</th><th>\u00a0</th><td class=\"l\"><del>static gboolean matchSelectedSocialContextCB(GtkEntryCompletion *widget,GtkTreeModel *model,GtkTreeIter *iter,GtkEntry *entry)&nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>604</th><th>\u00a0</th><td class=\"l\"><del>{</del>\u00a0</td>\n                  </tr><tr>\n                          <th>605</th><th>\u00a0</th><td class=\"l\"><del>GValue *v1;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>606</th><th>\u00a0</th><td class=\"l\"><del>gchar *value = NULL;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>607</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>608</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the string value stored at this node */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>609</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; v1 = (GValue *) g_malloc0 (sizeof(GValue));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>610</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_model_get_value(model,iter,0,v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>611</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; value = (gchar*) g_value_peek_pointer(v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>612</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; g_free(v1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>613</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>614</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Get the widget box */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>615</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>616</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>617</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>618</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Update everything */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>619</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; setSocialContextFromUI(value,TRUE,completion);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>620</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>621</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>622</th><th>359</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>623</th><th>360</th><td class=\"l\"><span>// This function is triggered when the Nomatic Social Context is updated</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L625\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L362\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>625</th><th>362</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>626</th><th>363</th><td class=\"l\"><span>gboolean handleIt = FALSE;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>627</th><th>\u00a0</th><td class=\"l\"><del>gboolean completionSelected = TRUE;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>628</th><th>364</th><td class=\"l\"><span>gchar *phrase;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>629</th><th>\u00a0</th><td class=\"l\"><del>static int lastKey = -1;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>630</th><th>365</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>631</th><th>366</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isReturnKey(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>632</th><th>367</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; handleIt = handleIt || isFocusOutEvent(event,data);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>633</th><th>368</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>634</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /*This is a wierd corner case when the completion list is empty, the user enters some text and then hits tab */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>635</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if((lastKey == GDK_Tab) &amp;&amp; (event-&gt;keyval == 0) &amp;&amp; isFocusOutEvent(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>636</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>637</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>638</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* If the user hits Return and the textbox finds out about it then we don't want to get the phrase </del>\u00a0</td>\n                  </tr><tr>\n                          <th>639</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* from the completion Entry*/</del>\u00a0</td>\n                  </tr><tr>\n                          <th>640</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; if(isReturnKey(event,data)){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>641</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionSelected = FALSE;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>642</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>643</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; lastKey = event-&gt;keyval;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>644</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>645</th><th>369</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(handleIt){</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>646</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(completionSelected){</del>\u00a0</td>\n                  </tr><tr>\n                          <th>647</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transferCompletionFieldToEntry(entry);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>648</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>649</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>650</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Manage the widget box */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>651</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>652</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completion = gtk_entry_get_completion(GTK_ENTRY(entry));</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>653</th><th>370</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; phrase = (gchar *)gtk_entry_get_text(GTK_ENTRY(entry));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>654</th><th>371</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>655</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; setSocialContextFromUI(phrase,TRUE,completion);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>656</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>372</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((!presenceGetContextIsStructured()) || (strcmp(presenceGetSocialContext(),phrase) != 0)){&nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>373</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetSocialContext(phrase,TRUE);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>374</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>375</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Add this instance to the training data */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>376</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *x = featureNew(NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>377</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>378</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>379</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,NULL,NULL,NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>380</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>381</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetActivityContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>382</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetLocationContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>383</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceGetSocialContext(),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>384</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>385</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>386</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>387</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureCollectionStoreFeature(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>388</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>389</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>390</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(x);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>391</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>657</th><th>392</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>658</th><th>393</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L769\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L504\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>769</th><th>504</th><td class=\"l\"><span>//&nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_text), textbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>770</th><th>505</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>771</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; GtkEntryCompletion *completion;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>772</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>773</th><th>506</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Textbox - Location</span>\u00a0</td>\n                  </tr><tr>\n                          <th>774</th><th>507</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; locationContextTextbox = gtk_entry_new();</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L777\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L510\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>777</th><th>510</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_text), locationContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>778</th><th>511</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>779</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; completion=initializeTextBoxWithCompletionField(locationContextTextbox);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>780</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (completion), \"match-selected\", G_CALLBACK (matchSelectedLocationCB), locationContextTextbox);</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>781</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>782</th><th>512</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (locationContextTextbox), \"key_press_event\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>783</th><th>513</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setLocationContextCB), \"key_press_event\");</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L793\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L523\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>793</th><th>523</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request (activityContextTextbox, 30, 20);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>794</th><th>524</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_text), activityContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>795</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>796</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; completion=initializeTextBoxWithCompletionField(activityContextTextbox);</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>797</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (completion), \"match-selected\", G_CALLBACK (matchSelectedActivityCB), activityContextTextbox);</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>798</th><th>525</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>799</th><th>526</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (activityContextTextbox), \"key_press_event\",</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L809\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L536\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>809</th><th>536</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_text), socialContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>810</th><th>537</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>811</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; completion=initializeTextBoxWithCompletionField(socialContextTextbox);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>812</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>813</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (completion), \"match-selected\", G_CALLBACK (matchSelectedSocialContextCB), socialContextTextbox);</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>814</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>815</th><th>538</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (socialContextTextbox), \"key_press_event\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>816</th><th>539</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setSocialContextCB), \"key_press_event\");</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=136#L838\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=137#L561\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>838</th><th>561</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>839</th><th>562</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_cus), freeFormContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>840</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; completion = initializeTextBoxWithCompletionField(freeFormContextTextbox);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>841</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>842</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //TODO: Bring this back into the code</span>\u00a0</td>\n                      </tr><tr>\n                        <th>843</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /*featureCollectionTransferToCompletionField( locationContextTextbox,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>844</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; activityContextTextbox,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>845</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; socialStatusTextbox,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>846</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; freeFormContextTextbox);*/</span>\u00a0</td>\n                      </tr><tr>\n                        <th>847</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>848</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (completion), \"match-selected\", G_CALLBACK (matchSelectedFreeFormCB), freeFormContextTextbox);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>849</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>563</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>850</th><th>564</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (freeFormContextTextbox), \"key_press_event\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>851</th><th>565</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setFreeFormContextCB), \"key_press_event\");</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=137\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=137\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 46219.0}