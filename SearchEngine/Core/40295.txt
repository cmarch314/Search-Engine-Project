{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 228 for vendor current gtk plugins timestamp c View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Mar 6 2 7 1 39 26 PM 8 years ago Author djp3Message Updating from gaim Repository File 1 edited vendor current gtk plugins timestamp c modified 9 diffs Legend UnmodifiedAddedRemoved vendor current gtk plugins timestamp c r65 r228 11 2 Gaim iChat like timestamps 2 Gaim iChat style timestamps 33 44 Copyright C 2 2 2 3 Sean Egan 55 Copyright C 2 3 Chris J Friesen Darth Sebulba 4 yahoo com 6 Copyright C 2 7 Andrew Gaul andrew gaul org 67 78 This program is free software you can redistribute it and or modify 3536 define TIMESTAMP PLUGIN ID gtk timestamp 3637 37 Set the default to 5 minutes 38 static int interval 5 6 1 39 4 static GSList timestamp timeouts NULL 41 42 static gboolean 43 do timestamp gpointer data 44 45 GaimConversation c GaimConversation data 46 GaimGtkConversation conv GAIM GTK CONVERSATION c 38 minutes externally seconds internally and milliseconds in preferences 39static int interval 5 6 4 41static void 42timestamp display GaimConversation conv time t then time t now 43 44 GaimGtkConversation gtk conv GAIM GTK CONVERSATION conv 45 GtkWidget imhtml gtk conv imhtml 46 GtkTextBuffer buffer gtk text view get buffer GTK TEXT VIEW imhtml 4747 GtkTextIter iter 4848 const char mdate 49 int is conversation active 5 time t tim time NULL 51 52 if g list find gaim get conversations c 53 return FALSE 54 55 is conversation active is true if an im has been displayed since the last timestamp 56 is conversation active GPOINTER TO INT gaim conversation get data c timestamp conv active 57 58 if is conversation active 59 int y height 6 GdkRectangle rect 61 gboolean scroll TRUE 62 GtkWidget imhtml conv imhtml 63 GtkTextBuffer buffer gtk text view get buffer GTK TEXT VIEW imhtml 64 gtk text buffer get end iter buffer iter 65 gaim conversation set data c timestamp conv active GINT TO POINTER FALSE 66 mdate gaim utf8 strftime n H M localtime tim 67 gtk text view get visible rect GTK TEXT VIEW imhtml rect 68 gtk text view get line yrange GTK TEXT VIEW imhtml iter y height 69 if y height rect y rect height height 7 gtk text buffer get char count buffer 71 scroll FALSE 72 73 gtk text buffer insert with tags by name buffer iter mdate strlen mdate TIMESTAMP NULL 74 if scroll 75 gtk imhtml scroll to end GTK IMHTML imhtml gaim prefs get bool gaim gtk conversations use smooth scrolling 49 int y height 5 GdkRectangle rect 51 52 display timestamp 53 mdate gaim utf8 strftime then H M n H M 54 localtime now 55 gtk text buffer get end iter buffer iter 56 gtk text buffer insert with tags by name buffer iter mdate 57 strlen mdate TIMESTAMP NULL 58 59 scroll view if necessary 6 gtk text view get visible rect GTK TEXT VIEW imhtml rect 61 gtk text view get line yrange 62 GTK TEXT VIEW imhtml iter y height 63 if y height rect y rect height height 64 gtk text buffer get char count buffer 65 gboolean smooth gaim prefs get bool 66 gaim gtk conversations use smooth scrolling 67 gtk imhtml scroll to end GTK IMHTML imhtml smooth 7668 77 else 78 gaim conversation set data c timestamp enabled GINT TO POINTER FALSE 79 8 return TRUE 81 82 69 837 8471static gboolean 85 timestamp displaying conv msg GaimAccount account const char who char buffer 86 GaimConversation conv GaimMessageFlags flags void data 87 88 int is timestamp enabled 72timestamp displaying conv msg GaimAccount account const char who 73 char buffer GaimConversation conv 74 GaimMessageFlags flags void data 75 76 time t now time NULL interval interval 77 time t then 8978 9 79 if g list find gaim get conversations conv 918 return FALSE 9281 93 set to true since there has been an im since the last timestamp 94 gaim conversation set data conv timestamp conv active GINT TO POINTER TRUE 95 96 is timestamp enabled GPOINTER TO INT gaim conversation get data conv timestamp enabled 97 98 if is timestamp enabled 99 gaim conversation set data conv timestamp enabled GINT TO POINTER TRUE 1 do timestamp gpointer conv 82 then GPOINTER TO INT gaim conversation get data 83 conv timestamp last 84 85 if now then interval 86 timestamp display conv then now 87 gaim conversation set data 88 conv timestamp last GINT TO POINTER now 1 189 1 29 1 492 1 593 1 6 static void timestamp new convo GaimConversation conv 1 7 1 8 GaimGtkConversation c GAIM GTK CONVERSATION conv 94static void 95timestamp new convo GaimConversation conv 96 97 GaimGtkConversation gtk conv GAIM GTK CONVERSATION conv 98 GtkTextBuffer buffer 1 999 11 1 if g list find gaim get conversations conv 1111 1 return 1121 2 113 114 This if statement stops conversations that have already been initialized for timestamps 115 from being reinitialized This prevents every active conversation from immediately being spammed 116 with a new timestamp when the user modifies the timer interval 117 118 if gaim conversation get data conv timestamp initialized 119 GtkTextBuffer buffer gtk text view get buffer GTK TEXT VIEW c imhtml 12 gaim conversation set data conv timestamp initialized GINT TO POINTER TRUE 121 gaim conversation set data conv timestamp enabled GINT TO POINTER TRUE 122 gaim conversation set data conv timestamp conv active GINT TO POINTER TRUE 123 gtk text buffer create tag buffer TIMESTAMP foreground 888888 justification GTK JUSTIFY CENTER 124 weight PANGO WEIGHT BOLD NULL 125 do timestamp conv 126 127 128 timestamp timeouts g slist append timestamp timeouts 129 GINT TO POINTER g timeout add interval do timestamp conv 13 131 132 133 static void destroy timer list 134 135 GSList to 136 137 for to timestamp timeouts to NULL to to next 138 g source remove GPOINTER TO INT to data 139 14 g slist free timestamp timeouts 141 142 timestamp timeouts NULL 143 144 145 static void init timer list 146 147 GList cnvs 148 GaimConversation c 149 15 if timestamp timeouts NULL 151 destroy timer list 152 153 for cnvs gaim get conversations cnvs NULL cnvs cnvs next 154 c cnvs data 155 timestamp new convo c 156 157 158 159 16 161 static void set timestamp GtkWidget spinner void null 1 3 buffer gtk text view get buffer GTK TEXT VIEW gtk conv imhtml 1 4 gtk text buffer create tag buffer TIMESTAMP 1 5 foreground 888888 justification GTK JUSTIFY CENTER 1 6 weight PANGO WEIGHT BOLD NULL 1 7 1 8 gaim conversation set data conv timestamp last GINT TO POINTER 1 9 11 111static void 112set timestamp GtkWidget spinner void null 113 162114 int tm 163115 164116 tm gtk spin button get value as int GTK SPIN BUTTON spinner 165 gaim debug GAIM DEBUG MISC timestamp setting time to d mins n tm 166 167 interval tm 6 1 168 gaim prefs set int plugins gtk timestamp interval interval 169 17 destroy timer list 171 init timer list 117 gaim debug GAIM DEBUG MISC timestamp 118 setting interval to d minutes n tm 119 12 interval tm 6 121 gaim prefs set int plugins gtk timestamp interval interval 1 172122 173123 178128 GtkWidget frame label 179129 GtkWidget vbox hbox 18 GtkAdjustment adj 13 GtkObject adj 181131 GtkWidget spinner 182132 184134 gtk container set border width GTK CONTAINER ret 12 185135 186 frame gaim gtk make frame ret iChat Timestamp 136 frame gaim gtk make frame ret Display Timestamps Every 187137 vbox gtk vbox new FALSE 5 188138 gtk container add GTK CONTAINER frame vbox 191141 gtk box pack start GTK BOX vbox hbox FALSE FALSE 5 192142 193 label gtk label new Delay 194 gtk box pack start GTK BOX hbox label FALSE FALSE 5 195 196 adj GtkAdjustment gtk adjustment new interval 6 1 1 G MAXINT 1 197 spinner gtk spin button new adj 143 XXX limit to divisors of 6 144 adj gtk adjustment new interval 6 1 6 1 145 spinner gtk spin button new GTK ADJUSTMENT adj 198146 gtk box pack start GTK BOX hbox spinner TRUE TRUE 199 g signal connect G OBJECT spinner value changed G CALLBACK set timestamp NULL 2 label gtk label new minutes 147 g signal connect G OBJECT spinner value changed 148 G CALLBACK set timestamp NULL 149 label gtk label new minutes 2 115 gtk box pack start GTK BOX hbox label FALSE FALSE 5 2 2151 21116 void gtkconv handle gaim gtk conversations get handle 212161 213 init timer list 214 215 gaim signal connect conv handle conversation created 216 plugin GAIM CALLBACK timestamp new convo NULL 162 lower priority to display initial timestamp after logged messages 163 gaim signal connect priority conv handle conversation created 164 plugin GAIM CALLBACK timestamp new convo NULL 165 GAIM SIGNAL PRIORITY DEFAULT 1 217166 218167 gaim signal connect gtkconv handle displaying chat msg 219 plugin GAIM CALLBACK timestamp displaying conv msg NULL 168 plugin GAIM CALLBACK timestamp displaying conv msg NULL 22 169 gaim signal connect gtkconv handle displaying im msg 221 plugin GAIM CALLBACK timestamp displaying conv msg NULL 222 223 interval gaim prefs get int plugins gtk timestamp interval 224 225 return TRUE 226 227 228 229 23 static gboolean 231 plugin unload GaimPlugin plugin 232 233 destroy timer list 17 plugin GAIM CALLBACK timestamp displaying conv msg NULL 171 172 interval gaim prefs get int plugins gtk timestamp interval 1 234173 235174 return TRUE 257196 VERSION version 258197 summary 259 N Adds iChat style timestamps to conversations every N minutes 198 N Display iChat style timestamps 26 199 description 261 N Adds iChat style timestamps to conversations every N minutes 2 N Display iChat style timestamps every N minutes 2622 1 Sean Egan seanegan gmail com author 2632 2 GAIM WEBSITE homepage 2642 3 2652 4 plugin load load 266 plugin unload unload 2 5 NULL unload 2672 6 NULL destroy 2682 7 277216 278217 gaim prefs add none plugins gtk timestamp 279 gaim prefs add int plugins gtk timestamp interval interval 218 gaim prefs add int plugins gtk timestamp interval interval 1 28 219 28122 Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/gtk/plugins/timestamp.c", "title": "\n      changeset 228 for vendor/current/gtk/plugins/timestamp.c \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 228 for vendor/current/gtk/plugins/timestamp.c \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=228\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=228\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/gtk/plugins/timestamp.c\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/gtk/plugins/timestamp.c\" title=\"Changeset 65 for vendor/current/gtk/plugins/timestamp.c\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/gtk/plugins/timestamp.c\" title=\"Changeset 65 for vendor/current/gtk/plugins/timestamp.c\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/gtk/plugins/timestamp.c\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/228\">228</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228\">vendor/current/gtk/plugins/timestamp.c</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Mar 6, 2007, 10:39:26 PM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2007-03-06T22%3A39%3A26-08%3A00&amp;precision=second\" title=\"See timeline at Mar 6, 2007, 10:39:26 PM\">8 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nUpdating from gaim Repository<br />\n</p>\n\n            \n            \n          </dd>\n        <dt class=\"property files\">\n          File:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>1 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228\">\n              vendor/current/gtk/plugins/timestamp.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">9 diffs</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/gtk/plugins/timestamp.c\" title=\"Show the changeset 228 restricted to vendor/current/gtk/plugins/timestamp.c\">vendor/current/gtk/plugins/timestamp.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 65\">\n                    <a title=\"Show revision 65 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L1\">\n                      r65</a>\n                  </th>\n                  <th title=\"Revision 228\">\n                    <a title=\"Show revision 228 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L1\">\n                      r228</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1</th><th>1</th><td class=\"l\"><span>/*</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;* Gaim - iChat-<del>lik</del>e timestamps</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2</th><td class=\"r\"><span>&nbsp;* Gaim - iChat-<ins>styl</ins>e timestamps</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3</th><th>3</th><td class=\"l\"><span>&nbsp;*</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4</th><th>4</th><td class=\"l\"><span>&nbsp;* Copyright (C) 2002-2003, Sean Egan</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5</th><th>5</th><td class=\"l\"><span>&nbsp;* Copyright (C) 2003, Chris J. Friesen &lt;Darth_Sebulba04@yahoo.com&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>6</th><td class=\"r\"><ins>&nbsp;* Copyright (C) 2007, Andrew Gaul &lt;andrew@gaul.org&gt;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>6</th><th>7</th><td class=\"l\"><span>&nbsp;*</span>\u00a0</td>\n                  </tr><tr>\n                          <th>7</th><th>8</th><td class=\"l\"><span>&nbsp;* This program is free software; you can redistribute it and/or modify</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L35\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L36\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>35</th><th>36</th><td class=\"l\"><span>#define TIMESTAMP_PLUGIN_ID \"gtk-timestamp\"</span>\u00a0</td>\n                  </tr><tr>\n                          <th>36</th><th>37</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>37</th><th>\u00a0</th><td class=\"l\"><span>/* Set the default to 5 minutes. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>38</th><th>\u00a0</th><td class=\"l\"><span>static int interval = 5 * 60 * 1000;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>39</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>40</th><th>\u00a0</th><td class=\"l\"><span>static GSList *timestamp_timeouts = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>41</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>42</th><th>\u00a0</th><td class=\"l\"><span>static gboolean</span>\u00a0</td>\n                      </tr><tr>\n                        <th>43</th><th>\u00a0</th><td class=\"l\"><span>do_timestamp(gpointer data)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>44</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>45</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *c = (GaimConversation *)data;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>46</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimGtkConversation *conv = GAIM_GTK_CONVERSATION(c);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>38</th><td class=\"r\"><span>/* minutes externally, seconds internally, and milliseconds in preferences */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>39</th><td class=\"r\"><span>static int interval = 5 * 60;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>40</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>41</th><td class=\"r\"><span>static void</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>42</th><td class=\"r\"><span>timestamp_display(GaimConversation *conv, time_t then, time_t now)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>43</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>44</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimGtkConversation *gtk_conv = GAIM_GTK_CONVERSATION(conv);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>45</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *imhtml = gtk_conv-&gt;imhtml;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>46</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkTextBuffer *buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(imhtml));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>47</th><th>47</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkTextIter iter;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>48</th><th>48</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const char *mdate;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>49</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int is_conversation_active;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>50</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; time_t tim = time(NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>51</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>52</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!g_list_find(gaim_get_conversations(), c))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>53</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>54</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>55</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* is_conversation_active is true if an im has been displayed since the last timestamp */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>56</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; is_conversation_active = GPOINTER_TO_INT(gaim_conversation_get_data(c, \"timestamp-conv-active\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>57</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>58</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (is_conversation_active){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>59</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int y, height;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>60</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GdkRectangle rect;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>61</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gboolean scroll = TRUE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>62</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *imhtml = conv-&gt;imhtml;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>63</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkTextBuffer *buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(imhtml));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>64</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_get_end_iter(buffer, &amp;iter);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>65</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(c, \"timestamp-conv-active\", GINT_TO_POINTER(FALSE));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>66</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mdate = gaim_utf8_strftime(\"\\n%H:%M\", localtime(&amp;tim));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>67</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_text_view_get_visible_rect(GTK_TEXT_VIEW(imhtml), &amp;rect);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>68</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_text_view_get_line_yrange(GTK_TEXT_VIEW(imhtml), &amp;iter, &amp;y, &amp;height);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>69</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(((y + height) - (rect.y + rect.height)) &gt; height</span>\u00a0</td>\n                      </tr><tr>\n                        <th>70</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&amp;&amp; gtk_text_buffer_get_char_count(buffer)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>71</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; scroll = FALSE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>72</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>73</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_insert_with_tags_by_name(buffer, &amp;iter, mdate, strlen(mdate), \"TIMESTAMP\", NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>74</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (scroll)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>75</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_imhtml_scroll_to_end(GTK_IMHTML(imhtml), gaim_prefs_get_bool(\"/gaim/gtk/conversations/use_smooth_scrolling\"));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>49</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int y, height;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>50</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GdkRectangle rect;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>51</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>52</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* display timestamp */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>53</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; mdate = gaim_utf8_strftime(then == 0 ? \"%H:%M\" : \"\\n%H:%M\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>54</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; localtime(&amp;now));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>55</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_get_end_iter(buffer, &amp;iter);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>56</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_insert_with_tags_by_name(buffer, &amp;iter, mdate,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>57</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strlen(mdate), \"TIMESTAMP\", NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>58</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>59</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* scroll view if necessary */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>60</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_text_view_get_visible_rect(GTK_TEXT_VIEW(imhtml), &amp;rect);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>61</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_text_view_get_line_yrange(</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>62</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GTK_TEXT_VIEW(imhtml), &amp;iter, &amp;y, &amp;height);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>63</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (((y + height) - (rect.y + rect.height)) &gt; height &amp;&amp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>64</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_get_char_count(buffer)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>65</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gboolean smooth = gaim_prefs_get_bool(</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>66</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"/gaim/gtk/conversations/use_smooth_scrolling\");</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>67</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_imhtml_scroll_to_end(GTK_IMHTML(imhtml), smooth);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>76</th><th>68</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>77</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>78</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(c, \"timestamp-enabled\", GINT_TO_POINTER(FALSE));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>79</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>80</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>81</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>82</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>69</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>83</th><th>70</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>84</th><th>71</th><td class=\"l\"><span>static gboolean</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>85</th><th>\u00a0</th><td class=\"l\"><span>timestamp_displaying_conv_msg(GaimAccount *account, const char *who, char **buffer,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>86</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *conv, GaimMessageFlags flags, void *data)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>87</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>88</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int is_timestamp_enabled;</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>72</th><td class=\"r\"><span>timestamp_displaying_conv_msg(GaimAccount *account, const char *who,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>73</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char **buffer, GaimConversation *conv,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>74</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimMessageFlags flags, void *data)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>75</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>76</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; time_t now = time(NULL) / interval * interval;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>77</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; time_t then;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>89</th><th>78</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>90</th><th>79</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!g_list_find(gaim_get_conversations(), conv))</span>\u00a0</td>\n                  </tr><tr>\n                          <th>91</th><th>80</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>92</th><th>81</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>93</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* set to true, since there has been an im since the last timestamp */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>94</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(conv, \"timestamp-conv-active\", GINT_TO_POINTER(TRUE));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>95</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>96</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; is_timestamp_enabled = GPOINTER_TO_INT(gaim_conversation_get_data(conv, \"timestamp-enabled\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>97</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>98</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!is_timestamp_enabled){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>99</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(conv, \"timestamp-enabled\", GINT_TO_POINTER(TRUE));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>100</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do_timestamp((gpointer)conv);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>82</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; then = GPOINTER_TO_INT(gaim_conversation_get_data(</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>83</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; conv, \"timestamp-last\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>84</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>85</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (now - then &gt;= interval) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>86</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timestamp_display(conv, then, now);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>87</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>88</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; conv, \"timestamp-last\", GINT_TO_POINTER(now));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>101</th><th>89</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>102</th><th>90</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L104\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L92\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>104</th><th>92</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>105</th><th>93</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>106</th><th>\u00a0</th><td class=\"l\"><span>static void timestamp_new_convo(GaimConversation *conv)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>107</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>108</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimGtkConversation *c = GAIM_GTK_CONVERSATION(conv);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>94</th><td class=\"r\"><span>static void</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>95</th><td class=\"r\"><span>timestamp_new_convo(GaimConversation *conv)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>96</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>97</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimGtkConversation *gtk_conv = GAIM_GTK_CONVERSATION(conv);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>98</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkTextBuffer *buffer;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>109</th><th>99</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>110</th><th>100</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!g_list_find(gaim_get_conversations(), conv))</span>\u00a0</td>\n                  </tr><tr>\n                          <th>111</th><th>101</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>112</th><th>102</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>113</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /*</span>\u00a0</td>\n                      </tr><tr>\n                        <th>114</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; This if statement stops conversations that have already been initialized for timestamps</span>\u00a0</td>\n                      </tr><tr>\n                        <th>115</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; from being reinitialized.&nbsp; This prevents every active conversation from immediately being spammed</span>\u00a0</td>\n                      </tr><tr>\n                        <th>116</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; with a new timestamp when the user modifies the timer interval.</span>\u00a0</td>\n                      </tr><tr>\n                        <th>117</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>118</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!gaim_conversation_get_data(conv, \"timestamp-initialized\")){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>119</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkTextBuffer *buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(c-&gt;imhtml));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>120</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(conv, \"timestamp-initialized\", GINT_TO_POINTER(TRUE));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>121</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(conv, \"timestamp-enabled\", GINT_TO_POINTER(TRUE));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>122</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(conv, \"timestamp-conv-active\", GINT_TO_POINTER(TRUE));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>123</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_create_tag (buffer, \"TIMESTAMP\", \"foreground\", \"#888888\", \"justification\", GTK_JUSTIFY_CENTER,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>124</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"weight\", PANGO_WEIGHT_BOLD, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>125</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do_timestamp(conv);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>126</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>127</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>128</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; timestamp_timeouts = g_slist_append(timestamp_timeouts,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>129</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GINT_TO_POINTER(g_timeout_add(interval, do_timestamp, conv)));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>130</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>131</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>132</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>133</th><th>\u00a0</th><td class=\"l\"><span>static void destroy_timer_list()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>134</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>135</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GSList *to;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>136</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>137</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; for (to = timestamp_timeouts; to != NULL; to = to-&gt;next)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>138</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_source_remove(GPOINTER_TO_INT(to-&gt;data));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>139</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>140</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_slist_free(timestamp_timeouts);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>141</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>142</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; timestamp_timeouts = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>143</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>144</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>145</th><th>\u00a0</th><td class=\"l\"><span>static void init_timer_list()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>146</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>147</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GList *cnvs;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>148</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *c;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>149</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>150</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (timestamp_timeouts != NULL)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>151</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destroy_timer_list();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>152</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>153</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; for (cnvs = gaim_get_conversations(); cnvs != NULL; cnvs = cnvs-&gt;next) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>154</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c = cnvs-&gt;data;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>155</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timestamp_new_convo(c);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>156</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>157</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>158</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>159</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>160</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>161</th><th>\u00a0</th><td class=\"l\"><span>static void set_timestamp(GtkWidget *spinner, void *null) {</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>103</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(gtk_conv-&gt;imhtml));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>104</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_create_tag(buffer, \"TIMESTAMP\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>105</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"foreground\", \"#888888\", \"justification\", GTK_JUSTIFY_CENTER,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>106</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"weight\", PANGO_WEIGHT_BOLD, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>107</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>108</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_set_data(conv, \"timestamp-last\", GINT_TO_POINTER(0));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>109</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>110</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>111</th><td class=\"r\"><span>static void</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>112</th><td class=\"r\"><span>set_timestamp(GtkWidget *spinner, void *null)</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>113</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>162</th><th>114</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int tm;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>163</th><th>115</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>164</th><th>116</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tm = gtk_spin_button_get_value_as_int(GTK_SPIN_BUTTON(spinner));</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>165</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_debug(GAIM_DEBUG_MISC, \"timestamp\", \"setting time to %d mins\\n\", tm);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>166</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>167</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; interval = tm * 60 * 1000;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>168</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_set_int(\"/plugins/gtk/timestamp/interval\", interval);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>169</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>170</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; destroy_timer_list();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>171</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; init_timer_list();</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>117</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_debug(GAIM_DEBUG_MISC, \"timestamp\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>118</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"setting interval to %d minutes\\n\", tm);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>119</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>120</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; interval = tm * 60;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>121</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_set_int(\"/plugins/gtk/timestamp/interval\", interval * 1000);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>172</th><th>122</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>173</th><th>123</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L178\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L128\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>178</th><th>128</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *frame, *label;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>179</th><th>129</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *vbox, *hbox;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>180</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; Gtk<del>Adjustmen</del>t *adj;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>130</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; Gtk<ins>Objec</ins>t *adj;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>181</th><th>131</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *spinner;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>182</th><th>132</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L184\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L134\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>184</th><th>134</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_container_set_border_width (GTK_CONTAINER (ret), 12);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>185</th><th>135</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>186</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; frame = gaim_gtk_make_frame(ret, _(\"<del>iChat Timestamp</del>\"));</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>136</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; frame = gaim_gtk_make_frame(ret, _(\"<ins>Display Timestamps Every</ins>\"));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>187</th><th>137</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; vbox = gtk_vbox_new(FALSE, 5);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>188</th><th>138</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(frame), vbox);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L191\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L141\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>191</th><th>141</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(vbox), hbox, FALSE, FALSE, 5);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>192</th><th>142</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>193</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; label = gtk_label_new(_(\"Delay\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>194</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox), label, FALSE, FALSE, 5);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>195</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>196</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; adj = (GtkAdjustment *)gtk_adjustment_new(interval/(60*1000), 1, G_MAXINT, 1, 0, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>197</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; spinner = gtk_spin_button_new(adj, 0, 0);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>143</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* XXX limit to divisors of 60? */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>144</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; adj = gtk_adjustment_new(interval / 60, 1, 60, 1, 0, 0);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>145</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; spinner = gtk_spin_button_new(GTK_ADJUSTMENT(adj), 0, 0);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>198</th><th>146</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox), spinner, TRUE, TRUE, 0);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>199</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(spinner), \"value-changed\", G_CALLBACK(set_timestamp), NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>200</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; label = gtk_label_new(_(\"minutes.\"));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>147</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(spinner), \"value-changed\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>148</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK(set_timestamp), NULL);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>149</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; label = gtk_label_new(_(\"minutes\"));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>201</th><th>150</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox), label, FALSE, FALSE, 5);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>202</th><th>151</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L211\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L160\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>211</th><th>160</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; void *gtkconv_handle = gaim_gtk_conversations_get_handle();</span>\u00a0</td>\n                  </tr><tr>\n                          <th>212</th><th>161</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>213</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>init_timer_list();</del></span>\u00a0</td>\n                      </tr><tr>\n                        <th>214</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>215</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>gaim_signal_connect(conv_handle, \"conversation-created\"</del>,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>216</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; plugin, GAIM_CALLBACK(timestamp_new_convo), NULL</del>);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>162</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>/* lower priority to display initial timestamp after logged messages */</ins></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>163</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_signal_connect_priority(conv_handle, \"conversation-created\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>164</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; plugin, GAIM_CALLBACK(timestamp_new_convo), NULL</ins>,</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>165</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>GAIM_SIGNAL_PRIORITY_DEFAULT + 1</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>217</th><th>166</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>218</th><th>167</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_signal_connect(gtkconv_handle, \"displaying-chat-msg\",</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>219</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>plugin, GAIM_CALLBACK(timestamp_displaying_conv_msg), NULL);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>168</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>plugin, GAIM_CALLBACK(timestamp_displaying_conv_msg), NULL);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>220</th><th>169</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_signal_connect(gtkconv_handle, \"displaying-im-msg\",</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>221</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; plugin, GAIM_CALLBACK(timestamp_displaying_conv_msg), NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>222</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>223</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; interval = gaim_prefs_get_int(\"/plugins/gtk/timestamp/interval\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>224</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>225</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>226</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>227</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>228</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>229</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>230</th><th>\u00a0</th><td class=\"l\"><span>static gboolean</span>\u00a0</td>\n                      </tr><tr>\n                        <th>231</th><th>\u00a0</th><td class=\"l\"><span>plugin_unload(GaimPlugin *plugin)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>232</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>233</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; destroy_timer_list();</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>170</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; plugin, GAIM_CALLBACK(timestamp_displaying_conv_msg), NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>171</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>172</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; interval = gaim_prefs_get_int(\"/plugins/gtk/timestamp/interval\") / 1000;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>234</th><th>173</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>235</th><th>174</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L257\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L196\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>257</th><th>196</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; VERSION,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /**&lt; version&nbsp; &nbsp; &nbsp; &nbsp; */</span>\u00a0</td>\n                  </tr><tr>\n                          <th>258</th><th>197</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /**&nbsp; summary&nbsp; &nbsp; &nbsp; &nbsp; */</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>259</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; N_(\"<del>Adds iChat-style timestamps to conversations every N minutes.</del>\"),</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>198</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; N_(\"<ins>Display iChat-style timestamps</ins>\"),</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>260</th><th>199</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /**&nbsp; description&nbsp; &nbsp; */</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>261</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; N_(\"<del>Adds iChat-style timestamps to conversation</del>s every N minutes.\"),</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>200</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; N_(\"<ins>Display iChat-style timestamp</ins>s every N minutes.\"),</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>262</th><th>201</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; \"Sean Egan &lt;seanegan@gmail.com&gt;\",&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/**&lt; author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                  </tr><tr>\n                          <th>263</th><th>202</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_WEBSITE,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/**&lt; homepage&nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                  </tr><tr>\n                          <th>264</th><th>203</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>265</th><th>204</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; plugin_load,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /**&lt; load&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>266</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>plugin_unload,</del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /**&lt; unload&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>205</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>NULL,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /**&lt; unload&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>267</th><th>206</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; NULL,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/**&lt; destroy&nbsp; &nbsp; &nbsp; &nbsp; */</span>\u00a0</td>\n                  </tr><tr>\n                          <th>268</th><th>207</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=65#L277\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/plugins/timestamp.c?rev=228#L216\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>277</th><th>216</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>278</th><th>217</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_add_none(\"/plugins/gtk/timestamp\");</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>279</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_add_int(\"/plugins/gtk/timestamp/interval\", interval<del></del>);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>218</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_add_int(\"/plugins/gtk/timestamp/interval\", interval<ins>&nbsp;* 1000</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>280</th><th>219</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>281</th><th>220</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=228\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=228\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 40295.0}