{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 228 for vendor current gtk gtkconv c View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Mar 6 2 7 1 39 26 PM 8 years ago Author djp3Message Updating from gaim Repository File 1 edited vendor current gtk gtkconv c modified 58 diffs Legend UnmodifiedAddedRemoved vendor current gtk gtkconv c r65 r228 7575 GAIM GTKCONV SET TITLE 1 7676 GAIM GTKCONV BUDDY ICON 1 1 77 GAIM GTKCONV MENU 1 2 77 GAIM GTKCONV MENU 1 2 7878 GAIM GTKCONV TAB ICON 1 3 79 GAIM GTKCONV TOPIC 1 4 79 GAIM GTKCONV TOPIC 1 4 8 8 GAIM GTKCONV SMILEY THEME 1 5 8181 GAIM GTKCONV COLORIZE TITLE 1 6 167167static gboolean color is visible GdkColor foreground GdkColor background int color contrast int brightness contrast 168168static void gaim gtkconv update fields GaimConversation conv GaimGtkConvFields fields 169static void focus out from menubar GtkWidget wid GaimGtkWindow win 16917 17 171static GdkColor get nick color GaimGtkConversation gtkconv const char name 2 32 4 2 42 5static gboolean 2 6lbox size allocate cb GtkWidget w GtkAllocation allocation gpointer data 2 7 2 8 gaim prefs set int gaim gtk conversations chat userlist width allocation width 1 allocation width 2 9 21 return FALSE 211 212 213static gboolean 2 5214size allocate cb GtkWidget w GtkAllocation allocation GaimGtkConversation gtkconv 2 6215 216225 return FALSE 217226 218 227 219228 I find that I resize the window when it has a bunch of conversations in it mostly so that the 22 229 tab bar will fit but then I don t want new windows taking up the entire screen I check to see 24 249 if w gtkconv lower hbox 24125 gaim prefs set int gaim gtk conversations chat entry height allocation height 242 if w gtkconv u chat list 243 gaim prefs set int gaim gtk conversations chat userlist width allocation width 1 allocation width 244251 245252 27 277 271278 if conv features GAIM CONNECTION NO FONTSIZE 272 gtk imhtml font set size GTK IMHTML c entry 273 gaim prefs get int gaim gtk conversations font size 279 28 int size gaim prefs get int gaim gtk conversations font size 281 282 3 is the default 283 if size 3 284 285 gtk imhtml font set size GTK IMHTML c entry size 286 287 274288 275289 if strcmp gaim prefs get string gaim gtk conversations fgcolor 438452 439453 454static void 455reset default size GaimGtkConversation gtkconv 456 457 GaimConversation conv gtkconv active conv 458 if gaim conversation get type conv GAIM CONV TYPE CHAT 459 gtk widget set size request gtkconv lower hbox 1 46 gaim prefs get int gaim gtk conversations chat entry height 461 else 462 gtk widget set size request gtkconv lower hbox 1 463 gaim prefs get int gaim gtk conversations im entry height 464 465 44 466static gboolean 441467check for and do command GaimConversation conv 4755 1 return TRUE 4765 2 case GAIM CMD STATUS NOT FOUND 477 if gaim prefs get bool gaim gtk conversations passthrough unknown commands 478 gaim conversation write conv No such command 479 GAIM MESSAGE NO LOG time NULL 48 481 return TRUE 482 4835 3 return FALSE 4845 4 case GAIM CMD STATUS WRONG ARGS 53 55 531551 if check for and do command conv 552 if gtkconv entry growing 553 reset default size gtkconv 554 gtkconv entry growing FALSE 555 532556 gtk imhtml clear GTK IMHTML gtkconv entry 533557 return 5796 3 58 6 4 gtk imhtml clear GTK IMHTML gtkconv entry 6 5 if gtkconv entry growing 6 6 reset default size gtkconv 6 7 gtkconv entry growing FALSE 6 8 5816 9 gtkconv set unseen gtkconv GAIM UNSEEN NONE 58261 22642292 22652293 2266 This gets added as an idle handler when doing something that 2294 This gets added as an idle handler when doing something that 22672295 redraws the icon It sets the auto resize gboolean to TRUE 22682296 This way when the size allocate callback gets triggered it notices 22972325 gtkconv auto resize TRUE 22982326 g idle add reset auto resize cb gtkconv 2299 2327 23 2328 gdk pixbuf animation iter advance gtkconv u im iter NULL 23 12329 buf gdk pixbuf animation iter get pixbuf gtkconv u im iter 23 2233 23 3 gaim gtk buddy icon get scale size buf prpl info prpl info icon spec 23 4 NULL scale width scale height 2331 gaim gtk buddy icon get scale size buf prpl info icon spec 2332 GAIM ICON SCALE DISPLAY scale width scale height 23 52333 23 62334 this code is ugly and scares me 23492377 235 2378static void 2351 remove icon GaimGtkConversation gtkconv 2379remove icon GtkWidget widget GaimGtkConversation gtkconv 2352238 23532381 GaimConversation conv gtkconv active conv 23972425 data gaim buddy icon get data icon len 23982426 2399 if len data NULL 2427 if len data NULL fwrite data 1 len fp len 24 2428 gaim notify error gtkconv NULL Unable to save icon file to disk NULL 24 12429 fclose fp 243 g unlink filename 24 22431 return 24 32432 24 4 24 5 fwrite data 1 len fp 24 62433 fclose fp 2434 2435 2436static const char 2437custom icon pref name GaimGtkConversation gtkconv 2438 2439 GaimConversation conv 244 GaimAccount account 2441 GaimBuddy buddy 2442 2443 conv gtkconv active conv 2444 account gaim conversation get account conv 2445 buddy gaim find buddy account gaim conversation get name conv 2446 if buddy 2447 GaimContact contact gaim buddy get contact buddy 2448 return gaim blist node get string GaimBlistNode contact custom buddy icon 2449 245 return NULL 2451 2452 2453static void 2454custom icon sel cb const char filename gpointer data 2455 2456 if filename 2457 GaimGtkConversation gtkconv data 2458 GaimConversation conv gtkconv active conv 2459 GaimAccount account gaim conversation get account conv 246 gaim gtk set custom buddy icon account gaim conversation get name conv filename 2461 2462 2463 2464static void 2465set custom icon cb GtkWidget widget GaimGtkConversation gtkconv 2466 2467 GtkWidget win gaim gtk buddy icon chooser new GTK WINDOW gtkconv win window 2468 custom icon sel cb gtkconv 2469 gtk widget show all win 247 2471 2472static void 2473remove custom icon cb GtkWidget widget GaimGtkConversation gtkconv 2474 2475 GaimConversation conv 2476 GaimAccount account 2477 2478 conv gtkconv active conv 2479 account gaim conversation get account conv 248 gaim gtk set custom buddy icon account gaim conversation get name conv NULL 24 72481 24 82482 24542528 24552529 static GtkWidget menu NULL 2456 GtkWidget item 253 const char pref 24572531 24582532 if e button 3 e type GDK BUTTON PRESS 2476255 24772551 2478 item gtk menu item new with label Hide Icon 2479 g signal connect swapped G OBJECT item activate 248 G CALLBACK remove icon gtkconv 2481 gtk menu shell append GTK MENU SHELL menu item 2482 gtk widget show item 2552 gaim new item from stock menu Hide Icon NULL G CALLBACK remove icon 2553 gtkconv NULL 24832554 24842555 gaim new item from stock menu Save Icon As GTK STOCK SAVE AS 24852556 G CALLBACK icon menu save cb gtkconv 24862557 NULL 2558 2559 gaim new item from stock menu Set Custom Icon NULL 256 G CALLBACK set custom icon cb gtkconv 2561 NULL 2562 2563 Is there a custom icon for this person 2564 pref custom icon pref name gtkconv 2565 if pref pref 2566 gaim new item from stock menu Remove Custom Icon NULL 2567 G CALLBACK remove custom icon cb gtkconv 2568 NULL 2569 2487257 24882571 gtk menu popup GTK MENU menu NULL NULL NULL NULL e button e time 25132596 gaim gtkconv update buddy icon conv 25142597 else 2515 remove icon gtkconv 2598 remove icon NULL gtkconv 25162599 251726 27832866static void menubar activated GtkWidget item gpointer data 27842867 2785 regenerate options items data 2868 GaimGtkWindow win data 2869 regenerate options items win 287 2871 The following are to make sure the More submenu is not regenerated every time 2872 the focus shifts from Conversations to some other menu and back 27862873 g signal handlers block by func G OBJECT item G CALLBACK menubar activated data 2874 g signal connect G OBJECT win menu menubar deactivate G CALLBACK focus out from menubar data 27872875 27882876 279 2878focus out from menubar GtkWidget wid GaimGtkWindow win 27912879 288 The menubar has been deactivated Make sure the More submenu is regenerated next time 2881 the Conversation menu pops up 27922882 GtkWidget menuitem gtk item factory get item win menu item factory N Conversation 27932883 g signal handlers unblock by func G OBJECT menuitem G CALLBACK menubar activated win 2884 g signal handlers disconnect by func G OBJECT win menu menubar 2885 G CALLBACK focus out from menubar win 27942886 27952887 281729 9 G CALLBACK gaim gtk save accels cb NULL 2818291 2911 Make sure the Conversation More menuitems are regenerated whenever 2912 the Conversation menu pops up because the entries can change after the 2913 conversation is created 28192914 menuitem gtk item factory get item win menu item factory N Conversation 282 2915 g signal connect G OBJECT menuitem activate G CALLBACK menubar activated win 28222917 win menu menubar 28232918 gtk item factory get widget win menu item factory main 2824 2825 g signal connect G OBJECT win menu menubar deactivate G CALLBACK focus out from menubar win 28262919 2827292 win menu view log 33283421 gboolean is me FALSE 33293422 gboolean is buddy 333 gchar alias key name alias 3423 gchar tmp alias key name alias 33313424 int flags 3332 3425 33333426 alias cb alias 33343427 name cb name 33523445 is buddy gaim find buddy conv account name NULL 33533446 3354 alias key g utf8 collate key alias strlen alias 3447 tmp g utf8 casefold alias 1 3448 alias key g utf8 collate key tmp 1 3449 g free tmp 3355345 33563451 if is me 33583453 GdkColor send color 33593454 gdk color parse SEND COLOR send color 336 3361 if GTK CHECK VERSION 2 6 3455 3456 if GTK CHECK VERSION 2 6 33623457 gtk list store insert with values ls iter 3363 3458 33643459 The GTK docs are mute about the effects of the row value for performance 3365346 X Chat hardcodes their value to prepend and 1 append so we will too 36923787 ret buddy1 buddy2 1 1 36933788 else 3694 ret strcasecmp user1 user2 3789 ret strcmp user1 user2 3695379 36963791 37293824 if strcmp normalized name gaim normalize conv account name 373 3825 const char alias name 3826 char tmp 37313827 char alias key NULL 37323828 GaimBuddy buddy2 37393835 374 3836 3741 alias key g utf8 collate key alias strlen alias 3837 tmp g utf8 casefold alias 1 3838 alias key g utf8 collate key tmp 1 3839 g free tmp 3742384 37433841 gtk list store set GTK LIST STORE model iter 38773975 gtk widget show menuitem 38783976 gtk menu shell insert GTK MENU SHELL menu menuitem 1 3977 3978 3979 398 static void resize imhtml cb GaimGtkConversation gtkconv 3981 3982 GtkTextBuffer buffer 3983 GtkTextIter iter 3984 int wrapped lines 3985 int lines 3986 GdkRectangle oneline 3987 GtkRequisition sr 3988 int height 3989 int pad top pad inside pad bottom 399 3991 buffer gtk text view get buffer GTK TEXT VIEW gtkconv entry 3992 3993 wrapped lines 1 3994 gtk text buffer get start iter buffer iter 3995 gtk text view get iter location GTK TEXT VIEW gtkconv entry iter oneline 3996 while gtk text view forward display line GTK TEXT VIEW gtkconv entry iter 3997 wrapped lines 3998 3999 lines gtk text buffer get line count buffer 4 4 1 Show a maximum of 4 lines 4 2 lines MIN lines 4 4 3 wrapped lines MIN wrapped lines 4 4 4 4 5 pad top gtk text view get pixels above lines GTK TEXT VIEW gtkconv entry 4 6 pad bottom gtk text view get pixels below lines GTK TEXT VIEW gtkconv entry 4 7 pad inside gtk text view get pixels inside wrap GTK TEXT VIEW gtkconv entry 4 8 4 9 height oneline height pad top pad bottom lines 4 1 height oneline height pad inside wrapped lines lines 4 11 4 12 gtk widget size request gtkconv lower hbox sr 4 13 if sr height height GAIM HIG BOX SPACE 4 14 gtkconv auto resize TRUE 4 15 gtkconv entry growing TRUE 4 16 gtk widget set size request gtkconv lower hbox 1 height GAIM HIG BOX SPACE 4 17 g idle add reset auto resize cb gtkconv 4 18 38794 19 388 4 2 39864126 39874127 ls gtk list store new CHAT USERS COLUMNS GDK TYPE PIXBUF G TYPE STRING 3988 G TYPE STRING G TYPE STRING G TYPE INT 4128 G TYPE STRING G TYPE STRING G TYPE INT 39894129 GDK TYPE COLOR G TYPE INT 399 413 gtk tree sortable set sort func GTK TREE SORTABLE ls CHAT USERS ALIAS KEY COLUMN 39994139 gtk tree view column set sizing col GTK TREE VIEW COLUMN AUTOSIZE 4 414 gtk tree view append column GTK TREE VIEW list col 4 1 gtk widget set size request lbox 4141 gtk widget set size request lbox 4 24142 gaim prefs get int gaim gtk conversations chat userlist width 1 4 34143 4 64146 g signal connect G OBJECT list popup menu 4 74147 G CALLBACK gtkconv chat popup menu cb gtkconv 4 8 g signal connect G OBJECT list size allocate G CALLBACK size allocate cb gtkconv 4 9 4 1 4148 g signal connect G OBJECT lbox size allocate G CALLBACK lbox size allocate cb gtkconv 4149 415 4 114151 rend gtk cell renderer text new 4 124152 4 714211 gtk text view get buffer GTK TEXT VIEW gtkconv entry 4 724212 g object set data G OBJECT gtkconv entry buffer user data gtkconv 4 73 4213 g signal connect swapped G OBJECT gtkconv entry buffer changed 4214 G CALLBACK resize imhtml cb gtkconv 4215 4 744216 g signal connect G OBJECT gtkconv entry key press event 4 754217 G CALLBACK entry key press cb gtkconv 41824324 g signal connect G OBJECT gtkconv entry buffer delete range 41834325 G CALLBACK delete text cb gtkconv 4326 g signal connect swapped G OBJECT gtkconv entry buffer changed 4327 G CALLBACK resize imhtml cb gtkconv 41844328 41854329 had to move this after the imtoolbar is attached so that the 44794623static void 448 4624received im msg cb GaimAccount account char sender char message 4481 GaimConversation conv int flags 4625 GaimConversation conv GaimMessageFlags flags 44824626 44834627 GaimConversationUiOps ui ops gaim gtk conversations get conv ui ops 46224766 GaimGtkConversation gtkconv GAIM GTK CONVERSATION conv 46234767 GtkTextTag buddytag 4624 strlen BUDDY 6 4625 gchar str strlen who 7 4626 4627 g snprintf str sizeof str BUDDY s who 4628 str sizeof str 4768 gchar str 4769 477 str g strdup printf BUDDY s who 46294771 463 4772 buddytag gtk text tag table lookup 46394781 G CALLBACK buddytag event conv 464 4782 4783 4784 g free str 46414785 46424786 return buddytag 46674811 char displaying 46684812 gboolean plugin return 4669 4813 char bracket 4814 int tag count 4815 467 4816 g return if fail conv NULL 46714817 gtkconv GAIM GTK CONVERSATION conv 471 4856 length strlen message 1 47114857 4858 Awful hack to work around GtkIMHtml s inefficient rendering of messages with lots of formatting changes 4859 If a message has over 1 characters strip formatting before appending it Hopefully nobody actually 486 needs that much formatting anyway 4861 4862 for bracket strchr message bracket bracket 1 bracket strchr bracket 1 4863 tag count 4864 4865 if tag count 1 4866 const char tmp message 4867 message displaying gaim markup strip html message 4868 g free tmp 4869 487 47124871 win gtkconv win 47134872 prpl info GAIM PLUGIN PROTOCOL INFO gc prpl 5 3 5189 if GTK CHECK VERSION 2 6 5 31519 gtk tree sortable set sort column id GTK TREE SORTABLE ls GTK TREE SORTABLE UNSORTED SORT COLUMN ID 5 32 GTK TREE SORTABLE UNSORTED SORT COLUMN ID 5191 GTK TREE SORTABLE UNSORTED SORT COLUMN ID 5 335192 endif 5 345193 5 395198 5 4 5199 5 41 Currently GTK maintains our sorted list after it s in the tree 52 Currently GTK maintains our sorted list after it s in the tree 5 4252 1 This may change if it turns out we can manage it faster ourselves 5 4352 2 53225481 53235482 gtk imhtml associate smiley imhtml sml smiley 5324 5483 53255484 return TRUE 53265485 5327 5486 53285487static gboolean 53295488gaim gtkconv custom smiley add GaimConversation conv const char smile gboolean remote 53365495 return FALSE 53375496 5338 5497 53395498 If smileys are off return false 534 5499 if gaim gtkthemes smileys disabled 534155 return FALSE 5342 55 1 534355 2 If possible add this smiley to the current theme 534455 3 The addition is only temporary custom smilies aren t saved to disk 534555 4 conv sml gaim account get protocol name conv account 534655 5 gtkconv GAIM GTK CONVERSATION conv 5347 55 6 534855 7 for list struct smiley list current smiley theme list list list list next 534955 8 if strcmp list sml conv sml 53525511 53535512 5354 5513 53555514 if add custom smiley for imhtml GTK IMHTML gtkconv imhtml sml smile 53565515 return FALSE 5357 5516 53585517 if remote If it s a local custom smiley then add it for the entry 53595518 if add custom smiley for imhtml GTK IMHTML gtkconv entry sml smile 5831599 GError err NULL 58325991 5833 const void data 5992 const char custom NULL 5993 const void data NULL 58345994 size t len 58355995 58886 48 return 58896 49 589 icon gaim conv im get icon GAIM CONV IM conv 5891 5892 if icon NULL 5893 return 5894 5895 data gaim buddy icon get data icon len 6 5 custom custom icon pref name gtkconv 6 51 if custom 6 52 There is a custom icon for this user 6 53 char contents NULL 6 54 if g file get contents custom contents len err 6 55 gaim debug warning custom icon could not load custom icon s for s n 6 56 custom gaim conversation get name conv 6 57 g error free err 6 58 err NULL 6 59 else 6 6 data contents 6 61 6 62 6 63 if data NULL 6 64 icon gaim conv im get icon GAIM CONV IM conv 6 65 6 66 if icon NULL 6 67 return 6 68 6 69 data gaim buddy icon get data icon len 6 7 custom NULL 6 71 58966 72 58976 73 loader gdk pixbuf loader new 59 26 78 g object ref G OBJECT anim 59 36 79 g object unref loader 6 8 6 81 if custom 6 82 g free void data 59 46 83 59 56 84 if anim 592761 6 592861 7 5929 gaim gtk buddy icon get scale size buf prpl info prpl info icon spec 593 NULL scale width scale height 61 8 gaim gtk buddy icon get scale size buf prpl info icon spec 61 9 GAIM ICON SCALE DISPLAY scale width scale height 5931611 scale gdk pixbuf scale simple buf 59326111 MAX gdk pixbuf get width buf scale width 59546133 gtk widget set size request gtkconv lower hbox 1 1 59556134 g idle add reset auto resize cb gtkconv 5956 printf Auto resize true n 59576135 gtk widget set size request gtkconv u im icon scale width scale height 59586136 gtk container add GTK CONTAINER event gtkconv u im icon 6 2362 1 tab gtk notebook get tab label GTK NOTEBOOK notebook page 6 2462 2 62 3 Make sure the tab is not hidden beyond an arrow 62 4 if GTK WIDGET DRAWABLE tab 62 5 continue 62 6 6 2562 7 if horiz 6 2662 8 if x rel tab allocation x GAIM HIG BOX SPACE 623 6412 62316413static void 6232 account status changed cb GaimAccount account GaimStatus oldstatus 6414account status changed cb GaimAccount account GaimStatus oldstatus 62336415 GaimStatus newstatus 62346416 6258644 gaim gtk conv window remove gtkconv hidden convwin gtkconv 62596441 gaim gtkconv placement place gtkconv 6442 6443 TODO do we need to do anything for any other conversations that are in the same gtkconv here 6444 I m a little concerned that not doing so will cause the pending indicator in the gtkblist not to be cleared DAA 6445 gaim conversation update conv GAIM CONV UPDATE UNSEEN 626 6446 62616447 64 56591 gaim gtkconv update fields conv GAIM GTKCONV TAB ICON 64 66592 64 7 6593 64 86594static void 64 96595update buddy icon GaimBuddy buddy 64956681 gaim prefs add bool gaim gtk conversations show timestamps TRUE 64966682 gaim prefs add bool gaim gtk conversations show formatting toolbar TRUE 6497 gaim prefs add bool gaim gtk conversations passthrough unknown commands FALSE 64986683 64996684 gaim prefs add string gaim gtk conversations placement last 66616846 G CALLBACK account signed off cb 66626847 GINT TO POINTER GAIM CONV ACCOUNT OFFLINE 6663 6848 66646849 gaim signal connect gaim conversations get handle received im msg 6665685 handle G CALLBACK received im msg cb NULL 7 777262 GtkWidget tab 7 787263 7264 if e button 2 7265 GaimGtkConversation gtkconv 7266 tab clicked gaim gtkconv get tab at xy win e x root e y root NULL 7267 7268 if tab clicked 1 7269 return FALSE 727 7271 gtkconv gaim gtk conv window get gtkconv at index win tab clicked 7272 close conv cb NULL gtkconv 7273 return TRUE 7274 7275 7276 7 797277 if e button 1 e type GDK BUTTON PRESS 7 8 7278 return FALSE 72277425 e x root e y root to right 72287426 7229 gtkconv GAIM GTK CONVERSATION conv 7427 gtkconv gaim gtk conv window get gtkconv at index win win drag tab 723 7428 72317429 if win dest win 74 876 6 g return if fail conv NULL 74 976 7 741 gtkconv set unseen gtkconv GAIM UNSEEN NONE 76 8 clear unseen flag if conversation is not hidden 76 9 if gaim gtkconv is hidden gtkconv 761 gtkconv set unseen gtkconv GAIM UNSEEN NONE 7611 74117612 74127613 Update the menubar 74167617 74177618 generate send to items win 7619 regenerate options items win 7418762 74197621 gaim gtkconv switch active conversation conv Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/gtk/gtkconv.c", "title": "\n      changeset 228 for vendor/current/gtk/gtkconv.c \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 228 for vendor/current/gtk/gtkconv.c \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=228\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=228\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/gtk/gtkconv.c\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/gtk/gtkconv.c\" title=\"Changeset 65 for vendor/current/gtk/gtkconv.c\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/gtk/gtkconv.c\" title=\"Changeset 65 for vendor/current/gtk/gtkconv.c\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/gtk/gtkconv.c\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/228\">228</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228\">vendor/current/gtk/gtkconv.c</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Mar 6, 2007, 10:39:26 PM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2007-03-06T22%3A39%3A26-08%3A00&amp;precision=second\" title=\"See timeline at Mar 6, 2007, 10:39:26 PM\">8 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nUpdating from gaim Repository<br />\n</p>\n\n            \n            \n          </dd>\n        <dt class=\"property files\">\n          File:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>1 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228\">\n              vendor/current/gtk/gtkconv.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">58 diffs</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/gtk/gtkconv.c\" title=\"Show the changeset 228 restricted to vendor/current/gtk/gtkconv.c\">vendor/current/gtk/gtkconv.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 65\">\n                    <a title=\"Show revision 65 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L75\">\n                      r65</a>\n                  </th>\n                  <th title=\"Revision 228\">\n                    <a title=\"Show revision 228 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L75\">\n                      r228</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>75</th><th>75</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_SET_TITLE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1 &lt;&lt; 0,</span>\u00a0</td>\n                  </tr><tr>\n                          <th>76</th><th>76</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_BUDDY_ICON&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 1 &lt;&lt; 1,</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>77</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_MENU&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<del>&nbsp; &nbsp; &nbsp; &nbsp; </del>= 1 &lt;&lt; 2,</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>77</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_MENU&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<ins></ins>= 1 &lt;&lt; 2,</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>78</th><th>78</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_TAB_ICON&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 1 &lt;&lt; 3,</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>79</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_TOPIC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>= 1 &lt;&lt; 4,</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>79</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_TOPIC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>= 1 &lt;&lt; 4,</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>80</th><th>80</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_SMILEY_THEME&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 1 &lt;&lt; 5,</span>\u00a0</td>\n                  </tr><tr>\n                          <th>81</th><th>81</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GAIM_GTKCONV_COLORIZE_TITLE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 1 &lt;&lt; 6</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L167\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L167\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>167</th><th>167</th><td class=\"l\"><span>static gboolean color_is_visible(GdkColor foreground, GdkColor background, int color_contrast, int brightness_contrast);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>168</th><th>168</th><td class=\"l\"><span>static void gaim_gtkconv_update_fields(GaimConversation *conv, GaimGtkConvFields fields);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>169</th><td class=\"r\"><ins>static void focus_out_from_menubar(GtkWidget *wid, GaimGtkWindow *win);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>169</th><th>170</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>170</th><th>171</th><td class=\"l\"><span>static GdkColor *get_nick_color(GaimGtkConversation *gtkconv, const char *name) {</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L203\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L204\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>203</th><th>204</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>204</th><th>205</th><td class=\"l\"><span>static gboolean</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>206</th><td class=\"r\"><ins>lbox_size_allocate_cb(GtkWidget *w, GtkAllocation *allocation, gpointer data)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>207</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>208</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_set_int(\"/gaim/gtk/conversations/chat/userlist_width\", allocation-&gt;width == 1 ? 0 : allocation-&gt;width);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>209</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>210</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>211</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>212</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>213</th><td class=\"r\"><ins>static gboolean</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>205</th><th>214</th><td class=\"l\"><span>size_allocate_cb(GtkWidget *w, GtkAllocation *allocation, GaimGtkConversation *gtkconv)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>206</th><th>215</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L216\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L225\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>216</th><th>225</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>217</th><th>226</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>218</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>227</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>219</th><th>228</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* I find that I resize the window when it has a bunch of conversations in it, mostly so that the</span>\u00a0</td>\n                  </tr><tr>\n                          <th>220</th><th>229</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* tab bar will fit, but then I don't want new windows taking up the entire screen.&nbsp; I check to see</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L240\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L249\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>240</th><th>249</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (w == gtkconv-&gt;lower_hbox)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>241</th><th>250</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_set_int(\"/gaim/gtk/conversations/chat/entry_height\", allocation-&gt;height);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>242</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (w == gtkconv-&gt;u.chat-&gt;list)</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>243</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_set_int(\"/gaim/gtk/conversations/chat/userlist_width\", allocation-&gt;width == 1 ? 0 : allocation-&gt;width);</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>244</th><th>251</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>245</th><th>252</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L270\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L277\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>270</th><th>277</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>271</th><th>278</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!(conv-&gt;features &amp; GAIM_CONNECTION_NO_FONTSIZE))</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>272</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_imhtml_font_set_size(GTK_IMHTML(c-&gt;entry),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>273</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_get_int(\"/gaim/gtk/conversations/font_size\"));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>279</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>280</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int size = gaim_prefs_get_int(\"/gaim/gtk/conversations/font_size\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>281</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>282</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* 3 is the default. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>283</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (size != 3)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>284</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>285</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_imhtml_font_set_size(GTK_IMHTML(c-&gt;entry), size);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>286</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>287</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>274</th><th>288</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>275</th><th>289</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(strcmp(gaim_prefs_get_string(\"/gaim/gtk/conversations/fgcolor\"), \"\") != 0)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L438\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L452\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>438</th><th>452</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>439</th><th>453</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>454</th><td class=\"r\"><ins>static void</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>455</th><td class=\"r\"><ins>reset_default_size(GaimGtkConversation *gtkconv)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>456</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>457</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *conv = gtkconv-&gt;active_conv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>458</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (gaim_conversation_get_type(conv) == GAIM_CONV_TYPE_CHAT)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>459</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(gtkconv-&gt;lower_hbox, -1,</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>460</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_get_int(\"/gaim/gtk/conversations/chat/entry_height\"));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>461</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; else</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>462</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(gtkconv-&gt;lower_hbox, -1,</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>463</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_get_int(\"/gaim/gtk/conversations/im/entry_height\"));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>464</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>465</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>440</th><th>466</th><td class=\"l\"><span>static gboolean</span>\u00a0</td>\n                  </tr><tr>\n                          <th>441</th><th>467</th><td class=\"l\"><span>check_for_and_do_command(GaimConversation *conv)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L475\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L501\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>475</th><th>501</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>476</th><th>502</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case GAIM_CMD_STATUS_NOT_FOUND:</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>477</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!gaim_prefs_get_bool(\"/gaim/gtk/conversations/passthrough_unknown_commands\")) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>478</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_write(conv, \"\", _(\"No such command.\"),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>479</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GAIM_MESSAGE_NO_LOG, time(NULL));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>480</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>481</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>482</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>483</th><th>503</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>484</th><th>504</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case GAIM_CMD_STATUS_WRONG_ARGS:</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L530\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L550\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>530</th><th>550</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>531</th><th>551</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (check_for_and_do_command(conv)) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>552</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (gtkconv-&gt;entry_growing) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>553</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reset_default_size(gtkconv);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>554</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtkconv-&gt;entry_growing = FALSE;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>555</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>532</th><th>556</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_imhtml_clear(GTK_IMHTML(gtkconv-&gt;entry));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>533</th><th>557</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L579\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L603\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>579</th><th>603</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>580</th><th>604</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_imhtml_clear(GTK_IMHTML(gtkconv-&gt;entry));</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>605</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (gtkconv-&gt;entry_growing) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>606</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reset_default_size(gtkconv);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>607</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtkconv-&gt;entry_growing = FALSE;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>608</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>581</th><th>609</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtkconv_set_unseen(gtkconv, GAIM_UNSEEN_NONE);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>582</th><th>610</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2264\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2292\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2264</th><th>2292</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2265</th><th>2293</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2266</th><th>\u00a0</th><td class=\"l\"><span>/* This gets added as an idle handler when doing something that<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2294</th><td class=\"r\"><span>/* This gets added as an idle handler when doing something that<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2267</th><th>2295</th><td class=\"l\"><span>&nbsp;* redraws the icon. It sets the auto_resize gboolean to TRUE.</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2268</th><th>2296</th><td class=\"l\"><span>&nbsp;* This way, when the size_allocate callback gets triggered, it notices</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2297\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2325\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2297</th><th>2325</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtkconv-&gt;auto_resize = TRUE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2298</th><th>2326</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_idle_add(reset_auto_resize_cb, gtkconv);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2299</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2327</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2300</th><th>2328</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gdk_pixbuf_animation_iter_advance(gtkconv-&gt;u.im-&gt;iter, NULL);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2301</th><th>2329</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; buf = gdk_pixbuf_animation_iter_get_pixbuf(gtkconv-&gt;u.im-&gt;iter);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2302</th><th>2330</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2303</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_gtk_buddy_icon_get_scale_size(buf, <del>prpl_info ? &amp;prpl_info-&gt;icon_spec :</del></span>\u00a0</td>\n                      </tr><tr>\n                        <th>2304</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>NULL</del>, &amp;scale_width, &amp;scale_height);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>2331</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_gtk_buddy_icon_get_scale_size(buf, <ins>&amp;prpl_info-&gt;icon_spec,</ins></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>2332</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>GAIM_ICON_SCALE_DISPLAY</ins>, &amp;scale_width, &amp;scale_height);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2305</th><th>2333</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>2306</th><th>2334</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* this code is ugly, and scares me */</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2349\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2377\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2349</th><th>2377</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>2350</th><th>2378</th><td class=\"l\"><span>static void</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2351</th><th>\u00a0</th><td class=\"l\"><span>remove_icon(G<del></del>aimGtkConversation *gtkconv)</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2379</th><td class=\"r\"><span>remove_icon(G<ins>tkWidget *widget, G</ins>aimGtkConversation *gtkconv)</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2352</th><th>2380</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2353</th><th>2381</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *conv = gtkconv-&gt;active_conv;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2397\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2425\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2397</th><th>2425</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; data = gaim_buddy_icon_get_data(icon, &amp;len);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2398</th><th>2426</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2399</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ((len &lt;= 0) || (data == NULL)<del></del>) {</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2427</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ((len &lt;= 0) || (data == NULL)<ins>&nbsp;|| (fwrite(data, 1, len, fp) != len)</ins>) {</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2400</th><th>2428</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_error(gtkconv, NULL, _(\"Unable to save icon file to disk.\"), NULL);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2401</th><th>2429</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fclose(fp);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>2430</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_unlink(filename);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2402</th><th>2431</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2403</th><th>2432</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>2404</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>2405</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; fwrite(data, 1, len, fp);</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2406</th><th>2433</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; fclose(fp);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>2434</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2435</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2436</th><td class=\"r\"><ins>static const char *</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2437</th><td class=\"r\"><ins>custom_icon_pref_name(GaimGtkConversation *gtkconv)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2438</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2439</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *conv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2440</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GaimAccount *account;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2441</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GaimBuddy *buddy;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2442</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2443</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; conv = gtkconv-&gt;active_conv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2444</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; account = gaim_conversation_get_account(conv);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2445</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; buddy = gaim_find_buddy(account, gaim_conversation_get_name(conv));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2446</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (buddy) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2447</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimContact *contact = gaim_buddy_get_contact(buddy);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2448</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return gaim_blist_node_get_string((GaimBlistNode*)contact, \"custom_buddy_icon\");</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2449</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2450</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; return NULL;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2451</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2452</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2453</th><td class=\"r\"><ins>static void</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2454</th><td class=\"r\"><ins>custom_icon_sel_cb(const char *filename, gpointer data)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2455</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2456</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (filename) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2457</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimGtkConversation *gtkconv = data;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2458</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *conv = gtkconv-&gt;active_conv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2459</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimAccount *account = gaim_conversation_get_account(conv);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2460</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_gtk_set_custom_buddy_icon(account, gaim_conversation_get_name(conv), filename);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2461</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2462</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2463</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2464</th><td class=\"r\"><ins>static void</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2465</th><td class=\"r\"><ins>set_custom_icon_cb(GtkWidget *widget, GaimGtkConversation *gtkconv)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2466</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2467</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *win = gaim_gtk_buddy_icon_chooser_new(GTK_WINDOW(gtkconv-&gt;win-&gt;window),</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2468</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; custom_icon_sel_cb, gtkconv);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2469</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show_all(win);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2470</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2471</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2472</th><td class=\"r\"><ins>static void</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2473</th><td class=\"r\"><ins>remove_custom_icon_cb(GtkWidget *widget, GaimGtkConversation *gtkconv)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2474</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2475</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GaimConversation *conv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2476</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GaimAccount *account;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2477</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2478</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; conv = gtkconv-&gt;active_conv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2479</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; account = gaim_conversation_get_account(conv);</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>2480</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; gaim_gtk_set_custom_buddy_icon(account, gaim_conversation_get_name(conv), NULL);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2407</th><th>2481</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2408</th><th>2482</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2454\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2528\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2454</th><th>2528</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2455</th><th>2529</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; static GtkWidget *menu = NULL;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2456</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>GtkWidget *item</del>;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2530</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>const char *pref</ins>;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2457</th><th>2531</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>2458</th><th>2532</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (e-&gt;button != 3 || e-&gt;type != GDK_BUTTON_PRESS)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2476\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2550\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2476</th><th>2550</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2477</th><th>2551</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2478</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; item = gtk_menu_item_new_with_label(_(\"Hide Icon\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>2479</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect_swapped(G_OBJECT(item), \"activate\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>2480</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(remove_icon), gtkconv);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>2481</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_menu_shell_append(GTK_MENU_SHELL(menu), item);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>2482</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show(item);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>2552</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_new_item_from_stock(menu, _(\"Hide Icon\"), NULL, G_CALLBACK(remove_icon),</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>2553</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gtkconv, 0, 0, NULL);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2483</th><th>2554</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>2484</th><th>2555</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_new_item_from_stock(menu, _(\"Save Icon As...\"), GTK_STOCK_SAVE_AS,</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2485</th><th>2556</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(icon_menu_save_cb), gtkconv,</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2486</th><th>2557</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0, 0, NULL);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>2558</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2559</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; gaim_new_item_from_stock(menu, _(\"Set Custom Icon...\"), NULL,</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2560</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(set_custom_icon_cb), gtkconv,</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2561</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0, 0, NULL);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2562</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2563</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /* Is there a custom icon for this person? */</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2564</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; pref = custom_icon_pref_name(gtkconv);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2565</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (pref &amp;&amp; *pref) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2566</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_new_item_from_stock(menu, _(\"Remove Custom Icon\"), NULL,</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2567</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK(remove_custom_icon_cb), gtkconv,</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2568</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0, 0, NULL);</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>2569</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2487</th><th>2570</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>2488</th><th>2571</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_menu_popup(GTK_MENU(menu), NULL, NULL, NULL, NULL, e-&gt;button, e-&gt;time);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2513\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2596\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2513</th><th>2596</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_gtkconv_update_buddy_icon(conv);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2514</th><th>2597</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2515</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; remove_icon(<del></del>gtkconv);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2598</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; remove_icon(<ins>NULL, </ins>gtkconv);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2516</th><th>2599</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2517</th><th>2600</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2783\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2866\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2783</th><th>2866</th><td class=\"l\"><span>static void menubar_activated(GtkWidget *item, gpointer data)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2784</th><th>2867</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2785</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; regenerate_options_items(data);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>2868</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimGtkWindow *win = data;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>2869</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; regenerate_options_items(win);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>2870</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>2871</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* The following are to make sure the 'More' submenu is not regenerated every time</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>2872</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* the focus shifts from 'Conversations' to some other menu and back. */</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2786</th><th>2873</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_handlers_block_by_func(G_OBJECT(item), G_CALLBACK(menubar_activated), data);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>2874</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(win-&gt;menu.menubar), \"deactivate\", G_CALLBACK(focus_out_from_menubar), data);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2787</th><th>2875</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2788</th><th>2876</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2790\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2878\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2790</th><th>2878</th><td class=\"l\"><span>focus_out_from_menubar(GtkWidget *wid, GaimGtkWindow *win)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2791</th><th>2879</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>2880</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /* The menubar has been deactivated. Make sure the 'More' submenu is regenerated next time</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>2881</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* the 'Conversation' menu pops up. */</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2792</th><th>2882</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *menuitem = gtk_item_factory_get_item(win-&gt;menu.item_factory, N_(\"/Conversation\"));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2793</th><th>2883</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_handlers_unblock_by_func(G_OBJECT(menuitem), G_CALLBACK(menubar_activated), win);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>2884</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_handlers_disconnect_by_func(G_OBJECT(win-&gt;menu.menubar),</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>2885</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK(focus_out_from_menubar), win);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2794</th><th>2886</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2795</th><th>2887</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2817\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2909\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2817</th><th>2909</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(gaim_gtk_save_accels_cb), NULL);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2818</th><th>2910</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>2911</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /* Make sure the 'Conversation -&gt; More' menuitems are regenerated whenever</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2912</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* the 'Conversation' menu pops up because the entries can change after the</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>2913</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* conversation is created. */</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2819</th><th>2914</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; menuitem = gtk_item_factory_get_item(win-&gt;menu.item_factory, N_(\"/Conversation\"));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2820</th><th>2915</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(menuitem), \"activate\", G_CALLBACK(menubar_activated), win);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L2822\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L2917\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>2822</th><th>2917</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; win-&gt;menu.menubar =</span>\u00a0</td>\n                  </tr><tr>\n                          <th>2823</th><th>2918</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_item_factory_get_widget(win-&gt;menu.item_factory, \"&lt;main&gt;\");</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>2824</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>2825</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(win-&gt;menu.menubar), \"deactivate\", G_CALLBACK(focus_out_from_menubar), win);</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2826</th><th>2919</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>2827</th><th>2920</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; win-&gt;menu.view_log =</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3328\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L3421\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3328</th><th>3421</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gboolean is_me = FALSE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3329</th><th>3422</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gboolean is_buddy;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3330</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gchar *<del></del>alias_key, *name, *alias;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>3423</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gchar *<ins>tmp, *</ins>alias_key, *name, *alias;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3331</th><th>3424</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int flags;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3332</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>3425</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3333</th><th>3426</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; alias = cb-&gt;alias;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3334</th><th>3427</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; name&nbsp; = cb-&gt;name;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3352\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L3445\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3352</th><th>3445</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; is_buddy = (gaim_find_buddy(conv-&gt;account, name) != NULL);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3353</th><th>3446</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3354</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; alias_key = g_utf8_collate_key(alias, strlen(alias));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>3447</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tmp = g_utf8_casefold(alias, -1);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>3448</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; alias_key = g_utf8_collate_key(tmp, -1);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>3449</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(tmp);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3355</th><th>3450</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>3356</th><th>3451</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (is_me)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3358\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L3453\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3358</th><th>3453</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GdkColor send_color;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3359</th><th>3454</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gdk_color_parse(SEND_COLOR, &amp;send_color);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3360</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>3361</th><th>\u00a0</th><td class=\"l\"><span>#if GTK_CHECK_VERSION(2,6,0)<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>3455</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>3456</th><td class=\"r\"><span>#if GTK_CHECK_VERSION(2,6,0)<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3362</th><th>3457</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_list_store_insert_with_values(ls, &amp;iter,</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3363</th><th>\u00a0</th><td class=\"l\"><span>/*<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>3458</th><td class=\"r\"><span>/*<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3364</th><th>3459</th><td class=\"l\"><span>&nbsp;* The GTK docs are mute about the effects of the \"row\" value for performance.</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3365</th><th>3460</th><td class=\"l\"><span>&nbsp;* X-Chat hardcodes their value to 0 (prepend) and -1 (append), so we will too.</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3692\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L3787\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3692</th><th>3787</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = (buddy1 &gt; buddy2) ? -1 : 1;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3693</th><th>3788</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3694</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = strc<del>asec</del>mp(user1, user2);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>3789</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = strc<ins></ins>mp(user1, user2);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3695</th><th>3790</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3696</th><th>3791</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3729\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L3824\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3729</th><th>3824</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!strcmp(normalized_name, gaim_normalize(conv-&gt;account, name))) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3730</th><th>3825</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const char *alias = name;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>3826</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *tmp;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3731</th><th>3827</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *alias_key = NULL;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3732</th><th>3828</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimBuddy *buddy2;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3739\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L3835\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3739</th><th>3835</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3740</th><th>3836</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3741</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alias_key = g_utf8_collate_key(alias, strlen(alias));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>3837</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp = g_utf8_casefold(alias, -1);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>3838</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alias_key = g_utf8_collate_key(tmp, -1);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>3839</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(tmp);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3742</th><th>3840</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>3743</th><th>3841</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_list_store_set(GTK_LIST_STORE(model), &amp;iter,</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3877\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L3975\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3877</th><th>3975</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show(menuitem);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3878</th><th>3976</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_menu_shell_insert(GTK_MENU_SHELL(menu), menuitem, 1);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>3977</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3978</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3979</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3980</th><td class=\"r\"><ins>static void resize_imhtml_cb(GaimGtkConversation *gtkconv)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3981</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3982</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GtkTextBuffer *buffer;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3983</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GtkTextIter iter;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3984</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; int wrapped_lines;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3985</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; int lines;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3986</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GdkRectangle oneline;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3987</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GtkRequisition sr;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3988</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; int height;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3989</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; int pad_top, pad_inside, pad_bottom;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3990</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3991</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(gtkconv-&gt;entry));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3992</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3993</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; wrapped_lines = 1;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3994</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; gtk_text_buffer_get_start_iter(buffer, &amp;iter);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3995</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; gtk_text_view_get_iter_location(GTK_TEXT_VIEW(gtkconv-&gt;entry), &amp;iter, &amp;oneline);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3996</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; while (gtk_text_view_forward_display_line(GTK_TEXT_VIEW(gtkconv-&gt;entry), &amp;iter))</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3997</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wrapped_lines++;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3998</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3999</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; lines = gtk_text_buffer_get_line_count(buffer);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4000</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4001</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /* Show a maximum of 4 lines */</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4002</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; lines = MIN(lines, 4);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4003</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; wrapped_lines = MIN(wrapped_lines, 4);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4004</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4005</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; pad_top = gtk_text_view_get_pixels_above_lines(GTK_TEXT_VIEW(gtkconv-&gt;entry));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4006</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; pad_bottom = gtk_text_view_get_pixels_below_lines(GTK_TEXT_VIEW(gtkconv-&gt;entry));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4007</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; pad_inside = gtk_text_view_get_pixels_inside_wrap(GTK_TEXT_VIEW(gtkconv-&gt;entry));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4008</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4009</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; height = (oneline.height + pad_top + pad_bottom) * lines;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4010</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; height += (oneline.height + pad_inside) * (wrapped_lines - lines);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4011</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4012</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_size_request(gtkconv-&gt;lower_hbox, &amp;sr);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4013</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (sr.height &lt; height + GAIM_HIG_BOX_SPACE) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4014</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtkconv-&gt;auto_resize = TRUE;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4015</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtkconv-&gt;entry_growing = TRUE;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4016</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(gtkconv-&gt;lower_hbox, -1, height + GAIM_HIG_BOX_SPACE);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4017</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_idle_add(reset_auto_resize_cb, gtkconv);</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>4018</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3879</th><th>4019</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3880</th><th>4020</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3986\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4126\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3986</th><th>4126</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>3987</th><th>4127</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; ls = gtk_list_store_new(CHAT_USERS_COLUMNS, GDK_TYPE_PIXBUF, G_TYPE_STRING,</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>3988</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_TYPE_STRING, G_TYPE_STRING, G_TYPE_INT,<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>4128</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_TYPE_STRING, G_TYPE_STRING, G_TYPE_INT,<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3989</th><th>4129</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GDK_TYPE_COLOR, G_TYPE_INT);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3990</th><th>4130</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_sortable_set_sort_func(GTK_TREE_SORTABLE(ls), CHAT_USERS_ALIAS_KEY_COLUMN,</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L3999\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4139\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>3999</th><th>4139</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_view_column_set_sizing(col, GTK_TREE_VIEW_COLUMN_AUTOSIZE);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4000</th><th>4140</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_view_append_column(GTK_TREE_VIEW(list), col);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>4001</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(lbox,<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>4141</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(lbox,<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4002</th><th>4142</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_get_int(\"/gaim/gtk/conversations/chat/userlist_width\"), -1);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4003</th><th>4143</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4006\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4146\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4006</th><th>4146</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(list), \"popup-menu\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4007</th><th>4147</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(gtkconv_chat_popup_menu_cb), gtkconv);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>4008</th><th>\u00a0</th><td class=\"l\"><span><del>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(list), \"size-allocate\", G_CALLBACK(</del>size_allocate_cb), gtkconv);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>4009</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>4010</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>4148</th><td class=\"r\"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(lbox), \"size-allocate\", G_CALLBACK(lbox_</ins>size_allocate_cb), gtkconv);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>4149</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>4150</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4011</th><th>4151</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; rend = gtk_cell_renderer_text_new();</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4012</th><th>4152</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4071\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4211\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4071</th><th>4211</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_text_view_get_buffer(GTK_TEXT_VIEW(gtkconv-&gt;entry));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4072</th><th>4212</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_object_set_data(G_OBJECT(gtkconv-&gt;entry_buffer), \"user_data\", gtkconv);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>4073</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>4213</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect_swapped(G_OBJECT(gtkconv-&gt;entry_buffer), \"changed\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>4214</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(resize_imhtml_cb), gtkconv);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>4215</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4074</th><th>4216</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(gtkconv-&gt;entry), \"key_press_event\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4075</th><th>4217</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(entry_key_press_cb), gtkconv);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4182\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4324\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4182</th><th>4324</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect(G_OBJECT(gtkconv-&gt;entry_buffer), \"delete_range\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4183</th><th>4325</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(delete_text_cb), gtkconv);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>4326</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect_swapped(G_OBJECT(gtkconv-&gt;entry_buffer), \"changed\",</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>4327</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;G_CALLBACK(resize_imhtml_cb), gtkconv);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4184</th><th>4328</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>4185</th><th>4329</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* had to move this after the imtoolbar is attached so that the</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4479\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4623\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4479</th><th>4623</th><td class=\"l\"><span>static void</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4480</th><th>4624</th><td class=\"l\"><span>received_im_msg_cb(GaimAccount *account, char *sender, char *message,</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>4481</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GaimConversation *conv, <del>int</del> flags)</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>4625</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GaimConversation *conv, <ins>GaimMessageFlags</ins> flags)</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4482</th><th>4626</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4483</th><th>4627</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimConversationUiOps *ui_ops = gaim_gtk_conversations_get_conv_ui_ops();</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4622\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4766\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4622</th><th>4766</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GaimGtkConversation *gtkconv = GAIM_GTK_CONVERSATION(conv);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4623</th><th>4767</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkTextTag *buddytag;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>4624</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* strlen(\"BUDDY \") == 6 */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>4625</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gchar str[strlen(who) + 7];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>4626</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>4627</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_snprintf(str, sizeof(str), \"BUDDY %s\", who);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>4628</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; str[sizeof(str)] = '\\0';</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>4768</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gchar *str;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>4769</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>4770</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; str = g_strdup_printf(\"BUDDY %s\", who);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4629</th><th>4771</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>4630</th><th>4772</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; buddytag = gtk_text_tag_table_lookup(</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4639\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4781\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4639</th><th>4781</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK(buddytag_event), conv);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4640</th><th>4782</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>4783</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>4784</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_free(str);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4641</th><th>4785</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>4642</th><th>4786</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return buddytag;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4667\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4811\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4667</th><th>4811</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char *displaying;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4668</th><th>4812</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gboolean plugin_return;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>4669</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>4813</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char *bracket;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>4814</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int tag_count = 0;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>4815</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4670</th><th>4816</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_return_if_fail(conv != NULL);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4671</th><th>4817</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtkconv = GAIM_GTK_CONVERSATION(conv);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L4710\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L4856\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>4710</th><th>4856</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; length = strlen(message) + 1;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4711</th><th>4857</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>4858</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /* Awful hack to work around GtkIMHtml's inefficient rendering of messages with lots of formatting changes.</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4859</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* If a message has over 100 '&lt;' characters, strip formatting before appending it. Hopefully nobody actually</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4860</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* needs that much formatting, anyway.</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4861</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4862</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; for (bracket = strchr(message, '&lt;'); bracket &amp;&amp; *(bracket + 1); bracket = strchr(bracket + 1, '&lt;'))</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4863</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tag_count++;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4864</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4865</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (tag_count &gt; 100) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4866</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const char *tmp = message;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4867</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message = displaying = gaim_markup_strip_html(message);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4868</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(tmp);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4869</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>4870</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4712</th><th>4871</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; win = gtkconv-&gt;win;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4713</th><th>4872</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; prpl_info = GAIM_PLUGIN_PROTOCOL_INFO(gc-&gt;prpl);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5030\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L5189\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5030</th><th>5189</th><td class=\"l\"><span>#if GTK_CHECK_VERSION(2,6,0)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5031</th><th>5190</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_tree_sortable_set_sort_column_id(GTK_TREE_SORTABLE(ls),&nbsp; GTK_TREE_SORTABLE_UNSORTED_SORT_COLUMN_ID,</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5032</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GTK_TREE_SORTABLE_UNSORTED_SORT_COLUMN_ID);<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5191</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GTK_TREE_SORTABLE_UNSORTED_SORT_COLUMN_ID);<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5033</th><th>5192</th><td class=\"l\"><span>#endif</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5034</th><th>5193</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5039\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L5198\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5039</th><th>5198</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5040</th><th>5199</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5041</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Currently GTK+ maintains our sorted list after it's in the tree.<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5200</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Currently GTK+ maintains our sorted list after it's in the tree.<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5042</th><th>5201</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* This may change if it turns out we can manage it faster ourselves.</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5043</th><th>5202</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5322\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L5481\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5322</th><th>5481</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>5323</th><th>5482</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_imhtml_associate_smiley(imhtml, sml, smiley);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5324</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5483</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5325</th><th>5484</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5326</th><th>5485</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5327</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5486</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5328</th><th>5487</th><td class=\"l\"><span>static gboolean</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5329</th><th>5488</th><td class=\"l\"><span>gaim_gtkconv_custom_smiley_add(GaimConversation *conv, const char *smile, gboolean remote)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5336\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L5495\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5336</th><th>5495</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5337</th><th>5496</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5338</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5497</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5339</th><th>5498</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* If smileys are off, return false */</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5340</th><th>5499</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (gaim_gtkthemes_smileys_disabled())</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5341</th><th>5500</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5342</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5501</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5343</th><th>5502</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* If possible add this smiley to the current theme.</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5344</th><th>5503</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* The addition is only temporary: custom smilies aren't saved to disk. */</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5345</th><th>5504</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; conv_sml = gaim_account_get_protocol_name(conv-&gt;account);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5346</th><th>5505</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtkconv = GAIM_GTK_CONVERSATION(conv);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5347</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5506</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5348</th><th>5507</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; for (list = (struct smiley_list *)current_smiley_theme-&gt;list; list; list = list-&gt;next) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5349</th><th>5508</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!strcmp(list-&gt;sml, conv_sml)) {</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5352\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L5511\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5352</th><th>5511</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5353</th><th>5512</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5354</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5513</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5355</th><th>5514</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!add_custom_smiley_for_imhtml(GTK_IMHTML(gtkconv-&gt;imhtml), sml, smile))</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5356</th><th>5515</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5357</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>5516</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5358</th><th>5517</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!remote)&nbsp; &nbsp; /* If it's a local custom smiley, then add it for the entry */</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5359</th><th>5518</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!add_custom_smiley_for_imhtml(GTK_IMHTML(gtkconv-&gt;entry), sml, smile))</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5831\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L5990\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5831</th><th>5990</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GError *err = NULL;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5832</th><th>5991</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5833</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const void *data;</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>5992</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const char *custom = NULL;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>5993</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const void *data = NULL;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5834</th><th>5994</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; size_t len;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5835</th><th>5995</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5888\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6048\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5888</th><th>6048</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5889</th><th>6049</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5890</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; icon = gaim_conv_im_get_icon(GAIM_CONV_IM(conv));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>5891</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>5892</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (icon == NULL)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>5893</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>5894</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>5895</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; data = gaim_buddy_icon_get_data(icon, &amp;len);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>6050</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; custom = custom_icon_pref_name(gtkconv);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6051</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (custom) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6052</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* There is a custom icon for this user */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6053</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *contents = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6054</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!g_file_get_contents(custom, &amp;contents, &amp;len, &amp;err)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6055</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug_warning(\"custom icon\", \"could not load custom icon %s for %s\\n\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6056</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; custom, gaim_conversation_get_name(conv));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6057</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_error_free(err);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6058</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; err = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6059</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6060</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data = contents;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6061</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6062</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6063</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (data == NULL) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6064</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; icon = gaim_conv_im_get_icon(GAIM_CONV_IM(conv));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6065</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6066</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (icon == NULL)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6067</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6068</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6069</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data = gaim_buddy_icon_get_data(icon, &amp;len);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6070</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; custom = NULL;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>6071</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5896</th><th>6072</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>5897</th><th>6073</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; loader = gdk_pixbuf_loader_new();</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5902\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6078\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5902</th><th>6078</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_object_ref(G_OBJECT(anim));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5903</th><th>6079</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_object_unref(loader);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>6080</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>6081</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (custom)</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>6082</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free((void*)data);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5904</th><th>6083</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>5905</th><th>6084</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!anim)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5927\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6106\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5927</th><th>6106</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5928</th><th>6107</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>5929</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_gtk_buddy_icon_get_scale_size(buf, <del>prpl_info ? &amp;prpl_info-&gt;icon_spec :</del></span>\u00a0</td>\n                      </tr><tr>\n                        <th>5930</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>NULL</del>, &amp;scale_width, &amp;scale_height);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>6108</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_gtk_buddy_icon_get_scale_size(buf, <ins>&amp;prpl_info-&gt;icon_spec,</ins></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>6109</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>GAIM_ICON_SCALE_DISPLAY</ins>, &amp;scale_width, &amp;scale_height);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5931</th><th>6110</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; scale = gdk_pixbuf_scale_simple(buf,</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5932</th><th>6111</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MAX(gdk_pixbuf_get_width(buf) * scale_width /</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L5954\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6133\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5954</th><th>6133</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(gtkconv-&gt;lower_hbox, -1, -1);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5955</th><th>6134</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_idle_add(reset_auto_resize_cb, gtkconv);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>5956</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; printf(\"Auto resize true\\n\");</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>5957</th><th>6135</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(gtkconv-&gt;u.im-&gt;icon, scale_width, scale_height);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>5958</th><th>6136</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(event), gtkconv-&gt;u.im-&gt;icon);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L6023\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6201\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>6023</th><th>6201</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tab = gtk_notebook_get_tab_label(GTK_NOTEBOOK(notebook), page);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6024</th><th>6202</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>6203</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Make sure the tab is not hidden beyond an arrow */</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>6204</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!GTK_WIDGET_DRAWABLE(tab))</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>6205</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>6206</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>6025</th><th>6207</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (horiz) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6026</th><th>6208</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (x_rel &gt;= tab-&gt;allocation.x - GAIM_HIG_BOX_SPACE &amp;&amp;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L6230\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6412\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>6230</th><th>6412</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>6231</th><th>6413</th><td class=\"l\"><span>static void</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>6232</th><th>\u00a0</th><td class=\"l\"><span>account_status_changed_cb(GaimAccount *account, GaimStatus *oldstatus,<del>&nbsp;</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>6414</th><td class=\"r\"><span>account_status_changed_cb(GaimAccount *account, GaimStatus *oldstatus,<ins></ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>6233</th><th>6415</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimStatus *newstatus)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6234</th><th>6416</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L6258\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6440\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>6258</th><th>6440</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_gtk_conv_window_remove_gtkconv(hidden_convwin, gtkconv);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6259</th><th>6441</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_gtkconv_placement_place(gtkconv);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>6442</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>6443</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* TODO: do we need to do anything for any other conversations that are in the same gtkconv here?</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>6444</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* I'm a little concerned that not doing so will cause the \"pending\" indicator in the gtkblist not to be cleared. -DAA*/</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>6445</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_conversation_update(conv, GAIM_CONV_UPDATE_UNSEEN);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>6260</th><th>6446</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6261</th><th>6447</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L6405\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6591\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>6405</th><th>6591</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_gtkconv_update_fields(conv, GAIM_GTKCONV_TAB_ICON);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6406</th><th>6592</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>6407</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>6593</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>6408</th><th>6594</th><td class=\"l\"><span>static void</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6409</th><th>6595</th><td class=\"l\"><span>update_buddy_icon(GaimBuddy *buddy)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L6495\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6681\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>6495</th><th>6681</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_add_bool(\"/gaim/gtk/conversations/show_timestamps\", TRUE);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6496</th><th>6682</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_add_bool(\"/gaim/gtk/conversations/show_formatting_toolbar\", TRUE);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>6497</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_add_bool(\"/gaim/gtk/conversations/passthrough_unknown_commands\", FALSE);</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>6498</th><th>6683</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>6499</th><th>6684</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_add_string(\"/gaim/gtk/conversations/placement\", \"last\");</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L6661\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L6846\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>6661</th><th>6846</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK(account_signed_off_cb),</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6662</th><th>6847</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GINT_TO_POINTER(GAIM_CONV_ACCOUNT_OFFLINE));</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>6663</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>6848</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>6664</th><th>6849</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_signal_connect(gaim_conversations_get_handle(), \"received-im-msg\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6665</th><th>6850</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; handle, G_CALLBACK(received_im_msg_cb), NULL);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L7077\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L7262\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>7077</th><th>7262</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *tab;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>7078</th><th>7263</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>7264</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (e-&gt;button == 2) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7265</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimGtkConversation *gtkconv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7266</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tab_clicked = gaim_gtkconv_get_tab_at_xy(win, e-&gt;x_root, e-&gt;y_root, NULL);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7267</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7268</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (tab_clicked == -1)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7269</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7270</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7271</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtkconv = gaim_gtk_conv_window_get_gtkconv_at_index(win, tab_clicked);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7272</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; close_conv_cb(NULL, gtkconv);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7273</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7274</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7275</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>7276</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>7079</th><th>7277</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (e-&gt;button != 1 || e-&gt;type != GDK_BUTTON_PRESS)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>7080</th><th>7278</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L7227\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L7425\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>7227</th><th>7425</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e-&gt;x_root, e-&gt;y_root, &amp;to_right);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>7228</th><th>7426</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>7229</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtkconv = <del>GAIM_GTK_CONVERSATION(conv</del>);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>7427</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtkconv = <ins>gaim_gtk_conv_window_get_gtkconv_at_index(win, win-&gt;drag_tab</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>7230</th><th>7428</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>7231</th><th>7429</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (win == dest_win) {</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L7408\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L7606\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>7408</th><th>7606</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_return_if_fail(conv != NULL);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>7409</th><th>7607</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>7410</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtkconv_set_unseen(gtkconv, GAIM_UNSEEN_NONE);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>7608</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* clear unseen flag if conversation is not hidden */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>7609</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(!gaim_gtkconv_is_hidden(gtkconv)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>7610</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtkconv_set_unseen(gtkconv, GAIM_UNSEEN_NONE);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>7611</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>7411</th><th>7612</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>7412</th><th>7613</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Update the menubar */</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=65#L7416\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/gtk/gtkconv.c?rev=228#L7617\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>7416</th><th>7617</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>7417</th><th>7618</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; generate_send_to_items(win);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>7619</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; regenerate_options_items(win);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>7418</th><th>7620</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>7419</th><th>7621</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_gtkconv_switch_active_conversation(conv);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=228\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=228\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 41022.0}