{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 1113 for nomatic trunk service View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Apr 14 2 9 11 11 38 AM 6 years ago Author djp3Message In the middle of working on idler code Location nomatic trunk service src native idle mac Files 1 added1 edited1 moved build xml modified 2 diffs idle c moved moved from nomatic trunk service src native idle mac idler c 6 diffs idleExample c added Legend UnmodifiedAddedRemoved nomatic trunk service src native idle mac build xml r1 65 r1113 55 target name clean 66 delete file jni h 7 delete file idleExample 78 delete file libmacidlesensor jnilib 89 target 91 1 11 target name build idle mac sensor 12 1113 exec executable javah exe 1214 arg line o jni h classpath build classes dir edu uci ics luci nomatic service sensors MacIdleSensor 1921 copy file libmacidlesensor jnilib todir build native dir 2 22 23 exec executable cc exe 24 arg line O3 Wall isysroot Developer SDKs MacOSX1 4u sdk I System Library Frameworks JavaVM framework Headers Wl syslibroot Developer SDKs MacOSX1 4u sdk framework JavaVM framework CoreFoundation F System Library PrivateFrameworks framework Apple8 211 o idleExample idleExample c 25 exec 26 2127 target 28 2229 project nomatic trunk service src native idle mac idle c r11 7 r1113 11 2 Copyright 2 7 2 8 2 Copyright 2 7 2 9 33 University of California Irvine c o Donald J Patterson 44 2323 Insight from http macenterprise org content view 121 14 2424 25 ifndef IDLE EXAMPLE 26 include jni h 27 else 28typedef char JNIEnv 29 endif 3 2531 include CoreFoundation CoreFoundation h 2632 include CoreServices CoreServices h 3137 include unistd h 3238 33 include jni h 39long getIdleTime 4 41 mach port t masterPort 42 io iterator t iter 3443 35 JNIEXPORT jlong JNICALL Java edu uci ics luci nomatic service sensors MacIdleSensor getIdleTimeNative JNIEnv env jclass ob 36 37 mach port t masterPort 38 io iterator t iter 44 IOMasterPort MACH PORT NULL masterPort 3945 4 IOMasterPort MACH PORT NULL masterPort 46 long ret 1 4147 42 jclass excCls env FindClass env java lang Exception 43 jlong ret 1 44 45 Get IOHIDSystem 46 IOServiceGetMatchingServices masterPort IOServiceMatching IOHIDSystem iter 48 Get IOHIDSystem 49 IOServiceGetMatchingServices masterPort IOServiceMatching IOHIDSystem iter 475 4851 if iter 49 printf Nomatic IM Mac Idle Sensor Error accessing IOHIDSystem n 5 if excCls 51 env ThrowNew env excCls Idle Sensor Init failed 52 52 ret 1 5353 5454 else 5656 5757 if curObj 58 printf Nomatic IM Mac Idle Sensor Iterator is empty n 59 if excCls 6 env ThrowNew env excCls Idle Sensor Init failed 61 58 ret 2 6259 636 else 64 6561 CFMutableDictionaryRef properties 6662 CFTypeRef obj 6763 6864 if IORegistryEntryCreateCFProperties curObj properties kCFAllocatorDefault KERN SUCCESS properties NULL 69 printf Nomatic IM Mac Idle Sensor Couldn t grab system properties n 7 if excCls 71 env ThrowNew env excCls Idle Sensor Init failed 72 65 ret 3 7366 7467 else 8376 if type CFDataGetTypeID 8477 CFDataGetBytes CFDataRef obj CFRangeMake sizeof tHandle UInt8 tHandle 85 ret jlong tHandle 78 ret long tHandle 8679 else if type CFNumberGetTypeID 878 CFNumberGetValue CFNumberRef obj kCFNumberSInt64Type tHandle 88 ret jlong tHandle 81 ret long tHandle 8982 else 83 printf Nomatic IM Mac Idle Sensor Unsupported type d n int type 84 ret 4 85 86 CFRelease obj 87 else 88 ret 5 89 9 91 CFRelease CFTypeRef properties 92 93 IOObjectRelease curObj 94 95 Release our resources 96 IOObjectRelease iter 97 return ret 98 99 1 JNIEXPORT jlong JNICALL Java edu uci ics luci nomatic service sensors MacIdleSensor getIdleTimeNative JNIEnv env jclass ob 1 1 1 2 jclass excCls env FindClass env java lang Exception 1 3 jlong ret getIdleTime 1 4 1 5 if excCls 1 6 return ret 1 7 1 8 1 9 switch ret 11 case 1 env ThrowNew env excCls Mac Idle Sensor Failed Error accessing IOHIDSystem n break 111 case 2 env ThrowNew env excCls Mac Idle Sensor Failed Iterator is empty n break 112 case 3 env ThrowNew env excCls Mac Idle Sensor Failed Couldn t grab system properties n break 113 case 4 env ThrowNew env excCls Mac Idle Sensor Failed Couldn t grab system properties n break 114 case 5 env ThrowNew env excCls Mac Idle Sensor Failed Couldn t grab system properties n break 9 115 printf Nomatic IM Mac Idle Sensor Unsupported type d n int type 91116 if excCls 114139 11514 116 int main int argc char argv 117 mach port t masterPort 118 io iterator t iter 119 io registry entry t curObj 12 141 121 IOMasterPort MACH PORT NULL masterPort 122 123 Get IOHIDSystem 124 IOServiceGetMatchingServices masterPort 125 IOServiceMatching IOHIDSystem 126 iter 127 if iter 128 printf Error accessing IOHIDSystemn 129 exit 1 13 131 132 curObj IOIteratorNext iter 133 134 if curObj 135 printf Iterator s empty n 136 exit 1 137 138 139 CFMutableDictionaryRef properties 14 CFTypeRef obj 141 142 if IORegistryEntryCreateCFProperties curObj properties 143 kCFAllocatorDefault 144 KERN SUCCESS properties NULL 145 146 obj CFDictionaryGetValue properties CFSTR HIDIdleTime 147 CFRetain obj 148 else 149 printf Couldn t grab properties of systemn 15 obj NULL 151 152 153 if obj 154 uint64 t tHandle 155 156 CFTypeID type CFGetTypeID obj 157 158 if type CFDataGetTypeID 159 CFDataGetBytes CFDataRef obj 16 CFRangeMake sizeof tHandle 161 UInt8 tHandle 162 else if type CFNumberGetTypeID 163 CFNumberGetValue CFNumberRef obj 164 kCFNumberSInt64Type 165 tHandle 166 else 167 printf d unsupported typen int type 168 exit 1 169 17 171 CFRelease obj 172 173 essentially divides by 1 9 174 tHandle 3 175 printf qin tHandle 176 else 177 printf Can t find idle timen 178 179 18 Release our resources 181 IOObjectRelease curObj 182 IOObjectRelease iter 183 CFRelease CFTypeRef properties 184 185 return 186 187 Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/1113/nomatic/trunk/service", "title": "\n      changeset 1113 for nomatic/trunk/service \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 1113 for nomatic/trunk/service \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=1113\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=1113\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/1114/nomatic/trunk/service\" title=\"Changeset 1114 for nomatic/trunk/service\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/1112/nomatic/trunk/service\" title=\"Changeset 1112 for nomatic/trunk/service\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/1112/nomatic/trunk/service\" title=\"Changeset 1112 for nomatic/trunk/service\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/1114/nomatic/trunk/service\" title=\"Changeset 1114 for nomatic/trunk/service\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/1113\">1113</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service?rev=1113\">nomatic/trunk/service</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Apr 14, 2009, 11:11:38 AM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2009-04-14T11%3A11%3A38-07%3A00&amp;precision=second\" title=\"See timeline at Apr 14, 2009, 11:11:38 AM\">6 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nIn the middle of working on idler code<br />\n</p>\n\n            \n            \n          </dd>\n          <dt class=\"property location\">Location:</dt>\n          <dd class=\"searchable\"><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac?rev=1113\">nomatic/trunk/service/src/native/idle/mac</a></dd>\n        <dt class=\"property files\">\n          Files:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"add\"></dt><dd>1 added</dd>\n              <dt class=\"mod\"></dt><dd>1 edited</dd>\n              <dt class=\"mv\"></dt><dd>1 moved</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/build.xml?rev=1113\">\n              build.xml\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">2 diffs</a>)\n            </li><li>\n          <div class=\"mv\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idle.c?rev=1113\">\n              idle.c\n            </a>\n          <span class=\"comment\">(moved)</span>\n            <small><em>(moved from <a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/native/idle/mac/idler.c?rev=852\" title=\"Show original file (revision 1107)\">\n                nomatic/trunk/service/src/native/idle/mac/idler.c</a>)</em></small>\n              (<a title=\"Show differences\" href=\"#file1\">6 diffs</a>)\n            </li><li>\n          <div class=\"add\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idleExample.c?rev=1113\">\n              idleExample.c\n            </a>\n          <span class=\"comment\">(added)</span>\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/1113/nomatic/trunk/service/src/native/idle/mac/build.xml\" title=\"Show the changeset 1113 restricted to nomatic/trunk/service/src/native/idle/mac/build.xml\">nomatic/trunk/service/src/native/idle/mac/build.xml</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 1065\">\n                    <a title=\"Show revision 1065 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/build.xml?rev=1065#L5\">\n                      r1065</a>\n                  </th>\n                  <th title=\"Revision 1113\">\n                    <a title=\"Show revision 1113 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/build.xml?rev=1113#L5\">\n                      r1113</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5</th><th>5</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;target name=\"clean\"&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6</th><th>6</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;delete file=\"./jni.h\"/&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>7</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;delete file=\"./idleExample\"/&gt;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>7</th><th>8</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;delete file=\"./libmacidlesensor.jnilib\"/&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>8</th><th>9</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/target&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>9</th><th>10</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>10</th><th>11</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;target name=\"build_idle_mac_sensor\"&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>12</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>11</th><th>13</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;exec executable=\"${javah.exe}\"&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>12</th><th>14</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;arg line=\"-o jni.h -classpath ${build.classes.dir} edu.uci.ics.luci.nomatic.service.sensors.MacIdleSensor\"/&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/build.xml?rev=1065#L19\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/build.xml?rev=1113#L21\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>19</th><th>21</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;copy file=\"libmacidlesensor.jnilib\" todir=\"${build.native.dir}\"/&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>20</th><th>22</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>23</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;exec executable=\"${cc.exe}\"&gt;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>24</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;arg line=\"-O3 -Wall -isysroot /Developer/SDKs/MacOSX10.4u.sdk -I/System/Library/Frameworks/JavaVM.framework/Headers -Wl,-syslibroot,/Developer/SDKs/MacOSX10.4u.sdk -framework JavaVM -framework CoreFoundation -F/System/Library/PrivateFrameworks -framework Apple80211 -o idleExample idleExample.c\" /&gt;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>25</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/exec&gt;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>26</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>21</th><th>27</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/target&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>28</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>22</th><th>29</th><td class=\"l\"><span>&lt;/project&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file1\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/1113/nomatic/trunk/service/src/native/idle/mac/idle.c\" title=\"Show the changeset 1113 restricted to nomatic/trunk/service/src/native/idle/mac/idle.c\">nomatic/trunk/service/src/native/idle/mac/idle.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 1107\">\n                    <a title=\"Show revision 1107 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/native/idle/mac/idler.c?rev=852#L1\">\n                      r1107</a>\n                  </th>\n                  <th title=\"Revision 1113\">\n                    <a title=\"Show revision 1113 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idle.c?rev=1113#L1\">\n                      r1113</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1</th><th>1</th><td class=\"l\"><span>/*</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>2</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; Copyright 2007-200<del>8</del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>2</th><td class=\"r\"><span>&nbsp; &nbsp; Copyright 2007-200<ins>9</ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>3</th><th>3</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; University of California, Irvine (c/o Donald J. Patterson)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>4</th><th>4</th><td class=\"l\"><span>*/</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/native/idle/mac/idler.c?rev=852#L23\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idle.c?rev=1113#L23\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>23</th><th>23</th><td class=\"l\"><span>&nbsp;Insight from: http://macenterprise.org/content/view/121/140/ */</span>\u00a0</td>\n                  </tr><tr>\n                          <th>24</th><th>24</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>25</th><td class=\"r\"><ins>#ifndef __IDLE_EXAMPLE__ </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>26</th><td class=\"r\"><ins>#include &lt;jni.h&gt;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>27</th><td class=\"r\"><ins>#else</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>28</th><td class=\"r\"><ins>typedef char JNIEnv;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>29</th><td class=\"r\"><ins>#endif</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>30</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>25</th><th>31</th><td class=\"l\"><span>#include &lt;CoreFoundation/CoreFoundation.h&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>26</th><th>32</th><td class=\"l\"><span>#include &lt;CoreServices/CoreServices.h&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/native/idle/mac/idler.c?rev=852#L31\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idle.c?rev=1113#L37\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>31</th><th>37</th><td class=\"l\"><span>#include &lt;unistd.h&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>32</th><th>38</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>33</th><th>\u00a0</th><td class=\"l\"><span>#include \"jni.h\"</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>39</th><td class=\"r\"><span>long getIdleTime()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>40</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>41</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; mach_port_t masterPort;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>42</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; io_iterator_t iter;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>34</th><th>43</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>35</th><th>\u00a0</th><td class=\"l\"><span>JNIEXPORT jlong JNICALL Java_edu_uci_ics_luci_nomatic_service_sensors_MacIdleSensor_getIdleTimeNative (JNIEnv *env, jclass ob)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>36</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>37</th><th>\u00a0</th><td class=\"l\"><span>mach_port_t masterPort;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>38</th><th>\u00a0</th><td class=\"l\"><span>io_iterator_t iter;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>44</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; IOMasterPort(MACH_PORT_NULL, &amp;masterPort);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>39</th><th>45</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>40</th><th>\u00a0</th><td class=\"l\"><span><del>IOMasterPort(MACH_PORT_NULL, &amp;masterPort)</del>;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>46</th><td class=\"r\"><span><ins>&nbsp; &nbsp; &nbsp; &nbsp; long ret = -1</ins>;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>41</th><th>47</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>42</th><th>\u00a0</th><td class=\"l\"><span>jclass excCls = (*env)-&gt;FindClass(env, \"java/lang/Exception\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>43</th><th>\u00a0</th><td class=\"l\"><span>jlong ret = -1;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>44</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>45</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; /* Get IOHIDSystem */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>46</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; IOServiceGetMatchingServices(masterPort, IOServiceMatching(\"IOHIDSystem\"), &amp;iter);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>48</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Get IOHIDSystem */</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>49</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; IOServiceGetMatchingServices(masterPort, IOServiceMatching(\"IOHIDSystem\"), &amp;iter);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>47</th><th>50</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>48</th><th>51</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (iter == 0) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>49</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; printf(\"Nomatic*IM: Mac Idle Sensor: Error accessing IOHIDSystem\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>50</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (excCls != 0){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>51</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (*env)-&gt;ThrowNew(env, excCls, \"Idle Sensor Init failed.\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>52</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>52</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = -1;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>53</th><th>53</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>54</th><th>54</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/native/idle/mac/idler.c?rev=852#L56\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idle.c?rev=1113#L56\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>56</th><th>56</th><td class=\"l\"><span>&nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>57</th><th>57</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (curObj == 0) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>58</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(\"Nomatic*IM: Mac Idle Sensor: Iterator is empty\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>59</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (excCls != 0){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>60</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (*env)-&gt;ThrowNew(env, excCls, \"Idle Sensor Init failed.\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>61</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>58</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = -2;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>62</th><th>59</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>63</th><th>60</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>64</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>65</th><th>61</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CFMutableDictionaryRef properties = 0;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>66</th><th>62</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CFTypeRef obj;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>67</th><th>63</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>68</th><th>64</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (IORegistryEntryCreateCFProperties(curObj, &amp;properties, kCFAllocatorDefault, 0) != KERN_SUCCESS || properties == NULL) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>69</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(\"Nomatic*IM: Mac Idle Sensor: Couldn't grab system properties\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>70</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (excCls != 0){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>71</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (*env)-&gt;ThrowNew(env, excCls, \"Idle Sensor Init failed.\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>72</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>65</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = -3;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>73</th><th>66</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>74</th><th>67</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/native/idle/mac/idler.c?rev=852#L83\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idle.c?rev=1113#L76\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>83</th><th>76</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (type == CFDataGetTypeID()) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>84</th><th>77</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CFDataGetBytes((CFDataRef) obj, CFRangeMake(0, sizeof(tHandle)), (UInt8*) &amp;tHandle);&nbsp; &nbsp;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>85</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = (<del>j</del>long)tHandle;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>78</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = (<ins></ins>long)tHandle;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>86</th><th>79</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; else if (type == CFNumberGetTypeID()) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>87</th><th>80</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CFNumberGetValue((CFNumberRef)obj,kCFNumberSInt64Type, &amp;tHandle);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>88</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = (<del>j</del>long)tHandle;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>81</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = (<ins></ins>long)tHandle;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>89</th><th>82</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>83</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(\"Nomatic*IM: Mac Idle Sensor: Unsupported type %d\\n\",(int)type);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>84</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = -4;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>85</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>86</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CFRelease(obj);&nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>87</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>88</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = -5;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>89</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>90</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>91</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CFRelease((CFTypeRef)properties);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>92</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>93</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IOObjectRelease(curObj);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>94</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>95</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /* Release our resources */</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>96</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; IOObjectRelease(iter);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>97</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; return(ret);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>98</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>99</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>100</th><td class=\"r\"><ins>JNIEXPORT jlong JNICALL Java_edu_uci_ics_luci_nomatic_service_sensors_MacIdleSensor_getIdleTimeNative (JNIEnv *env, jclass ob)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>101</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>102</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; jclass excCls = (*env)-&gt;FindClass(env, \"java/lang/Exception\");</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>103</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; jlong ret = getIdleTime();</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>104</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>105</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (excCls == 0){</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>106</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return ret;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>107</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>108</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>109</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; switch(ret){</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>110</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case -1: (*env)-&gt;ThrowNew(env, excCls, \"Mac Idle Sensor Failed: Error accessing IOHIDSystem\\n\"); break;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>111</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case -2: (*env)-&gt;ThrowNew(env, excCls, \"Mac Idle Sensor Failed: Iterator is empty\\n\"); break;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>112</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case -3: (*env)-&gt;ThrowNew(env, excCls, \"Mac Idle Sensor Failed: Couldn't grab system properties\\n\");break;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>113</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case -4: (*env)-&gt;ThrowNew(env, excCls, \"Mac Idle Sensor Failed: Couldn't grab system properties\\n\");break;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>114</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case -5: (*env)-&gt;ThrowNew(env, excCls, \"Mac Idle Sensor Failed: Couldn't grab system properties\\n\");break;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>90</th><th>115</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf(\"Nomatic*IM: Mac Idle Sensor: Unsupported type %d\\n\",(int)type);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>91</th><th>116</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (excCls != 0){</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/native/idle/mac/idler.c?rev=852#L114\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/src/native/idle/mac/idle.c?rev=1113#L139\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>114</th><th>139</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>115</th><th>140</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>116</th><th>\u00a0</th><td class=\"l\"><del>int main(int argc, char **argv) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>117</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; mach_port_t masterPort;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>118</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; io_iterator_t iter;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>119</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; io_registry_entry_t curObj;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>120</th><th>141</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>121</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; IOMasterPort(MACH_PORT_NULL, &amp;masterPort);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>122</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>123</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; /* Get IOHIDSystem */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>124</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; IOServiceGetMatchingServices(masterPort,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>125</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IOServiceMatching(\"IOHIDSystem\"),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>126</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&amp;iter);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>127</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; if (iter == 0) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>128</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; printf(\"Error accessing IOHIDSystemn\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>129</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; exit(1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>130</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>131</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>132</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; curObj = IOIteratorNext(iter);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>133</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>134</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; if (curObj == 0) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>135</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; printf(\"Iterator's empty!n\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>136</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; exit(1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>137</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>138</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>139</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; CFMutableDictionaryRef properties = 0;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>140</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; CFTypeRef obj;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>141</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>142</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; if (IORegistryEntryCreateCFProperties(curObj, &amp;properties,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>143</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kCFAllocatorDefault, 0) ==</del>\u00a0</td>\n                  </tr><tr>\n                          <th>144</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; KERN_SUCCESS &amp;&amp; properties != NULL) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>145</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>146</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; obj = CFDictionaryGetValue(properties, CFSTR(\"HIDIdleTime\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>147</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; CFRetain(obj);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>148</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; } else {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>149</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; printf(\"Couldn't grab properties of systemn\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>150</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; obj = NULL;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>151</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>152</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>153</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; if (obj) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>154</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; uint64_t tHandle;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>155</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>156</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; CFTypeID type = CFGetTypeID(obj);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>157</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>158</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; if (type == CFDataGetTypeID()) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>159</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; CFDataGetBytes((CFDataRef) obj,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>160</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CFRangeMake(0, sizeof(tHandle)),</del>\u00a0</td>\n                  </tr><tr>\n                          <th>161</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(UInt8*) &amp;tHandle);&nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>162</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; }&nbsp; else if (type == CFNumberGetTypeID()) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>163</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; CFNumberGetValue((CFNumberRef)obj,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>164</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kCFNumberSInt64Type,</del>\u00a0</td>\n                  </tr><tr>\n                          <th>165</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&amp;tHandle);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>166</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; } else {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>167</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; printf(\"%d: unsupported typen\", (int)type);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>168</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; exit(1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>169</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>170</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>171</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; CFRelease(obj);&nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>172</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>173</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; // essentially divides by 10^9</del>\u00a0</td>\n                  </tr><tr>\n                          <th>174</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; tHandle &gt;&gt;= 30;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>175</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; printf(\"%qin\", tHandle);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>176</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; } else {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>177</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; printf(\"Can't find idle timen\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>178</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>179</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>180</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; /* Release our resources */</del>\u00a0</td>\n                  </tr><tr>\n                          <th>181</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; IOObjectRelease(curObj);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>182</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; IOObjectRelease(iter);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>183</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; CFRelease((CFTypeRef)properties);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>184</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>185</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; return 0;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>186</th><th>\u00a0</th><td class=\"l\"><del>}</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>187</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=1113\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=1113\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 48211.0}