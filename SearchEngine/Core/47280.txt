{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 72 for nomatic trunk service edu uci ics luci nomatic service reporter RemoteReporter java View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Feb 16 2 8 12 24 56 PM 7 years ago Author samMessage File 1 edited nomatic trunk service edu uci ics luci nomatic service reporter RemoteReporter java modified 2 diffs Legend UnmodifiedAddedRemoved nomatic trunk service edu uci ics luci nomatic service reporter RemoteReporter java r714 r72 2424 2525import java io 26 import java net 27 import java util 26import java sql 2827import java util logging 29 import java util prefs Preferences 3 31 import edu uci ics luci nomatic service NomaticService 32 import edu uci ics luci nomatic service SubversionRevision 33 import edu uci ics luci nomatic service NomaticService Environment 34 import edu uci ics luci nomatic service database Record 35 import edu uci ics luci nomatic service gui PrefsDialog 3628 3729 4234 be assumed 4335 author Sam Kaufman 44 see Record 4536 4637public class RemoteReporter 4738 48 private static final String URL http djp3 pc2 ics uci edu webusersStuff remoterecorder record2 py 39 private final static String FILE 4 private final static String TABLE NAME reports to send queue 4941 5 private Preferences prefs Preferences userNodeForPackage NomaticService class 5142 private Logger log Logger getLogger getClass getName 43 private java sql Connection sqlConn 5244 53 private HttpURLConnection conn null 54 private Queue Record buffer new LinkedList Record 55 56 public RemoteReporter 57 Thread t new Thread 58 public void run 59 try 6 while true 61 while buffer size 62 Record r Record buffer remove clone 63 while true 64 try 65 reallyReportToRemoteDatabase r 66 log info Logged record to remote database 67 break 68 69 catch Exception e 7 log log Level WARNING Problem reporting to mass collaboration database e 71 Thread sleep 6 72 73 74 75 Thread sleep 2 76 77 78 catch Exception e 79 log log Level SEVERE RemoteReporterThread died of exception poisoning e 8 81 82 83 t setName RemoteReporterThread 84 t setDaemon true 85 t start 45 public RemoteReporter throws SQLException ClassNotFoundException 46 47 Class forName org sqlite JDBC 48 sqlConn DriverManager getConnection jdbc sqlite FILE 49 5 Check to see if the expected table exists else create it 51 if connHasTable sqlConn TABLE NAME 52 sqlConn createStatement execute CREATE TABLE TABLE NAME 53 index int not null auto increment report blob not null 8654 8755 88 89 Report a scan occurred 9 param r A Record containing all information from the scan alongside the place activity and other fields 91 92 public void report Record r 93 synchronized buffer 94 buffer add r 56 public void report ServerReport report throws SQLException IOException 57 58 PreparedStatement ps sqlConn prepareStatement INSERT INTO TABLE NAME report VALUES 59 6 ByteArrayOutputStream baos new ByteArrayOutputStream 61 ObjectOutputStream oout new ObjectOutputStream baos 62 oout writeObject report 63 oout close 64 ps setBytes 1 baos toByteArray 65 66 ps execute 67 ps close 68 69 7 private static boolean connHasTable Connection conn String tableName throws SQLException 71 72 DatabaseMetaData meta conn getMetaData 73 ResultSet rs meta getTables null null new String TABLE 74 try 75 while rs next 76 String foundTable rs getString TABLE NAME trim toLowerCase 77 if foundTable equals tableName trim toLowerCase 78 return true 79 8 return false 81 82 finally 83 rs close 9584 9685 97 98 private void reallyReportToRemoteDatabase Record r throws MalformedURLException IOException InterruptedException 99 1 Build POST data string 1 1 StringBuilder data new StringBuilder 1 2 data append URLEncoder encode userID UTF 8 1 3 URLEncoder encode Integer toString getUserID UTF 8 1 4 data append URLEncoder encode clientTimeStamp UTF 8 1 5 URLEncoder encode r getTimeStamp toString UTF 8 1 6 if Environment getVersionString null 1 7 data append URLEncoder encode nomaticIMVersion UTF 8 URLEncoder encode Environment getVersionString UTF 8 1 8 1 9 if SubversionRevision getRevision null 11 data append URLEncoder encode subversionRevision UTF 8 URLEncoder encode SubversionRevision getRevision toString UTF 8 111 112 if Environment getBuildType null 113 data append URLEncoder encode buildType UTF 8 URLEncoder encode Environment getBuildType toString UTF 8 114 115 data append URLEncoder encode buffered UTF 8 URLEncoder encode UTF 8 116 if Environment getAlgorithm null 117 data append URLEncoder encode algorithmID UTF 8 URLEncoder encode Environment getAlgorithm UTF 8 118 119 if r getDayOfTheWeek null 12 data append URLEncoder encode dayOfTheWeek UTF 8 URLEncoder encode r getDayOfTheWeek toString UTF 8 121 122 if r getMinutesSinceMidnight null 123 data append URLEncoder encode minutesSinceMidnight UTF 8 URLEncoder encode r getMinutesSinceMidnight toString UTF 8 124 125 if r getRemoteIPAddress null 126 data append URLEncoder encode remoteIPAddress UTF 8 URLEncoder encode r getRemoteIPAddress UTF 8 127 128 if r getDNS null 129 data append URLEncoder encode dNS UTF 8 URLEncoder encode r getDNS UTF 8 13 131 if r getLocalIPAddress null 132 data append URLEncoder encode localIPAddress UTF 8 URLEncoder encode r getLocalIPAddress UTF 8 133 134 if r getWifiMACAddressConnected null 135 data append URLEncoder encode wifiMACAddressConnected UTF 8 URLEncoder encode r getWifiMACAddressConnected UTF 8 136 137 if arrayListToString r getWifiMACAddressList null 138 data append URLEncoder encode wifiMACAddressList UTF 8 URLEncoder encode arrayListToString r getWifiMACAddressList UTF 8 139 14 if r getWifiSSID null 141 data append URLEncoder encode wifiSSID UTF 8 URLEncoder encode r getWifiSSID UTF 8 142 143 if r getNetworkLoad null 144 data append URLEncoder encode networkLoad UTF 8 URLEncoder encode r getNetworkLoad toString UTF 8 145 146 if r getActiveProcess null 147 data append URLEncoder encode activeProcess UTF 8 URLEncoder encode r getActiveProcess UTF 8 148 149 if r getRunningProcesses null 15 data append URLEncoder encode runningProcesses UTF 8 URLEncoder encode arrayListToString r getRunningProcesses UTF 8 151 152 if r getNumberOfDisplays null 153 data append URLEncoder encode numberOfDisplays UTF 8 URLEncoder encode r getNumberOfDisplays toString UTF 8 154 155 if r getDisplayConfiguration null 156 data append URLEncoder encode displayConfiguration UTF 8 URLEncoder encode r getDisplayConfiguration UTF 8 157 158 if r getPowerSource null 159 data append URLEncoder encode powerSource UTF 8 URLEncoder encode r getPowerSource toString UTF 8 16 161 if r getAccelerationX null 162 data append URLEncoder encode accelerationX UTF 8 URLEncoder encode r getAccelerationX toString UTF 8 163 164 if r getAccelerationY null 165 data append URLEncoder encode accelerationY UTF 8 URLEncoder encode r getAccelerationY toString UTF 8 166 167 if r getAccelerationZ null 168 data append URLEncoder encode accelerationZ UTF 8 URLEncoder encode r getAccelerationZ toString UTF 8 169 17 if r getAccelerationMagnitude null 171 data append URLEncoder encode accelerationMagnitude UTF 8 URLEncoder encode r getAccelerationMagnitude toString UTF 8 172 173 if r getAmbientLight null 174 data append URLEncoder encode ambientLight UTF 8 URLEncoder encode r getAmbientLight toString UTF 8 175 176 if r getVolume null 177 data append URLEncoder encode volume UTF 8 URLEncoder encode r getVolume toString UTF 8 178 179 if r getAmbientSound null 18 data append URLEncoder encode ambientSound UTF 8 URLEncoder encode r getAmbientSound toString UTF 8 181 182 if r getUIActivity null 183 data append URLEncoder encode uIActivity UTF 8 URLEncoder encode r getUIActivity toString UTF 8 184 185 if r getBluetoothCount null 186 data append URLEncoder encode bluetoothCount UTF 8 URLEncoder encode r getBluetoothCount toString UTF 8 187 188 if r getBluetoothNames null 189 data append URLEncoder encode bluetoothNames UTF 8 URLEncoder encode r getBluetoothNames toString UTF 8 19 191 if r getCellID null 192 data append URLEncoder encode cellID UTF 8 URLEncoder encode r getCellID toString UTF 8 193 194 if r getCellAreaID null 195 data append URLEncoder encode cellID UTF 8 URLEncoder encode r getCellAreaID toString UTF 8 196 197 if r getGPSLatitude null 198 data append URLEncoder encode gPSLatitude UTF 8 URLEncoder encode r getGPSLatitude toString UTF 8 199 2 if r getGPSLongitude null 2 1 data append URLEncoder encode gPSLongitude UTF 8 URLEncoder encode r getGPSLongitude toString UTF 8 2 2 2 3 if r getPlace null 2 4 data append URLEncoder encode place UTF 8 URLEncoder encode r getPlace UTF 8 2 5 2 6 TODO add PlacePosition information here 2 7 if r getActivity null 2 8 data append URLEncoder encode activity UTF 8 URLEncoder encode r getActivity UTF 8 2 9 21 TODO add ActivityPosition information here 211 if r getOther null 212 data append URLEncoder encode other UTF 8 URLEncoder encode r getOther UTF 8 213 214 TODO add OtherPosition information here 215 data append URLEncoder encode visualizeFifthFloor UTF 8 URLEncoder encode prefs getBoolean PrefsDialog PREF VISUALIZE ON 5TH FLOOR false 1 UTF 8 216 data append URLEncoder encode visualizeFirstFloor UTF 8 URLEncoder encode prefs getBoolean PrefsDialog PREF VISUALIZE ON 1ST FLOOR false 1 UTF 8 217 data append URLEncoder encode visualizeWeb UTF 8 URLEncoder encode prefs getBoolean PrefsDialog PREF VISUALIZE ON WEB false 1 UTF 8 218 219 Connect if necessary 22 conn HttpURLConnection new URL URL openConnection 221 conn setDoOutput true 222 conn setRequestMethod POST 223 224 POST to server 225 PrintWriter out new PrintWriter conn getOutputStream 226 out println data toString 227 out close 228 BufferedReader in new BufferedReader new InputStreamReader conn getInputStream 229 String line 23 while line in readLine null 231 System out println line 232 233 in close 234 235 236 private int getUserID 237 if prefs getInt user id 1 1 238 prefs putInt user id new Random nextInt 239 24 return prefs getInt user id 1 241 242 243 private static String arrayListToString ArrayList String arr 244 if arr null 245 return null 246 StringBuilder b new StringBuilder 247 for String s arr 248 b append s 249 return b substring b length 1 25 251 25286 Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/720/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java", "title": "\n      changeset 720 for nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/remotereporter.java \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 720 for nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=720\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=720\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/729/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\" title=\"Changeset 729 for nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/714/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\" title=\"Changeset 714 for nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/714/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\" title=\"Changeset 714 for nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/729/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\" title=\"Changeset 729 for nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/720\">720</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java?rev=720\">nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Feb 16, 2008, 12:24:56 PM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2008-02-16T12%3A24%3A56-08%3A00&amp;precision=second\" title=\"See timeline at Feb 16, 2008, 12:24:56 PM\">7 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">sam</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \u00a0\n            \n            \n            \n          </dd>\n        <dt class=\"property files\">\n          File:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>1 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java?rev=720\">\n              nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">2 diffs</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/720/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\" title=\"Show the changeset 720 restricted to nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java\">nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 714\">\n                    <a title=\"Show revision 714 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java?rev=714#L24\">\n                      r714</a>\n                  </th>\n                  <th title=\"Revision 720\">\n                    <a title=\"Show revision 720 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java?rev=720#L24\">\n                      r720</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>24</th><th>24</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>25</th><th>25</th><td class=\"l\"><span>import java.io.*;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>26</th><th>\u00a0</th><td class=\"l\"><span>import java.net.*;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>27</th><th>\u00a0</th><td class=\"l\"><span>import java.util.*;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>26</th><td class=\"r\"><span>import java.sql.*;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>28</th><th>27</th><td class=\"l\"><span>import java.util.logging.*;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>29</th><th>\u00a0</th><td class=\"l\"><del>import java.util.prefs.Preferences;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>30</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>31</th><th>\u00a0</th><td class=\"l\"><del>import edu.uci.ics.luci.nomatic.service.NomaticService;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>32</th><th>\u00a0</th><td class=\"l\"><del>import edu.uci.ics.luci.nomatic.service.SubversionRevision;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>33</th><th>\u00a0</th><td class=\"l\"><del>import edu.uci.ics.luci.nomatic.service.NomaticService.Environment;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>34</th><th>\u00a0</th><td class=\"l\"><del>import edu.uci.ics.luci.nomatic.service.database.Record;</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>35</th><th>\u00a0</th><td class=\"l\"><del>import edu.uci.ics.luci.nomatic.service.gui.PrefsDialog;</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>36</th><th>28</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>37</th><th>29</th><td class=\"l\"><span>/**</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java?rev=714#L42\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/nomatic/trunk/service/edu/uci/ics/luci/nomatic/service/reporter/RemoteReporter.java?rev=720#L34\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>42</th><th>34</th><td class=\"l\"><span>&nbsp;* be assumed.</span>\u00a0</td>\n                  </tr><tr>\n                          <th>43</th><th>35</th><td class=\"l\"><span>&nbsp;* @author Sam Kaufman</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>44</th><th>\u00a0</th><td class=\"l\"><del>&nbsp;* @see Record</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>45</th><th>36</th><td class=\"l\"><span>&nbsp;*/</span>\u00a0</td>\n                  </tr><tr>\n                          <th>46</th><th>37</th><td class=\"l\"><span>public class RemoteReporter {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>47</th><th>38</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>48</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; private static final String URL = \"http://djp3-pc2.ics.uci.edu/webusersStuff/remoterecorder/record2.py\";</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>39</th><td class=\"r\"><span>&nbsp; &nbsp; private final static String FILE = \"\";</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>40</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; private final static String TABLE_NAME = \"reports_to_send_queue\";</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>49</th><th>41</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>50</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; private Preferences prefs = Preferences.userNodeForPackage(NomaticService.class);</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>51</th><th>42</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; private Logger log = Logger.getLogger(getClass().getName());</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>43</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; private java.sql.Connection sqlConn;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>52</th><th>44</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>53</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; private HttpURLConnection conn = null;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>54</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; private Queue&lt;Record&gt; buffer = new LinkedList&lt;Record&gt;();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>55</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>56</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; public RemoteReporter() {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>57</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Thread t = new Thread() {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>58</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public void run() {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>59</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>60</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (true) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>61</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (buffer.size() &gt; 0) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>62</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Record r = (Record) buffer.remove().clone();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>63</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (true) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>64</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>65</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reallyReportToRemoteDatabase(r);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>66</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log.info(\"Logged record to remote database.\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>67</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>68</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>69</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (Exception e) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>70</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log.log(Level.WARNING, \"Problem reporting to mass collaboration database.\", e);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>71</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Thread.sleep(6000);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>72</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>73</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>74</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>75</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Thread.sleep(2000);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>76</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>77</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>78</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (Exception e) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>79</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log.log(Level.SEVERE, \"RemoteReporterThread died of exception poisoning.\", e);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>80</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>81</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>82</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span>\u00a0</td>\n                      </tr><tr>\n                        <th>83</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t.setName(\"RemoteReporterThread\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>84</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t.setDaemon(true);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>85</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t.start();</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>45</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; public RemoteReporter() throws SQLException, ClassNotFoundException {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>46</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>47</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Class.forName(\"org.sqlite.JDBC\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>48</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sqlConn = DriverManager.getConnection(\"jdbc:sqlite:\"+FILE);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>49</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>50</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Check to see if the expected table exists, else create it</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>51</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!connHasTable(sqlConn, TABLE_NAME))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>52</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sqlConn.createStatement().execute(\"CREATE TABLE \"+TABLE_NAME</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>53</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +\" (index int not null auto_increment, report blob not null)\");</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>86</th><th>54</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>87</th><th>55</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>88</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /**</span>\u00a0</td>\n                      </tr><tr>\n                        <th>89</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Report a scan occurred.</span>\u00a0</td>\n                      </tr><tr>\n                        <th>90</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @param r A Record containing all information from the scan, alongside the place, activity, and other fields.</span>\u00a0</td>\n                      </tr><tr>\n                        <th>91</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                      </tr><tr>\n                        <th>92</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; public void report(Record r) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>93</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; synchronized (buffer) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>94</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buffer.add(r);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>56</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; public void report(ServerReport report) throws SQLException, IOException</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>57</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>58</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PreparedStatement ps = sqlConn.prepareStatement(\"INSERT INTO \"+TABLE_NAME+\" (report) VALUES (?)\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>59</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>60</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ByteArrayOutputStream baos = new ByteArrayOutputStream();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>61</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ObjectOutputStream oout = new ObjectOutputStream(baos);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>62</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; oout.writeObject(report);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>63</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; oout.close();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>64</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ps.setBytes(1, baos.toByteArray());</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>65</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>66</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ps.execute();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>67</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ps.close();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>68</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>69</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>70</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; private static boolean connHasTable(Connection conn, String tableName) throws SQLException</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>71</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>72</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DatabaseMetaData meta = conn.getMetaData();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>73</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ResultSet rs = meta.getTables(null, null, \"\", new String[] {\"TABLE\"});</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>74</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>75</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (rs.next()) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>76</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String foundTable= rs.getString(\"TABLE_NAME\").trim().toLowerCase();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>77</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (foundTable.equals(tableName.trim().toLowerCase()))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>78</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>79</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>80</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>81</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>82</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; finally {</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>83</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rs.close();</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>95</th><th>84</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>96</th><th>85</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>97</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>98</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; private void reallyReportToRemoteDatabase(Record r) throws MalformedURLException, IOException, InterruptedException</del>\u00a0</td>\n                  </tr><tr>\n                          <th>99</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>100</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Build POST data string</del>\u00a0</td>\n                  </tr><tr>\n                          <th>101</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StringBuilder data = new StringBuilder();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>102</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(URLEncoder.encode(\"userID\", \"UTF-8\") + \"=\"</del>\u00a0</td>\n                  </tr><tr>\n                          <th>103</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + URLEncoder.encode(Integer.toString(getUserID()), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>104</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"clientTimeStamp\", \"UTF-8\") + \"=\"</del>\u00a0</td>\n                  </tr><tr>\n                          <th>105</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + URLEncoder.encode(r.getTimeStamp().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>106</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Environment.getVersionString() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>107</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"nomaticIMVersion\", \"UTF-8\") + \"=\" + URLEncoder .encode(Environment.getVersionString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>108</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>109</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (SubversionRevision.getRevision() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>110</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"subversionRevision\", \"UTF-8\") + \"=\" + URLEncoder.encode(SubversionRevision.getRevision() .toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>111</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>112</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Environment.getBuildType() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>113</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"buildType\", \"UTF-8\") + \"=\" + URLEncoder.encode(Environment.getBuildType().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>114</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>115</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"buffered\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"0\", \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>116</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Environment.getAlgorithm() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>117</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"algorithmID\", \"UTF-8\") + \"=\" + URLEncoder.encode(Environment.getAlgorithm(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>118</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>119</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getDayOfTheWeek() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>120</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"dayOfTheWeek\", \"UTF-8\") + \"=\" + URLEncoder .encode(r.getDayOfTheWeek().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>121</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>122</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getMinutesSinceMidnight() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>123</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"minutesSinceMidnight\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getMinutesSinceMidnight().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>124</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>125</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getRemoteIPAddress() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>126</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"remoteIPAddress\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getRemoteIPAddress(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>127</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>128</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getDNS() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>129</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"dNS\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getDNS(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>130</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>131</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getLocalIPAddress() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>132</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"localIPAddress\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getLocalIPAddress(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>133</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>134</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getWifiMACAddressConnected() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>135</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"wifiMACAddressConnected\", \"UTF-8\") + \"=\" + URLEncoder .encode(r.getWifiMACAddressConnected(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>136</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>137</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (arrayListToString(r.getWifiMACAddressList()) != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>138</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"wifiMACAddressList\", \"UTF-8\") + \"=\" + URLEncoder.encode(arrayListToString(r .getWifiMACAddressList()), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>139</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>140</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getWifiSSID() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>141</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"wifiSSID\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getWifiSSID(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>142</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>143</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getNetworkLoad() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>144</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"networkLoad\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getNetworkLoad().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>145</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>146</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getActiveProcess() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>147</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"activeProcess\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getActiveProcess(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>148</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>149</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getRunningProcesses() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>150</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"runningProcesses\", \"UTF-8\") + \"=\" + URLEncoder.encode(arrayListToString(r .getRunningProcesses()), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>151</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>152</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getNumberOfDisplays() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>153</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"numberOfDisplays\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getNumberOfDisplays().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>154</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>155</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getDisplayConfiguration() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>156</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"displayConfiguration\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getDisplayConfiguration(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>157</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>158</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getPowerSource() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>159</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"powerSource\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getPowerSource().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>160</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>161</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getAccelerationX() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>162</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"accelerationX\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getAccelerationX().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>163</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>164</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getAccelerationY() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>165</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"accelerationY\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getAccelerationY().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>166</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>167</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getAccelerationZ() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>168</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"accelerationZ\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getAccelerationZ().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>169</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>170</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getAccelerationMagnitude() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>171</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"accelerationMagnitude\", \"UTF-8\") + \"=\" + URLEncoder.encode( r.getAccelerationMagnitude().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>172</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>173</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getAmbientLight() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>174</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"ambientLight\", \"UTF-8\") + \"=\" + URLEncoder .encode(r.getAmbientLight().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>175</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>176</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getVolume() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>177</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"volume\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getVolume().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>178</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>179</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getAmbientSound() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>180</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"ambientSound\", \"UTF-8\") + \"=\" + URLEncoder .encode(r.getAmbientSound().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>181</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>182</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getUIActivity() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>183</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"uIActivity\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getUIActivity().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>184</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>185</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getBluetoothCount() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>186</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"bluetoothCount\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getBluetoothCount().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>187</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>188</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getBluetoothNames() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>189</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"bluetoothNames\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getBluetoothNames().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>190</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>191</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getCellID() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>192</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"cellID\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getCellID().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>193</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>194</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getCellAreaID() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>195</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"cellID\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getCellAreaID().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>196</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>197</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getGPSLatitude() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>198</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"gPSLatitude\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getGPSLatitude().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>199</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>200</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getGPSLongitude() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>201</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"gPSLongitude\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getGPSLongitude().toString(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>202</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>203</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getPlace() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>204</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"place\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getPlace(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>205</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>206</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TODO: add PlacePosition information here</del>\u00a0</td>\n                  </tr><tr>\n                          <th>207</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getActivity() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>208</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"activity\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getActivity(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>209</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>210</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TODO: add ActivityPosition information here</del>\u00a0</td>\n                  </tr><tr>\n                          <th>211</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (r.getOther() != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>212</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"other\", \"UTF-8\") + \"=\" + URLEncoder.encode(r.getOther(), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>213</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>214</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TODO: add OtherPosition information here</del>\u00a0</td>\n                  </tr><tr>\n                          <th>215</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"visualizeFifthFloor\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"\" + (prefs.getBoolean( PrefsDialog.PREF_VISUALIZE_ON_5TH_FLOOR, false)?\"1\":\"0\"), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>216</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"visualizeFirstFloor\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"\" + (prefs.getBoolean( PrefsDialog.PREF_VISUALIZE_ON_1ST_FLOOR, false)?\"1\":\"0\"), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>217</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data.append(\"&amp;\" + URLEncoder.encode(\"visualizeWeb\", \"UTF-8\") + \"=\" + URLEncoder.encode(\"\" + (prefs.getBoolean(PrefsDialog.PREF_VISUALIZE_ON_WEB, false)?\"1\":\"0\"), \"UTF-8\"));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>218</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr>\n                          <th>219</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Connect if necessary</del>\u00a0</td>\n                  </tr><tr>\n                          <th>220</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; conn = (HttpURLConnection) new URL(URL).openConnection();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>221</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; conn.setDoOutput(true);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>222</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; conn.setRequestMethod(\"POST\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>223</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>224</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // POST to server</del>\u00a0</td>\n                  </tr><tr>\n                          <th>225</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PrintWriter out = new PrintWriter(conn.getOutputStream());</del>\u00a0</td>\n                  </tr><tr>\n                          <th>226</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; out.println(data.toString());</del>\u00a0</td>\n                  </tr><tr>\n                          <th>227</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; out.close();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>228</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));</del>\u00a0</td>\n                  </tr><tr>\n                          <th>229</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String line;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>230</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while ((line = in.readLine()) != null) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>231</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(line);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>232</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>233</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in.close();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>234</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>235</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>236</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; private int getUserID() {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>237</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (prefs.getInt(\"user_id\", -1) == -1) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>238</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prefs.putInt(\"user_id\", new Random().nextInt());</del>\u00a0</td>\n                  </tr><tr>\n                          <th>239</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>240</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return prefs.getInt(\"user_id\", -1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>241</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr>\n                          <th>242</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr><tr>\n                          <th>243</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; private static String arrayListToString(ArrayList&lt;String&gt; arr) {</del>\u00a0</td>\n                  </tr><tr>\n                          <th>244</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (arr == null)</del>\u00a0</td>\n                  </tr><tr>\n                          <th>245</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return null;</del>\u00a0</td>\n                  </tr><tr>\n                          <th>246</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StringBuilder b = new StringBuilder();</del>\u00a0</td>\n                  </tr><tr>\n                          <th>247</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (String s : arr)</del>\u00a0</td>\n                  </tr><tr>\n                          <th>248</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b.append(s + \",\");</del>\u00a0</td>\n                  </tr><tr>\n                          <th>249</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return b.substring(0, b.length()-1);</del>\u00a0</td>\n                  </tr><tr>\n                          <th>250</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>251</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>252</th><th>86</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=720\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=720\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 47280.0}