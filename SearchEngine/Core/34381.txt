{"text": "Overview Package Class Use Tree Deprecated Index Help PREV CLASS NEXT CLASS FRAMES NO FRAMES All Classes SUMMARY NESTED FIELD CONSTR METHOD DETAIL FIELD CONSTR METHOD swirl workspace Class AggregateCommand java lang Object swirl workspace BaseSwirlCommand swirl workspace AggregateCommand All Implemented Interfaces SwirlCommand Direct Known Subclasses PropfindCommand public class AggregateCommandextends BaseSwirlCommand This command is a base class for commands that proxy multiple DAV servers and aggregate their responses to send back to the client Author Ben Pillet Field Summary static intBUFFER SIZE how big should a copy buffer be to copy streams static intMULTISTATUS the HTTP status code 2 7 for multistatus Fields inherited from interface swirl workspace SwirlCommandSLIDE SWIRL Constructor SummaryAggregateCommand HttpServletRequest req HttpServletResponse resp String host String path PeerManager peerManager HostPathCodec cod Constructor Method Summary PropFindMethodcreateMethod Creates the PropFindMethod to send to each peer intexecute Generic implementation of execute that performs the following steps 1 sets the response headers 2 gets the peers to proxy to 3 initializes a response document 4 for each target peer 4 1 creates an HttpMethod to send to the peer 4 2 executes the HttpMethod 4 3 processes and or mangles the response 4 4 adds the peer s response to the client s response 5 sends the response back to the client protected DocumentBuildergetDocumentBuilder Return JAXP document builder instance VectorgetTargetPeers generates a list of peers to proxy to voidinitResponseBody Document body This method is automatically called and prepares the responseBody to be populated by adding a multistatus element to it protected voidlogMethod PropFindMethod method Utility method to log the contents of a method request voidprocessPeerResponse Document peerDocument Peer peer This emthod is called for each response that comes from a peer voidsetResponseHeaders this method is automatically called by the execute method and should be overriden if the HTTP returns code is not 2 7 and the return content type is not text xml Methods inherited from class swirl workspace BaseSwirlCommandcopyHeaders getHost getPath getPeerManager getRequest getResponse getTargetPeer setHost setPath setRequest setResponse Methods inherited from class java lang Objectclone equals finalize getClass hashCode notify notifyAll toString wait wait wait Field Detail BUFFER SIZE public static final int BUFFER SIZE how big should a copy buffer be to copy streams See Also Constant Field Values MULTISTATUS public static final int MULTISTATUS the HTTP status code 2 7 for multistatus See Also Constant Field Values Constructor Detail AggregateCommand public AggregateCommand HttpServletRequest req HttpServletResponse resp String host String path PeerManager peerManager HostPathCodec cod Constructor Parameters req the request for this command from the userresp the response to the userhost the peer to proxypath the directory on the peerpeerManager the collection of peers to proxy tocod how to encode the hrefs from each of the peers Method Detail setResponseHeaders public void setResponseHeaders this method is automatically called by the execute method and should be overriden if the HTTP returns code is not 2 7 and the return content type is not text xml getTargetPeers public Vector getTargetPeers generates a list of peers to proxy to If the host is not set all of the peers will be proxied If the host is set only peers with a matching host will be proxied Returns collection of Peer objects createMethod public PropFindMethod createMethod Creates the PropFindMethod to send to each peer Returns a method to execute on the peer execute public int execute throws IOException ServletException Generic implementation of execute that performs the following steps 1 sets the response headers 2 gets the peers to proxy to 3 initializes a response document 4 for each target peer 4 1 creates an HttpMethod to send to the peer 4 2 executes the HttpMethod 4 3 processes and or mangles the response 4 4 adds the peer s response to the client s response 5 sends the response back to the client Returns status code for response to client Throws IOException if there s a problem contacting the client ServletException if there s a problem generating an XML document initResponseBody public void initResponseBody Document body This method is automatically called and prepares the responseBody to be populated by adding a multistatus element to it Parameters body the document to initialize processPeerResponse public void processPeerResponse Document peerDocument Peer peer This emthod is called for each response that comes from a peer Parameters peerDocument the body of the response from the peerpeer the peer that returned the response getDocumentBuilder protected DocumentBuilder getDocumentBuilder throws ServletException Return JAXP document builder instance Returns an initialized DocumentBuilder Throws ServletException wraps ParserConfigurationException logMethod protected void logMethod PropFindMethod method throws IOException Utility method to log the contents of a method request Parameters method the method to log Throws IOException if method throws an IOException Overview Package Class Use Tree Deprecated Index Help PREV CLASS NEXT CLASS FRAMES NO FRAMES All Classes SUMMARY NESTED FIELD CONSTR METHOD DETAIL FIELD CONSTR METHOD Copyright 2 4 2 5 All Rights Reserved ", "_id": "http://drzaius.ics.uci.edu/~swirl/impromptu-0.20/apidocs/swirl/workspace/AggregateCommand.html", "title": "\naggregatecommand (swirl webdav workspace 0.20 api)\n", "html": "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n<!--NewPage-->\n<HTML>\n<HEAD>\n<!-- Generated by javadoc (build 1.4.2_02) on Sat Jun 18 12:27:39 PDT 2005 -->\n<META http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\n<TITLE>\nAggregateCommand (Swirl WebDAV Workspace 0.20 API)\n</TITLE>\n\n<META NAME=\"keywords\" CONTENT=\"swirl.workspace.AggregateCommand class\">\n\n<LINK REL =\"stylesheet\" TYPE=\"text/css\" HREF=\"../../stylesheet.css\" TITLE=\"Style\">\n\n<SCRIPT type=\"text/javascript\">\nfunction windowTitle()\n{\n    parent.document.title=\"AggregateCommand (Swirl WebDAV Workspace 0.20 API)\";\n}\n</SCRIPT>\n\n</HEAD>\n\n<BODY BGCOLOR=\"white\" onload=\"windowTitle();\">\n\n\n<!-- ========= START OF TOP NAVBAR ======= -->\n<A NAME=\"navbar_top\"><!-- --></A>\n<A HREF=\"#skip-navbar_top\" title=\"Skip navigation links\"></A>\n<TABLE BORDER=\"0\" WIDTH=\"100%\" CELLPADDING=\"1\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR>\n<TD COLSPAN=3 BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">\n<A NAME=\"navbar_top_firstrow\"><!-- --></A>\n<TABLE BORDER=\"0\" CELLPADDING=\"0\" CELLSPACING=\"3\" SUMMARY=\"\">\n  <TR ALIGN=\"center\" VALIGN=\"top\">\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../overview-summary.html\"><FONT CLASS=\"NavBarFont1\"><B>Overview</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"package-summary.html\"><FONT CLASS=\"NavBarFont1\"><B>Package</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#FFFFFF\" CLASS=\"NavBarCell1Rev\"> &nbsp;<FONT CLASS=\"NavBarFont1Rev\"><B>Class</B></FONT>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"class-use/AggregateCommand.html\"><FONT CLASS=\"NavBarFont1\"><B>Use</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"package-tree.html\"><FONT CLASS=\"NavBarFont1\"><B>Tree</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../deprecated-list.html\"><FONT CLASS=\"NavBarFont1\"><B>Deprecated</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../index-all.html\"><FONT CLASS=\"NavBarFont1\"><B>Index</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../help-doc.html\"><FONT CLASS=\"NavBarFont1\"><B>Help</B></FONT></A>&nbsp;</TD>\n  </TR>\n</TABLE>\n</TD>\n<TD ALIGN=\"right\" VALIGN=\"top\" ROWSPAN=3><EM>\n</EM>\n</TD>\n</TR>\n\n<TR>\n<TD BGCOLOR=\"white\" CLASS=\"NavBarCell2\"><FONT SIZE=\"-2\">\n&nbsp;PREV CLASS&nbsp;\n&nbsp;<A HREF=\"../../swirl/workspace/App.html\" title=\"class in swirl.workspace\"><B>NEXT CLASS</B></A></FONT></TD>\n<TD BGCOLOR=\"white\" CLASS=\"NavBarCell2\"><FONT SIZE=\"-2\">\n  <A HREF=\"../../index.html\" target=\"_top\"><B>FRAMES</B></A>  &nbsp;\n&nbsp;<A HREF=\"AggregateCommand.html\" target=\"_top\"><B>NO FRAMES</B></A>  &nbsp;\n&nbsp;<SCRIPT type=\"text/javascript\">\n  <!--\n  if(window==top) {\n    document.writeln('<A HREF=\"../../allclasses-noframe.html\"><B>All Classes</B></A>');\n  }\n  //-->\n</SCRIPT>\n<NOSCRIPT>\n  <A HREF=\"../../allclasses-noframe.html\"><B>All Classes</B></A>\n</NOSCRIPT>\n\n</FONT></TD>\n</TR>\n<TR>\n<TD VALIGN=\"top\" CLASS=\"NavBarCell3\"><FONT SIZE=\"-2\">\n  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF=\"#field_summary\">FIELD</A>&nbsp;|&nbsp;<A HREF=\"#constructor_summary\">CONSTR</A>&nbsp;|&nbsp;<A HREF=\"#method_summary\">METHOD</A></FONT></TD>\n<TD VALIGN=\"top\" CLASS=\"NavBarCell3\"><FONT SIZE=\"-2\">\nDETAIL:&nbsp;<A HREF=\"#field_detail\">FIELD</A>&nbsp;|&nbsp;<A HREF=\"#constructor_detail\">CONSTR</A>&nbsp;|&nbsp;<A HREF=\"#method_detail\">METHOD</A></FONT></TD>\n</TR>\n</TABLE>\n<A NAME=\"skip-navbar_top\"></A>\n<!-- ========= END OF TOP NAVBAR ========= -->\n\n<HR>\n<!-- ======== START OF CLASS DATA ======== -->\n<H2>\n<FONT SIZE=\"-1\">\nswirl.workspace</FONT>\n<BR>\nClass AggregateCommand</H2>\n<PRE>\n<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html\" title=\"class or interface in java.lang\">java.lang.Object</A>\n  <IMG SRC=\"../../resources/inherit.gif\" ALT=\"extended by\"><A HREF=\"../../swirl/workspace/BaseSwirlCommand.html\" title=\"class in swirl.workspace\">swirl.workspace.BaseSwirlCommand</A>\n      <IMG SRC=\"../../resources/inherit.gif\" ALT=\"extended by\"><B>swirl.workspace.AggregateCommand</B>\n</PRE>\n<DL>\n<DT><B>All Implemented Interfaces:</B> <DD><A HREF=\"../../swirl/workspace/SwirlCommand.html\" title=\"interface in swirl.workspace\">SwirlCommand</A></DD>\n</DL>\n<DL>\n<DT><B>Direct Known Subclasses:</B> <DD><A HREF=\"../../swirl/workspace/PropfindCommand.html\" title=\"class in swirl.workspace\">PropfindCommand</A></DD>\n</DL>\n<HR>\n<DL>\n<DT>public class <B>AggregateCommand</B><DT>extends <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html\" title=\"class in swirl.workspace\">BaseSwirlCommand</A></DL>\n\n<P>\nThis command is a base class for commands that proxy multiple DAV servers\n and aggregate their responses to send back to the client\n<P>\n\n<P>\n<DL>\n<DT><B>Author:</B></DT>\n  <DD>Ben Pillet</DD>\n</DL>\n<HR>\n\n<P>\n<!-- ======== NESTED CLASS SUMMARY ======== -->\n\n\n<!-- =========== FIELD SUMMARY =========== -->\n\n<A NAME=\"field_summary\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#CCCCFF\" CLASS=\"TableHeadingColor\">\n<TD COLSPAN=2><FONT SIZE=\"+2\">\n<B>Field Summary</B></FONT></TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>static&nbsp;int</CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#BUFFER_SIZE\">BUFFER_SIZE</A></B></CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;how big should a copy buffer be to copy streams</TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>static&nbsp;int</CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#MULTISTATUS\">MULTISTATUS</A></B></CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the HTTP status code (207) for multistatus</TD>\n</TR>\n</TABLE>\n&nbsp;<A NAME=\"fields_inherited_from_class_swirl.workspace.SwirlCommand\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#EEEEFF\" CLASS=\"TableSubHeadingColor\">\n<TD><B>Fields inherited from interface swirl.workspace.<A HREF=\"../../swirl/workspace/SwirlCommand.html\" title=\"interface in swirl.workspace\">SwirlCommand</A></B></TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD><CODE><A HREF=\"../../swirl/workspace/SwirlCommand.html#SLIDE\">SLIDE</A>, <A HREF=\"../../swirl/workspace/SwirlCommand.html#SWIRL\">SWIRL</A></CODE></TD>\n</TR>\n</TABLE>\n&nbsp;\n<!-- ======== CONSTRUCTOR SUMMARY ======== -->\n\n<A NAME=\"constructor_summary\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#CCCCFF\" CLASS=\"TableHeadingColor\">\n<TD COLSPAN=2><FONT SIZE=\"+2\">\n<B>Constructor Summary</B></FONT></TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#AggregateCommand(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, java.lang.String, java.lang.String, swirl.workspace.PeerManager, swirl.workspace.HostPathCodec)\">AggregateCommand</A></B>(<A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/http/HttpServletRequest.html\" title=\"class or interface in javax.servlet.http\">HttpServletRequest</A>&nbsp;req,\n                 <A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/http/HttpServletResponse.html\" title=\"class or interface in javax.servlet.http\">HttpServletResponse</A>&nbsp;resp,\n                 <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html\" title=\"class or interface in java.lang\">String</A>&nbsp;host,\n                 <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html\" title=\"class or interface in java.lang\">String</A>&nbsp;path,\n                 <A HREF=\"../../swirl/workspace/PeerManager.html\" title=\"class in swirl.workspace\">PeerManager</A>&nbsp;peerManager,\n                 <A HREF=\"../../swirl/workspace/HostPathCodec.html\" title=\"interface in swirl.workspace\">HostPathCodec</A>&nbsp;cod)</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>\n</TR>\n</TABLE>\n&nbsp;\n<!-- ========== METHOD SUMMARY =========== -->\n\n<A NAME=\"method_summary\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#CCCCFF\" CLASS=\"TableHeadingColor\">\n<TD COLSPAN=2><FONT SIZE=\"+2\">\n<B>Method Summary</B></FONT></TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>&nbsp;<A HREF=\"http://jakarta.apache.org/slide/clientjavadoc/org/apache/webdav/lib/methods/PropFindMethod.html\" title=\"class or interface in org.apache.webdav.lib.methods\">PropFindMethod</A></CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#createMethod()\">createMethod</A></B>()</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the PropFindMethod to send to each peer</TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>&nbsp;int</CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#execute()\">execute</A></B>()</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generic implementation of execute that performs the following steps\n\n \n \n 1. sets the response headers\n \n \n 2. gets the peers to proxy to\n \n \n 3. initializes a response document\n \n \n 4. for each target peer\n \n \n 4.1. creates an HttpMethod to send to the peer\n \n \n 4.2. executes the HttpMethod\n \n \n 4.3. processes and/or mangles the response\n \n \n 4.4. adds the peer's response to the client's response\n \n \n 5. sends the response back to the client\n \n </TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>protected &nbsp;<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/xml/parsers/DocumentBuilder.html\" title=\"class or interface in javax.xml.parsers\">DocumentBuilder</A></CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#getDocumentBuilder()\">getDocumentBuilder</A></B>()</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return JAXP document builder instance.</TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>&nbsp;<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Vector.html\" title=\"class or interface in java.util\">Vector</A></CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#getTargetPeers()\">getTargetPeers</A></B>()</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generates a list of peers to proxy to. </TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>&nbsp;void</CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#initResponseBody(org.w3c.dom.Document)\">initResponseBody</A></B>(<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Document.html\" title=\"class or interface in org.w3c.dom\">Document</A>&nbsp;body)</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is automatically called and prepares the responseBody to be\n populated by adding a &lt;multistatus/&gt; element to it</TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>protected &nbsp;void</CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#logMethod(org.apache.webdav.lib.methods.PropFindMethod)\">logMethod</A></B>(<A HREF=\"http://jakarta.apache.org/slide/clientjavadoc/org/apache/webdav/lib/methods/PropFindMethod.html\" title=\"class or interface in org.apache.webdav.lib.methods\">PropFindMethod</A>&nbsp;method)</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method to log the contents of a method request</TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>&nbsp;void</CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#processPeerResponse(org.w3c.dom.Document, swirl.workspace.Peer)\">processPeerResponse</A></B>(<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Document.html\" title=\"class or interface in org.w3c.dom\">Document</A>&nbsp;peerDocument,\n                    <A HREF=\"../../swirl/workspace/Peer.html\" title=\"class in swirl.workspace\">Peer</A>&nbsp;peer)</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This emthod is called for each response that comes from a peer.</TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD ALIGN=\"right\" VALIGN=\"top\" WIDTH=\"1%\"><FONT SIZE=\"-1\">\n<CODE>&nbsp;void</CODE></FONT></TD>\n<TD><CODE><B><A HREF=\"../../swirl/workspace/AggregateCommand.html#setResponseHeaders()\">setResponseHeaders</A></B>()</CODE>\n\n<BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this method is automatically called by the execute method and should be\n overriden if the HTTP returns code is not 207 and the return\n content-type is not text/xml</TD>\n</TR>\n</TABLE>\n&nbsp;<A NAME=\"methods_inherited_from_class_swirl.workspace.BaseSwirlCommand\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#EEEEFF\" CLASS=\"TableSubHeadingColor\">\n<TD><B>Methods inherited from class swirl.workspace.<A HREF=\"../../swirl/workspace/BaseSwirlCommand.html\" title=\"class in swirl.workspace\">BaseSwirlCommand</A></B></TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD><CODE><A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#copyHeaders(org.apache.commons.httpclient.HttpMethod)\">copyHeaders</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#getHost()\">getHost</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#getPath()\">getPath</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#getPeerManager()\">getPeerManager</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#getRequest()\">getRequest</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#getResponse()\">getResponse</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#getTargetPeer()\">getTargetPeer</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#setHost(java.lang.String)\">setHost</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#setPath(java.lang.String)\">setPath</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#setRequest(javax.servlet.http.HttpServletRequest)\">setRequest</A>, <A HREF=\"../../swirl/workspace/BaseSwirlCommand.html#setResponse(javax.servlet.http.HttpServletResponse)\">setResponse</A></CODE></TD>\n</TR>\n</TABLE>\n&nbsp;<A NAME=\"methods_inherited_from_class_java.lang.Object\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#EEEEFF\" CLASS=\"TableSubHeadingColor\">\n<TD><B>Methods inherited from class java.lang.<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html\" title=\"class or interface in java.lang\">Object</A></B></TD>\n</TR>\n<TR BGCOLOR=\"white\" CLASS=\"TableRowColor\">\n<TD><CODE><A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#clone()\" title=\"class or interface in java.lang\">clone</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#equals(java.lang.Object)\" title=\"class or interface in java.lang\">equals</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#finalize()\" title=\"class or interface in java.lang\">finalize</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#getClass()\" title=\"class or interface in java.lang\">getClass</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#hashCode()\" title=\"class or interface in java.lang\">hashCode</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notify()\" title=\"class or interface in java.lang\">notify</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notifyAll()\" title=\"class or interface in java.lang\">notifyAll</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#toString()\" title=\"class or interface in java.lang\">toString</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait()\" title=\"class or interface in java.lang\">wait</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long)\" title=\"class or interface in java.lang\">wait</A>, <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long, int)\" title=\"class or interface in java.lang\">wait</A></CODE></TD>\n</TR>\n</TABLE>\n&nbsp;\n<P>\n\n<!-- ============ FIELD DETAIL =========== -->\n\n<A NAME=\"field_detail\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#CCCCFF\" CLASS=\"TableHeadingColor\">\n<TD COLSPAN=1><FONT SIZE=\"+2\">\n<B>Field Detail</B></FONT></TD>\n</TR>\n</TABLE>\n\n<A NAME=\"BUFFER_SIZE\"><!-- --></A><H3>\nBUFFER_SIZE</H3>\n<PRE>\npublic static final int <B>BUFFER_SIZE</B></PRE>\n<DL>\n<DD>how big should a copy buffer be to copy streams\n<P>\n<DL>\n<DT><B>See Also:</B><DD><A HREF=\"../../constant-values.html#swirl.workspace.AggregateCommand.BUFFER_SIZE\">Constant Field Values</A></DL>\n</DL>\n<HR>\n\n<A NAME=\"MULTISTATUS\"><!-- --></A><H3>\nMULTISTATUS</H3>\n<PRE>\npublic static final int <B>MULTISTATUS</B></PRE>\n<DL>\n<DD>the HTTP status code (207) for multistatus\n<P>\n<DL>\n<DT><B>See Also:</B><DD><A HREF=\"../../constant-values.html#swirl.workspace.AggregateCommand.MULTISTATUS\">Constant Field Values</A></DL>\n</DL>\n\n<!-- ========= CONSTRUCTOR DETAIL ======== -->\n\n<A NAME=\"constructor_detail\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#CCCCFF\" CLASS=\"TableHeadingColor\">\n<TD COLSPAN=1><FONT SIZE=\"+2\">\n<B>Constructor Detail</B></FONT></TD>\n</TR>\n</TABLE>\n\n<A NAME=\"AggregateCommand(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, java.lang.String, java.lang.String, swirl.workspace.PeerManager, swirl.workspace.HostPathCodec)\"><!-- --></A><H3>\nAggregateCommand</H3>\n<PRE>\npublic <B>AggregateCommand</B>(<A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/http/HttpServletRequest.html\" title=\"class or interface in javax.servlet.http\">HttpServletRequest</A>&nbsp;req,\n                        <A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/http/HttpServletResponse.html\" title=\"class or interface in javax.servlet.http\">HttpServletResponse</A>&nbsp;resp,\n                        <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html\" title=\"class or interface in java.lang\">String</A>&nbsp;host,\n                        <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html\" title=\"class or interface in java.lang\">String</A>&nbsp;path,\n                        <A HREF=\"../../swirl/workspace/PeerManager.html\" title=\"class in swirl.workspace\">PeerManager</A>&nbsp;peerManager,\n                        <A HREF=\"../../swirl/workspace/HostPathCodec.html\" title=\"interface in swirl.workspace\">HostPathCodec</A>&nbsp;cod)</PRE>\n<DL>\n<DD>Constructor\n<P>\n<DT><B>Parameters:</B><DD><CODE>req</CODE> - the request for this command from the user<DD><CODE>resp</CODE> - the response to the user<DD><CODE>host</CODE> - the peer to proxy<DD><CODE>path</CODE> - the directory on the peer<DD><CODE>peerManager</CODE> - the collection of peers to proxy to<DD><CODE>cod</CODE> - how to encode the hrefs from each of the peers</DL>\n\n<!-- ============ METHOD DETAIL ========== -->\n\n<A NAME=\"method_detail\"><!-- --></A>\n<TABLE BORDER=\"1\" WIDTH=\"100%\" CELLPADDING=\"3\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR BGCOLOR=\"#CCCCFF\" CLASS=\"TableHeadingColor\">\n<TD COLSPAN=1><FONT SIZE=\"+2\">\n<B>Method Detail</B></FONT></TD>\n</TR>\n</TABLE>\n\n<A NAME=\"setResponseHeaders()\"><!-- --></A><H3>\nsetResponseHeaders</H3>\n<PRE>\npublic void <B>setResponseHeaders</B>()</PRE>\n<DL>\n<DD>this method is automatically called by the execute method and should be\n overriden if the HTTP returns code is not 207 and the return\n content-type is not text/xml\n<P>\n<DD><DL>\n</DL>\n</DD>\n</DL>\n<HR>\n\n<A NAME=\"getTargetPeers()\"><!-- --></A><H3>\ngetTargetPeers</H3>\n<PRE>\npublic <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Vector.html\" title=\"class or interface in java.util\">Vector</A> <B>getTargetPeers</B>()</PRE>\n<DL>\n<DD>generates a list of peers to proxy to. If the host is not set, all of\n the peers will be proxied. If the host is set, only peers with a\n matching host will be proxied.\n<P>\n<DD><DL>\n\n<DT><B>Returns:</B><DD>collection of Peer objects</DL>\n</DD>\n</DL>\n<HR>\n\n<A NAME=\"createMethod()\"><!-- --></A><H3>\ncreateMethod</H3>\n<PRE>\npublic <A HREF=\"http://jakarta.apache.org/slide/clientjavadoc/org/apache/webdav/lib/methods/PropFindMethod.html\" title=\"class or interface in org.apache.webdav.lib.methods\">PropFindMethod</A> <B>createMethod</B>()</PRE>\n<DL>\n<DD>Creates the PropFindMethod to send to each peer\n<P>\n<DD><DL>\n\n<DT><B>Returns:</B><DD>a method to execute on the peer</DL>\n</DD>\n</DL>\n<HR>\n\n<A NAME=\"execute()\"><!-- --></A><H3>\nexecute</H3>\n<PRE>\npublic int <B>execute</B>()\n            throws <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/io/IOException.html\" title=\"class or interface in java.io\">IOException</A>,\n                   <A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/ServletException.html\" title=\"class or interface in javax.servlet\">ServletException</A></PRE>\n<DL>\n<DD>Generic implementation of execute that performs the following steps\n\n <ul>\n <li>\n 1. sets the response headers\n </li>\n <li>\n 2. gets the peers to proxy to\n </li>\n <li>\n 3. initializes a response document\n </li>\n <li>\n 4. for each target peer\n </li>\n <li>\n 4.1. creates an HttpMethod to send to the peer\n </li>\n <li>\n 4.2. executes the HttpMethod\n </li>\n <li>\n 4.3. processes and/or mangles the response\n </li>\n <li>\n 4.4. adds the peer's response to the client's response\n </li>\n <li>\n 5. sends the response back to the client\n </li>\n </ul>\n<P>\n<DD><DL>\n\n<DT><B>Returns:</B><DD>status code for response to client\n<DT><B>Throws:</B>\n<DD><CODE><A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/io/IOException.html\" title=\"class or interface in java.io\">IOException</A></CODE> - if there's a problem contacting the client\n<DD><CODE><A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/ServletException.html\" title=\"class or interface in javax.servlet\">ServletException</A></CODE> - if there's a problem generating an XML document</DL>\n</DD>\n</DL>\n<HR>\n\n<A NAME=\"initResponseBody(org.w3c.dom.Document)\"><!-- --></A><H3>\ninitResponseBody</H3>\n<PRE>\npublic void <B>initResponseBody</B>(<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Document.html\" title=\"class or interface in org.w3c.dom\">Document</A>&nbsp;body)</PRE>\n<DL>\n<DD>This method is automatically called and prepares the responseBody to be\n populated by adding a &lt;multistatus/&gt; element to it\n<P>\n<DD><DL>\n<DT><B>Parameters:</B><DD><CODE>body</CODE> - the document to initialize</DL>\n</DD>\n</DL>\n<HR>\n\n<A NAME=\"processPeerResponse(org.w3c.dom.Document, swirl.workspace.Peer)\"><!-- --></A><H3>\nprocessPeerResponse</H3>\n<PRE>\npublic void <B>processPeerResponse</B>(<A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Document.html\" title=\"class or interface in org.w3c.dom\">Document</A>&nbsp;peerDocument,\n                                <A HREF=\"../../swirl/workspace/Peer.html\" title=\"class in swirl.workspace\">Peer</A>&nbsp;peer)</PRE>\n<DL>\n<DD>This emthod is called for each response that comes from a peer.\n<P>\n<DD><DL>\n<DT><B>Parameters:</B><DD><CODE>peerDocument</CODE> - the body of the response from the peer<DD><CODE>peer</CODE> - the peer that returned the response</DL>\n</DD>\n</DL>\n<HR>\n\n<A NAME=\"getDocumentBuilder()\"><!-- --></A><H3>\ngetDocumentBuilder</H3>\n<PRE>\nprotected <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/xml/parsers/DocumentBuilder.html\" title=\"class or interface in javax.xml.parsers\">DocumentBuilder</A> <B>getDocumentBuilder</B>()\n                                      throws <A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/ServletException.html\" title=\"class or interface in javax.servlet\">ServletException</A></PRE>\n<DL>\n<DD>Return JAXP document builder instance.\n<P>\n<DD><DL>\n\n<DT><B>Returns:</B><DD>an initialized DocumentBuilder\n<DT><B>Throws:</B>\n<DD><CODE><A HREF=\"http://www.jettyserver.org/javadoc/javax/servlet/ServletException.html\" title=\"class or interface in javax.servlet\">ServletException</A></CODE> - wraps ParserConfigurationException</DL>\n</DD>\n</DL>\n<HR>\n\n<A NAME=\"logMethod(org.apache.webdav.lib.methods.PropFindMethod)\"><!-- --></A><H3>\nlogMethod</H3>\n<PRE>\nprotected void <B>logMethod</B>(<A HREF=\"http://jakarta.apache.org/slide/clientjavadoc/org/apache/webdav/lib/methods/PropFindMethod.html\" title=\"class or interface in org.apache.webdav.lib.methods\">PropFindMethod</A>&nbsp;method)\n                  throws <A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/io/IOException.html\" title=\"class or interface in java.io\">IOException</A></PRE>\n<DL>\n<DD>Utility method to log the contents of a method request\n<P>\n<DD><DL>\n<DT><B>Parameters:</B><DD><CODE>method</CODE> - the method to log\n<DT><B>Throws:</B>\n<DD><CODE><A HREF=\"http://java.sun.com/j2se/1.4.2/docs/api/java/io/IOException.html\" title=\"class or interface in java.io\">IOException</A></CODE> - if method throws an IOException</DL>\n</DD>\n</DL>\n<!-- ========= END OF CLASS DATA ========= -->\n<HR>\n\n\n<!-- ======= START OF BOTTOM NAVBAR ====== -->\n<A NAME=\"navbar_bottom\"><!-- --></A>\n<A HREF=\"#skip-navbar_bottom\" title=\"Skip navigation links\"></A>\n<TABLE BORDER=\"0\" WIDTH=\"100%\" CELLPADDING=\"1\" CELLSPACING=\"0\" SUMMARY=\"\">\n<TR>\n<TD COLSPAN=3 BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">\n<A NAME=\"navbar_bottom_firstrow\"><!-- --></A>\n<TABLE BORDER=\"0\" CELLPADDING=\"0\" CELLSPACING=\"3\" SUMMARY=\"\">\n  <TR ALIGN=\"center\" VALIGN=\"top\">\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../overview-summary.html\"><FONT CLASS=\"NavBarFont1\"><B>Overview</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"package-summary.html\"><FONT CLASS=\"NavBarFont1\"><B>Package</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#FFFFFF\" CLASS=\"NavBarCell1Rev\"> &nbsp;<FONT CLASS=\"NavBarFont1Rev\"><B>Class</B></FONT>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"class-use/AggregateCommand.html\"><FONT CLASS=\"NavBarFont1\"><B>Use</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"package-tree.html\"><FONT CLASS=\"NavBarFont1\"><B>Tree</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../deprecated-list.html\"><FONT CLASS=\"NavBarFont1\"><B>Deprecated</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../index-all.html\"><FONT CLASS=\"NavBarFont1\"><B>Index</B></FONT></A>&nbsp;</TD>\n  <TD BGCOLOR=\"#EEEEFF\" CLASS=\"NavBarCell1\">    <A HREF=\"../../help-doc.html\"><FONT CLASS=\"NavBarFont1\"><B>Help</B></FONT></A>&nbsp;</TD>\n  </TR>\n</TABLE>\n</TD>\n<TD ALIGN=\"right\" VALIGN=\"top\" ROWSPAN=3><EM>\n</EM>\n</TD>\n</TR>\n\n<TR>\n<TD BGCOLOR=\"white\" CLASS=\"NavBarCell2\"><FONT SIZE=\"-2\">\n&nbsp;PREV CLASS&nbsp;\n&nbsp;<A HREF=\"../../swirl/workspace/App.html\" title=\"class in swirl.workspace\"><B>NEXT CLASS</B></A></FONT></TD>\n<TD BGCOLOR=\"white\" CLASS=\"NavBarCell2\"><FONT SIZE=\"-2\">\n  <A HREF=\"../../index.html\" target=\"_top\"><B>FRAMES</B></A>  &nbsp;\n&nbsp;<A HREF=\"AggregateCommand.html\" target=\"_top\"><B>NO FRAMES</B></A>  &nbsp;\n&nbsp;<SCRIPT type=\"text/javascript\">\n  <!--\n  if(window==top) {\n    document.writeln('<A HREF=\"../../allclasses-noframe.html\"><B>All Classes</B></A>');\n  }\n  //-->\n</SCRIPT>\n<NOSCRIPT>\n  <A HREF=\"../../allclasses-noframe.html\"><B>All Classes</B></A>\n</NOSCRIPT>\n\n</FONT></TD>\n</TR>\n<TR>\n<TD VALIGN=\"top\" CLASS=\"NavBarCell3\"><FONT SIZE=\"-2\">\n  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF=\"#field_summary\">FIELD</A>&nbsp;|&nbsp;<A HREF=\"#constructor_summary\">CONSTR</A>&nbsp;|&nbsp;<A HREF=\"#method_summary\">METHOD</A></FONT></TD>\n<TD VALIGN=\"top\" CLASS=\"NavBarCell3\"><FONT SIZE=\"-2\">\nDETAIL:&nbsp;<A HREF=\"#field_detail\">FIELD</A>&nbsp;|&nbsp;<A HREF=\"#constructor_detail\">CONSTR</A>&nbsp;|&nbsp;<A HREF=\"#method_detail\">METHOD</A></FONT></TD>\n</TR>\n</TABLE>\n<A NAME=\"skip-navbar_bottom\"></A>\n<!-- ======== END OF BOTTOM NAVBAR ======= -->\n\n<HR>\nCopyright &copy; 2004-2005 . All Rights Reserved.\n</BODY>\n</HTML>\n", "id": 34381.0}