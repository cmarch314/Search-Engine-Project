{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 228 for vendor current libgaim protocols jabber buddy c View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Mar 6 2 7 1 39 26 PM 8 years ago Author djp3Message Updating from gaim Repository File 1 edited vendor current libgaim protocols jabber buddy c modified 14 diffs Legend UnmodifiedAddedRemoved vendor current libgaim protocols jabber buddy c r65 r228 6868 JabberBuddy jb 6969 const char realname 7 71 if js buddies NULL 72 return NULL 7 73 7174 if realname jabber normalize js gc account name 384387 struct tag attr tag attr 385388 386 if js avatar hash 387 g free js avatar hash 389 g free js avatar hash 38839 js avatar hash NULL 389391 394396 avatar file gaim buddy icons get full path gaim account get buddy icon gc account 395397 396 if vc node avatar file 398 if vc node 397399 vc node xmlnode new vCard 3984 for tag attr vcard tag attr list tag attr attr NULL tag attr 4 4 2 4 14 3 4 2 if vc node 4 3 if vc node name 4 4 g ascii strncasecmp vc node name vCard 5 4 5 GError error NULL 4 6 gchar avatar data tmp 4 7 guchar avatar data 4 8 gsize avatar len 4 9 41 if avatar file g file get contents avatar file avatar data tmp avatar len error 411 xmlnode photo binval 412 gchar enc 413 int i 414 unsigned char hashval 2 415 char p hash 41 416 417 avatar data guchar avatar data tmp 418 photo xmlnode new child vc node PHOTO 419 binval xmlnode new child photo BINVAL 42 enc gaim base64 encode avatar data avatar len 421 422 gaim cipher digest region sha1 guchar avatar data 423 avatar len sizeof hashval 424 hashval NULL 425 426 p hash 427 for i i 2 i p 2 428 snprintf p 3 2x hashval i 429 js avatar hash g strdup hash 43 431 xmlnode insert data binval enc 1 432 g free enc 433 g free avatar data 434 else if error NULL 435 g error free error 436 437 g free avatar file 438 439 iq jabber iq new js JABBER IQ SET 44 xmlnode insert child iq node vc node 441 jabber iq send iq 442 else 443 xmlnode free vc node 444 4 4 if vc node name 4 5 g ascii strncasecmp vc node name vCard 5 4 6 GError error NULL 4 7 gchar avatar data tmp 4 8 guchar avatar data 4 9 gsize avatar len 41 411 if avatar file g file get contents avatar file avatar data tmp avatar len error 412 xmlnode photo binval 413 gchar enc 414 int i 415 unsigned char hashval 2 416 char p hash 41 417 418 avatar data guchar avatar data tmp 419 photo xmlnode new child vc node PHOTO 42 binval xmlnode new child photo BINVAL 421 enc gaim base64 encode avatar data avatar len 422 423 gaim cipher digest region sha1 guchar avatar data 424 avatar len sizeof hashval 425 hashval NULL 426 427 p hash 428 for i i 2 i p 2 429 snprintf p 3 2x hashval i 43 js avatar hash g strdup hash 431 432 xmlnode insert data binval enc 1 433 g free enc 434 g free avatar data 435 else if error NULL 436 g error free error 437 438 g free avatar file 439 44 iq jabber iq new js JABBER IQ SET 441 xmlnode insert child iq node vc node 442 jabber iq send iq 443 else 444 xmlnode free vc node 445445 446446 598598 599599 6 static void jabber buddy info destroy JabberBuddyInfo jbi 6 1 6 2 Remove the timeout which would otherwise trigger jabber buddy get info timeout 6 3 if jbi timeout handle 6 4 gaim timeout remove jbi timeout handle 6 5 6 6 g free jbi jid 6 7 g hash table destroy jbi resources 6 8 g free jbi vcard text 6 9 g free jbi 61 611 6 612static void jabber buddy info show if ready JabberBuddyInfo jbi 6 1613 6 2 GString info text 6 3 char resource name 614 char resource name tmp 6 4615 JabberBuddyResource jbr 6 5 JabberBuddyInfoResource jbir 616 JabberBuddyInfoResource jbir NULL 6 6617 GList resources 618 GaimNotifyUserInfo user info 6 7619 6 862 not yet 61 622 return 611623 612 info text g string new 624 user info gaim notify user info new 613625 resource name jabber get resource jbi jid 614626 62 632 if jbr status 621633 purdy gaim strdup withhtml jbr status 622 g string append printf info text b s b s s s br 623 Status jabber buddy state get name jbr state 624 purdy 625 purdy purdy 626 if purdy 627 g free purdy 634 tmp g strdup printf s s s jabber buddy state get name jbr state 635 purdy 636 purdy purdy 637 gaim notify user info add pair user info Status tmp 638 g free tmp 639 g free purdy 62864 else 629 g string append printf info text b s b s br 63 Status Unknown 641 gaim notify user info add pair user info Status Unknown 631642 632643 if jbir 633644 if jbir idle seconds 634 g string append printf info text b s b s br 635 Idle gaim str seconds to string jbir idle seconds 645 char idle gaim str seconds to string jbir idle seconds 646 gaim notify user info add pair user info Idle idle 647 g free idle 636648 637649 63865 if jbr jbr client name 639 g string append printf info text b s b s s br 64 Client jbr client name 641 jbr client version jbr client version 651 tmp g strdup printf s s s jbr client name 652 jbr client version 653 jbr client version jbr client version 654 gaim notify user info add pair user info Client tmp 655 g free tmp 656 642657 if jbr client os 643 g string append printf info text b s b s br 644 Operating System jbr client os 658 gaim notify user info add pair user info Operating System jbr client os 645659 64666 651665 if jbr status 652666 purdy gaim strdup withhtml jbr status 653 g string append printf info text b s b s br 654 Resource jbr name 655 g string append printf info text b s b d br 656 Priority jbr priority 657 g string append printf info text b s b s s s br 658 Status jabber buddy state get name jbr state 659 purdy 66 purdy purdy 661 if purdy 662 g free purdy 663 664 jbir g hash table lookup jbi resources jbr name 667 if jbr name 668 gaim notify user info add pair user info Resource jbr name 669 tmp g strdup printf d jbr priority 67 gaim notify user info add pair user info Priority tmp 671 g free tmp 672 673 tmp g strdup printf s s s jabber buddy state get name jbr state 674 purdy 675 purdy purdy 676 gaim notify user info add pair user info Status tmp 677 g free tmp 678 g free purdy 679 68 if jbr name 681 jbir g hash table lookup jbi resources jbr name 682 665683 if jbir 666684 if jbir idle seconds 667 g string append printf info text b s b s br 668 Idle gaim str seconds to string jbir idle seconds 685 char idle gaim str seconds to string jbir idle seconds 686 gaim notify user info add pair user info Idle idle 687 g free idle 669688 67 689 671 if jbr client name 672 g string append printf info text b s b s s br 673 Client jbr client name 674 jbr client version jbr client version 69 if jbr jbr client name 691 tmp g strdup printf s s s jbr client name 692 jbr client version 693 jbr client version jbr client version 694 gaim notify user info add pair user info 695 Client tmp 696 g free tmp 697 675698 if jbr client os 676 g string append printf info text b s b s br 677 Operating System jbr client os 699 gaim notify user info add pair user info Operating System jbr client os 6787 6797 1 68 681 g string append printf info text br 6827 2 6837 3 6857 5 g free resource name 6867 6 687 if jbi vcard text NULL 688 info text g string append info text jbi vcard text 689 69 gaim notify userinfo jbi js gc jbi jid info text str NULL NULL 7 7 if jbi vcard text NULL 7 8 gaim notify user info add section break user info 7 9 Should this have some sort of label 71 gaim notify user info add pair user info NULL jbi vcard text 711 712 713 gaim notify userinfo jbi js gc jbi jid user info NULL NULL 714 gaim notify user info destroy user info 691715 692716 while jbi vcard imgids 695719 69672 697 g string free info text TRUE 698 699 if jbi timeout handle 7 gaim timeout remove jbi timeout handle 7 1 7 2 g free jbi jid 7 3 g hash table destroy jbi resources 7 4 g free jbi vcard text 7 5 g free jbi 721 jbi js pending buddy info requests g slist remove jbi js pending buddy info requests jbi 722 723 jabber buddy info destroy jbi 7 6724 7 7725 716734 if strcmp id l data 717735 jbi ids g slist remove jbi ids l data 736 g free l data 718737 return 719738 1 631 82 1 641 83 1 84void jabber buddy remove all pending buddy info requests JabberStream js 1 85 1 86 if js pending buddy info requests 1 87 1 88 JabberBuddyInfo jbi 1 89 GSList l js pending buddy info requests 1 9 while l 1 91 jbi l data 1 92 1 93 g slist free jbi ids 1 94 jabber buddy info destroy jbi 1 95 1 96 l l next 1 97 1 98 1 99 g slist free js pending buddy info requests 11 js pending buddy info requests NULL 11 1 11 2 11 3 1 6511 4static gboolean jabber buddy get info timeout gpointer data 1 6611 5 1 71111 char id jbi ids data 1 721111 jabber iq remove callback by id jbi js id 1112 jbi ids g slist remove jbi ids id 1 731113 g free id 1 74 jbi ids g slist remove jbi ids id 1 75 1 76 1114 1115 1116 jbi js pending buddy info requests g slist remove jbi js pending buddy info requests jbi 1 771117 jbi timeout handle 1 781118 11481188 11491189 119 js pending buddy info requests g slist prepend js pending buddy info requests jbi 115 1191 jbi timeout handle gaim timeout add 3 jabber buddy get info timeout jbi 11511192 Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/libgaim/protocols/jabber/buddy.c", "title": "\n      changeset 228 for vendor/current/libgaim/protocols/jabber/buddy.c \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 228 for vendor/current/libgaim/protocols/jabber/buddy.c \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=228\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=228\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/libgaim/protocols/jabber/buddy.c\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/libgaim/protocols/jabber/buddy.c\" title=\"Changeset 65 for vendor/current/libgaim/protocols/jabber/buddy.c\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/libgaim/protocols/jabber/buddy.c\" title=\"Changeset 65 for vendor/current/libgaim/protocols/jabber/buddy.c\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/libgaim/protocols/jabber/buddy.c\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/228\">228</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228\">vendor/current/libgaim/protocols/jabber/buddy.c</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Mar 6, 2007, 10:39:26 PM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2007-03-06T22%3A39%3A26-08%3A00&amp;precision=second\" title=\"See timeline at Mar 6, 2007, 10:39:26 PM\">8 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nUpdating from gaim Repository<br />\n</p>\n\n            \n            \n          </dd>\n        <dt class=\"property files\">\n          File:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>1 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228\">\n              vendor/current/libgaim/protocols/jabber/buddy.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">14 diffs</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/libgaim/protocols/jabber/buddy.c\" title=\"Show the changeset 228 restricted to vendor/current/libgaim/protocols/jabber/buddy.c\">vendor/current/libgaim/protocols/jabber/buddy.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 65\">\n                    <a title=\"Show revision 65 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L68\">\n                      r65</a>\n                  </th>\n                  <th title=\"Revision 228\">\n                    <a title=\"Show revision 228 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L68\">\n                      r228</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>68</th><th>68</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; JabberBuddy *jb;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>69</th><th>69</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const char *realname;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>70</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>71</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (js-&gt;buddies == NULL)</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>72</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return NULL;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>70</th><th>73</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>71</th><th>74</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(!(realname = jabber_normalize(js-&gt;gc-&gt;account, name)))</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L384\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L387\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>384</th><th>387</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; struct tag_attr *tag_attr;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>385</th><th>388</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>386</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(js-&gt;avatar_hash)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>387</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(js-&gt;avatar_hash);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>389</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(js-&gt;avatar_hash);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>388</th><th>390</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; js-&gt;avatar_hash = NULL;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>389</th><th>391</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L394\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L396\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>394</th><th>396</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; avatar_file = gaim_buddy_icons_get_full_path(gaim_account_get_buddy_icon(gc-&gt;account));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>395</th><th>397</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>396</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(!vc_node<del>&nbsp;&amp;&amp; avatar_file</del>) {</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>398</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(!vc_node<ins></ins>) {</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>397</th><th>399</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vc_node = xmlnode_new(\"vCard\");</span>\u00a0</td>\n                  </tr><tr>\n                          <th>398</th><th>400</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(tag_attr = vcard_tag_attr_list; tag_attr-&gt;attr != NULL; ++tag_attr)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L400\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L402\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>400</th><th>402</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>401</th><th>403</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>402</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(vc_node) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>403</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (vc_node-&gt;name &amp;&amp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>404</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !g_ascii_strncasecmp(vc_node-&gt;name, \"vCard\", 5)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>405</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GError *error = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>406</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gchar *avatar_data_tmp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>407</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; guchar *avatar_data;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>408</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gsize avatar_len;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>409</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>410</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(avatar_file &amp;&amp; g_file_get_contents(avatar_file, &amp;avatar_data_tmp, &amp;avatar_len, &amp;error)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>411</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode *photo, *binval;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>412</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gchar *enc;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>413</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int i;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>414</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unsigned char hashval[20];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>415</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *p, hash[41];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>416</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>417</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; avatar_data = (guchar *) avatar_data_tmp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>418</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; photo = xmlnode_new_child(vc_node, \"PHOTO\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>419</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; binval = xmlnode_new_child(photo, \"BINVAL\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>420</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enc = gaim_base64_encode(avatar_data, avatar_len);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>421</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>422</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_cipher_digest_region(\"sha1\", (guchar *)avatar_data,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>423</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; avatar_len, sizeof(hashval),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>424</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hashval, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>425</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>426</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p = hash;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>427</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(i=0; i&lt;20; i++, p+=2)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>428</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; snprintf(p, 3, \"%02x\", hashval[i]);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>429</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; js-&gt;avatar_hash = g_strdup(hash);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>430</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>431</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode_insert_data(binval, enc, -1);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>432</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(enc);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>433</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(avatar_data);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>434</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (error != NULL) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>435</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_error_free(error);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>436</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>437</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(avatar_file);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>438</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>439</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iq = jabber_iq_new(js, JABBER_IQ_SET);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>440</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode_insert_child(iq-&gt;node, vc_node);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>441</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jabber_iq_send(iq);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>442</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>443</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode_free(vc_node);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>444</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>404</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (vc_node-&gt;name &amp;&amp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>405</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !g_ascii_strncasecmp(vc_node-&gt;name, \"vCard\", 5)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>406</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GError *error = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>407</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gchar *avatar_data_tmp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>408</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; guchar *avatar_data;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>409</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gsize avatar_len;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>410</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>411</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(avatar_file &amp;&amp; g_file_get_contents(avatar_file, &amp;avatar_data_tmp, &amp;avatar_len, &amp;error)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>412</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode *photo, *binval;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>413</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gchar *enc;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>414</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int i;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>415</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unsigned char hashval[20];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>416</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *p, hash[41];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>417</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>418</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; avatar_data = (guchar *) avatar_data_tmp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>419</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; photo = xmlnode_new_child(vc_node, \"PHOTO\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>420</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; binval = xmlnode_new_child(photo, \"BINVAL\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>421</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enc = gaim_base64_encode(avatar_data, avatar_len);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>422</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>423</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_cipher_digest_region(\"sha1\", (guchar *)avatar_data,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>424</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; avatar_len, sizeof(hashval),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>425</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hashval, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>426</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>427</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p = hash;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>428</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(i=0; i&lt;20; i++, p+=2)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>429</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; snprintf(p, 3, \"%02x\", hashval[i]);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>430</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; js-&gt;avatar_hash = g_strdup(hash);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>431</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>432</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode_insert_data(binval, enc, -1);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>433</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(enc);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>434</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(avatar_data);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>435</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (error != NULL) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>436</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_error_free(error);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>437</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>438</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(avatar_file);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>439</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>440</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iq = jabber_iq_new(js, JABBER_IQ_SET);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>441</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode_insert_child(iq-&gt;node, vc_node);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>442</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jabber_iq_send(iq);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>443</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else {</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>444</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xmlnode_free(vc_node);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>445</th><th>445</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>446</th><th>446</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L598\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L598\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>598</th><th>598</th><td class=\"l\"><span>&nbsp;******/</span>\u00a0</td>\n                  </tr><tr>\n                          <th>599</th><th>599</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>600</th><td class=\"r\"><ins>static void jabber_buddy_info_destroy(JabberBuddyInfo *jbi)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>601</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>602</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /* Remove the timeout, which would otherwise trigger jabber_buddy_get_info_timeout() */</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>603</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (jbi-&gt;timeout_handle &gt; 0)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>604</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_timeout_remove(jbi-&gt;timeout_handle);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>605</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>606</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_free(jbi-&gt;jid);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>607</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_hash_table_destroy(jbi-&gt;resources);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>608</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_free(jbi-&gt;vcard_text);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>609</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; g_free(jbi);&nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>610</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>611</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>600</th><th>612</th><td class=\"l\"><span>static void jabber_buddy_info_show_if_ready(JabberBuddyInfo *jbi)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>601</th><th>613</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>602</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GString *info_text;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>603</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char *resource_name;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>614</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char *resource_name, *tmp;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>604</th><th>615</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; JabberBuddyResource *jbr;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>605</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; JabberBuddyInfoResource *jbir<del></del>;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>616</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; JabberBuddyInfoResource *jbir<ins>&nbsp;= NULL</ins>;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>606</th><th>617</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GList *resources;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>618</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; GaimNotifyUserInfo *user_info;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>607</th><th>619</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>608</th><th>620</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* not yet */</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L610\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L622\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>610</th><th>622</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>611</th><th>623</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>612</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>info_text = g_string_new(\"\"</del>);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>624</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>user_info = gaim_notify_user_info_new(</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>613</th><th>625</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; resource_name = jabber_get_resource(jbi-&gt;jid);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>614</th><th>626</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L620\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L632\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>620</th><th>632</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr-&gt;status)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>621</th><th>633</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; purdy = gaim_strdup_withhtml(jbr-&gt;status);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>622</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s%s%s&lt;br/&gt;\"</del>,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>623</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>_(\"Status\"), jabber_buddy_state_get_name(jbr-&gt;state</del>),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>624</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>purdy ? \": \" : \"\",</del></span>\u00a0</td>\n                      </tr><tr>\n                        <th>625</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; purdy ? purdy : \"\"</del>);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>626</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>if(purdy)</del></span>\u00a0</td>\n                      </tr><tr>\n                        <th>627</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>g_free(purdy);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>634</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>tmp = g_strdup_printf(\"%s%s%s\", jabber_buddy_state_get_name(jbr-&gt;state)</ins>,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>635</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (purdy ? \": \" : \"\"</ins>),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>636</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (purdy ? purdy : \"\"));</ins></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>637</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>gaim_notify_user_info_add_pair(user_info, _(\"Status\"), tmp</ins>);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>638</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>g_free(tmp);</ins></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>639</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>g_free(purdy);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>628</th><th>640</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>629</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>630</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Status\"), _(\"Unknown\"));</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>641</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Status\"), _(\"Unknown\"));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>631</th><th>642</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>632</th><th>643</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbir) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>633</th><th>644</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbir-&gt;idle_seconds &gt; 0) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>634</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>635</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Idle\"), gaim_str_seconds_to_string(jbir-&gt;idle_seconds));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>645</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *idle = gaim_str_seconds_to_string(jbir-&gt;idle_seconds);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>646</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Idle\"), idle);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>647</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(idle);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>636</th><th>648</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>637</th><th>649</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>638</th><th>650</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr &amp;&amp; jbr-&gt;client.name) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>639</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>640</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Client:\"), jbr-&gt;client.name,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>641</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jbr-&gt;client.version ? jbr-&gt;client.version : \"\");</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>651</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp = g_strdup_printf(\"%s%s%s\", jbr-&gt;client.name,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>652</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (jbr-&gt;client.version ? \" \" : \"\"),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>653</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (jbr-&gt;client.version ? jbr-&gt;client.version : \"\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>654</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Client\"), tmp);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>655</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(tmp);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>656</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>642</th><th>657</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr-&gt;client.os) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>643</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>644</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Operating System\"), jbr-&gt;client.os);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>658</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Operating System\"), jbr-&gt;client.os);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>645</th><th>659</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>646</th><th>660</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L651\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L665\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>651</th><th>665</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr-&gt;status)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>652</th><th>666</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; purdy = gaim_strdup_withhtml(jbr-&gt;status);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>653</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>654</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Resource\"), jbr-&gt;name);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>655</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %d&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>656</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Priority\"), jbr-&gt;priority);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>657</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s%s%s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>658</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Status\"), jabber_buddy_state_get_name(jbr-&gt;state),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>659</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; purdy ? \": \" : \"\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>660</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; purdy ? purdy : \"\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>661</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(purdy)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>662</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(purdy);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>663</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>664</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jbir = g_hash_table_lookup(jbi-&gt;resources, jbr-&gt;name);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>667</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr-&gt;name)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>668</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Resource\"), jbr-&gt;name);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>669</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp = g_strdup_printf(\"%d\", jbr-&gt;priority);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>670</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Priority\"), tmp);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>671</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(tmp);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>672</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>673</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp = g_strdup_printf(\"%s%s%s\", jabber_buddy_state_get_name(jbr-&gt;state),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>674</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (purdy ? \": \" : \"\"),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>675</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (purdy ? purdy : \"\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>676</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Status\"), tmp);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>677</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(tmp);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>678</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(purdy);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>679</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>680</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr-&gt;name)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>681</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jbir = g_hash_table_lookup(jbi-&gt;resources, jbr-&gt;name);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>682</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>665</th><th>683</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbir) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>666</th><th>684</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbir-&gt;idle_seconds &gt; 0) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>667</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>668</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Idle\"), gaim_str_seconds_to_string(jbir-&gt;idle_seconds));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>685</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *idle = gaim_str_seconds_to_string(jbir-&gt;idle_seconds);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>686</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Idle\"), idle);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>687</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(idle);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>669</th><th>688</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>670</th><th>689</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>671</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr-&gt;client.name) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>672</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>673</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Client\"), jbr-&gt;client.name,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>674</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jbr-&gt;client.version ? jbr-&gt;client.version : \"\");</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>690</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr &amp;&amp; jbr-&gt;client.name) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>691</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp = g_strdup_printf(\"%s%s%s\", jbr-&gt;client.name,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>692</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (jbr-&gt;client.version ? \" \" : \"\"),</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>693</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (jbr-&gt;client.version ? jbr-&gt;client.version : \"\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>694</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info,</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>695</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_(\"Client\"), tmp);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>696</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(tmp);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>697</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>675</th><th>698</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(jbr-&gt;client.os) {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>676</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;b&gt;%s:&lt;/b&gt; %s&lt;br/&gt;\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>677</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _(\"Operating System\"), jbr-&gt;client.os);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>699</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, _(\"Operating System\"), jbr-&gt;client.os);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>678</th><th>700</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>679</th><th>701</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>680</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>681</th><th>\u00a0</th><td class=\"l\"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(info_text, \"&lt;br/&gt;\");</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>682</th><th>702</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>683</th><th>703</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L685\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L705\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>685</th><th>705</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(resource_name);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>686</th><th>706</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>687</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (jbi-&gt;vcard_text != NULL)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>688</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; info_text = g_string_append(info_text, jbi-&gt;vcard_text);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>689</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>690</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_userinfo(jbi-&gt;js-&gt;gc, jbi-&gt;jid, info_text-&gt;str, NULL, NULL);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>707</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (jbi-&gt;vcard_text != NULL) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>708</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_section_break(user_info);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>709</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Should this have some sort of label? */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>710</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_add_pair(user_info, NULL, jbi-&gt;vcard_text);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>711</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>712</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>713</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_userinfo(jbi-&gt;js-&gt;gc, jbi-&gt;jid, user_info, NULL, NULL);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>714</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gaim_notify_user_info_destroy(user_info);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>691</th><th>715</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>692</th><th>716</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; while(jbi-&gt;vcard_imgids) {</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L695\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L719\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>695</th><th>719</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>696</th><th>720</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>697</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_string_free(info_text, TRUE);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>698</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>699</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (jbi-&gt;timeout_handle &gt; 0)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>700</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_timeout_remove(jbi-&gt;timeout_handle);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>701</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>702</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(jbi-&gt;jid);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>703</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_hash_table_destroy(jbi-&gt;resources);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>704</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(jbi-&gt;vcard_text);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>705</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(jbi);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>721</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; jbi-&gt;js-&gt;pending_buddy_info_requests = g_slist_remove(jbi-&gt;js-&gt;pending_buddy_info_requests, jbi);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>722</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>723</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; jabber_buddy_info_destroy(jbi);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>706</th><th>724</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>707</th><th>725</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L716\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L734\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>716</th><th>734</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!strcmp(id, l-&gt;data)) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>717</th><th>735</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jbi-&gt;ids = g_slist_remove(jbi-&gt;ids, l-&gt;data);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>736</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(l-&gt;data);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>718</th><th>737</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>719</th><th>738</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L1063\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L1082\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1063</th><th>1082</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1064</th><th>1083</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>1084</th><td class=\"r\"><ins>void jabber_buddy_remove_all_pending_buddy_info_requests(JabberStream *js)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1085</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1086</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if (js-&gt;pending_buddy_info_requests)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1087</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1088</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; JabberBuddyInfo *jbi;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1089</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GSList *l = js-&gt;pending_buddy_info_requests;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1090</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (l) {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1091</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jbi = l-&gt;data;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1092</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1093</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_slist_free(jbi-&gt;ids);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1094</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jabber_buddy_info_destroy(jbi);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1095</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1096</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; l = l-&gt;next;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1097</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1098</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1099</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_slist_free(js-&gt;pending_buddy_info_requests);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1100</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; js-&gt;pending_buddy_info_requests = NULL;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1101</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1102</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>1103</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1065</th><th>1104</th><td class=\"l\"><span>static gboolean jabber_buddy_get_info_timeout(gpointer data)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1066</th><th>1105</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L1071\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L1110\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1071</th><th>1110</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *id = jbi-&gt;ids-&gt;data;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1072</th><th>1111</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jabber_iq_remove_callback_by_id(jbi-&gt;js, id);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>1112</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jbi-&gt;ids = g_slist_remove(jbi-&gt;ids, id);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1073</th><th>1113</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(id);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>1074</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; jbi-&gt;ids = g_slist_remove(jbi-&gt;ids, id);</del></span>\u00a0</td>\n                      </tr><tr>\n                        <th>1075</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>1076</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>1114</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>}</ins></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>1115</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>1116</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; jbi-&gt;js-&gt;pending_buddy_info_requests = g_slist_remove(jbi-&gt;js-&gt;pending_buddy_info_requests, jbi);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1077</th><th>1117</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; jbi-&gt;timeout_handle = 0;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1078</th><th>1118</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=65#L1148\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/protocols/jabber/buddy.c?rev=228#L1188\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1148</th><th>1188</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1149</th><th>1189</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>1190</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; js-&gt;pending_buddy_info_requests = g_slist_prepend(js-&gt;pending_buddy_info_requests, jbi);</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1150</th><th>1191</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; jbi-&gt;timeout_handle = gaim_timeout_add(30000, jabber_buddy_get_info_timeout, jbi);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1151</th><th>1192</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=228\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=228\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 39921.0}