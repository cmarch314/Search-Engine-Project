{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangesetNext Changeset Changeset 141 View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Feb 2 2 7 8 29 AM 8 years ago Author djp3Message Restructured nearest neighbor location lists in the context chooser window box Location trunk Nomatic Gaim current client gtk plugins nomatic Files 5 edited feature c modified 1 diff featureCollection c modified 3 diffs featureCollection h modified 2 diffs nomatic c modified 8 diffs presence c modified 1 diff Legend UnmodifiedAddedRemoved trunk Nomatic Gaim current client gtk plugins nomatic feature c r134 r141 1 451 45 1 461 46 1 47 1 47 1 481 48 char s 1 24 1 491 49 featureMakeText s sizeof s f 1 5 1 5 nomaticDebugMisc NULL Nomatic feature c featureSense n s n s 1 51 1 51 1 521 52 1 531 53 featureFree lastFeature trunk Nomatic Gaim current client gtk plugins nomatic featureCollection c r14 r141 11 include stdio h 2 include stdlib h 23 include glib h 34 11 111 111112 112 float bestScore 113 feature bestF 113int i 114114 115 void 116 findNearestNeighborFeatureHelperInit 115featureCollectionNNStruct nnArray 116 117int nnCompareFunction const void a const void b 117118 118 bestScore 1 119 bestF NULL 119 return featureCollectionNNStruct a score featureCollectionNNStruct b score 12 12 121121 122 feature findNearestNeighborFeature feature f 122void featureFindNearestNeighbor feature f int returnSize featureCollectionNNStruct nn 123123 124 findNearestNeighborFeatureHelperInit 124 int size g tree nnodes featureCollection 125 returnSize size 126 nomaticDebugMisc NULL Nomatic NN Size d n size 127 128 if nnArray 129 free nnArray 13 131 nnArray featureCollectionNNStruct calloc size sizeof featureCollectionNNStruct 132 133 nomaticDebugMisc NULL Nomatic NN Array n 134 135 i 136 125137 g tree foreach featureCollection GTraverseFunc findNearestNeighborFeatureHelper f 126 return bestF 138 nomaticDebugMisc NULL Nomatic NN Foreach n 139 14 qsort nnArray size sizeof featureCollectionNNStruct nnCompareFunction 141 nomaticDebugMisc NULL Nomatic NN Sorted n 142 nn nnArray 143 127144 128145 134151 135152 float d featureCalculateDistance trainKey test 136 137 if bestScore d bestScore 138 bestScore d 139 bestF trainKey 14 nomaticDebugMisc NULL Nomatic finding NN d d ip d d d d s n bestF wday bestF minutes bestF ip4 bestF ip3 bestF ip2 bestF ip1 bestF phrase 141 153 nnArray i score d 154 nnArray i f trainKey 155 i 142156 143157 else trunk Nomatic Gaim current client gtk plugins nomatic featureCollection h r128 r141 55 66 include feature h 7 8typedef struct 9 float score 1 feature f 11 featureCollectionNNStruct 712 813extern GTree featureCollection 1318void featureCollectionStoreFeature const feature fv 1419 15 feature findNearestNeighborFeature feature f 2 void featureFindNearestNeighbor feature f int size featureCollectionNNStruct nn 1621void featureCollectionTransferToCompletionField GtkWidget location GtkWidget activity GtkWidget socialStatus GtkWidget freeForm 1722 trunk Nomatic Gaim current client gtk plugins nomatic nomatic c r14 r141 8484void predictAndSetPresence feature knownFeatures 8585 86 feature f nn 86feature f 87featureCollectionNNStruct nn 8788 8889 f featureSense 9 91 featureOverwrite f knownFeatures 9192 nomaticDebugMisc NULL Nomatic Sensing status minutes d day d ip d d d d n f minutes f wday f ip4 f ip3 f ip2 f ip1 92 nn findNearestNeighborFeature f 93 int x 94 featureFindNearestNeighbor f x nn 9395 featureFree f 96 97 char s 1 24 98 featureMakeText s sizeof s nn f 99 nomaticDebugMisc NULL Nomatic nomaic c NN n s n s 1 941 1 951 2 if nn 981 5 991 6 else 1 if featureGetIsStructured nn 1 1 presenceSetActivityContext featureGetActivityContext nn featureGetIsStructured nn 1 2 gtk entry set text GTK ENTRY activityContextTextbox featureGetActivityContext nn 1 7 if featureGetIsStructured nn f 1 8 presenceSetActivityContext featureGetActivityContext nn f featureGetIsStructured nn f 1 9 gtk entry set text GTK ENTRY activityContextTextbox featureGetActivityContext nn f 1 311 1 4 presenceSetLocationContext featureGetLocationContext nn featureGetIsStructured nn 1 5 gtk entry set text GTK ENTRY locationContextTextbox featureGetLocationContext nn 111 presenceSetLocationContext featureGetLocationContext nn f featureGetIsStructured nn f 112 gtk entry set text GTK ENTRY locationContextTextbox featureGetLocationContext nn f 1 6113 1 7 presenceSetSocialContext featureGetSocialContext nn featureGetIsStructured nn 1 8 gtk entry set text GTK ENTRY socialContextTextbox featureGetSocialContext nn 114 presenceSetSocialContext featureGetSocialContext nn f featureGetIsStructured nn f 115 gtk entry set text GTK ENTRY socialContextTextbox featureGetSocialContext nn f 1 9116 11 117 else 111 presenceSetFreeFormContext featureGetFreeFormContext nn featureGetIsStructured nn 112 gtk entry set text GTK ENTRY freeFormContextTextbox featureGetFreeFormContext nn 118 presenceSetFreeFormContext featureGetFreeFormContext nn f featureGetIsStructured nn f 119 gtk entry set text GTK ENTRY freeFormContextTextbox featureGetFreeFormContext nn f 11312 114121 char s makePresencePhrase 25326 254261 255 nomaticDebugMisc NULL Nomatic fooCB s n char data 262 nomaticDebugMisc NULL Nomatic fooCB s n featureGetLocationContext feature data 256263 257264 return FALSE 258265 259266 267char selectLocations featureCollectionNNStruct nn int size 268 269char ret NULL 27 271 int i 272 int j 273 for i i size j NUM NN i 274 if featureGetIsStructured nn i f 275 int k 276 int seenIt 277 for k k j seenIt k 278 if strcmp ret k featureGetLocationContext nn i f 279 seenIt 1 28 281 282 if seenIt 283 ret j strdup featureGetLocationContext nn i f 284 j 285 286 287 288 return ret 289 29 291 292 26 293static void contextCreateWindow 261294 262 295 263296 nomaticDebugMisc NULL Nomatic contextCreateWindow n 264297 Make main window 2693 2 gtk window set title GTK WINDOW contextChooserWindow Nomatic Gaim Context Selection Tool 27 3 3 271 Make vertical box 3 4 Make horizontal box container 3 5 GtkWidget mainBox gtk hbox new TRUE 2 3 6 3 7 Make location box 2723 8 GtkWidget vbox gtk vbox new TRUE 2 2733 9 275311 GtkWidget hbox labels gtk hbox new TRUE 2 276312 313 The word Location 277314 GtkWidget label 278315 label gtk label new Location 279 gtk box pack start GTK BOX hbox labels label TRUE TRUE 28 label gtk label new Activity 281 gtk box pack start GTK BOX hbox labels label TRUE TRUE 282 label gtk label new Social 283 gtk box pack start GTK BOX hbox labels label TRUE TRUE 284 285 gtk box pack start GTK BOX vbox hbox labels FALSE FALSE 286 gtk container add GTK CONTAINER vbox hbox labels 287 288 289 GtkWidget hbox text gtk hbox new TRUE 2 316 gtk box pack start GTK BOX vbox label TRUE TRUE 29 317 291318 Textbox Location 29332 gtk entry set text GTK ENTRY locationContextTextbox 294321 gtk widget set size request locationContextTextbox 3 2 295 gtk box pack start GTK BOX hbox text locationContextTextbox TRUE TRUE 322 gtk box pack start GTK BOX vbox locationContextTextbox TRUE TRUE 296323 297324 g signal connect G OBJECT locationContextTextbox key press event 3 327 g signal connect G OBJECT locationContextTextbox focus out event 3 1328 G CALLBACK setLocationContextCB focus out event 3 2 3 3 3 4 Textbox Activity 3 5 activityContextTextbox gtk entry new 3 6 gtk entry set text GTK ENTRY activityContextTextbox 3 7 gtk widget set size request activityContextTextbox 3 2 3 8 gtk box pack start GTK BOX hbox text activityContextTextbox TRUE TRUE 3 9 31 g signal connect G OBJECT activityContextTextbox key press event 311 G CALLBACK setActivityContextCB key press event 312 313 g signal connect G OBJECT activityContextTextbox focus out event 314 G CALLBACK setActivityContextCB focus out event 315 316 Textbox Social Context 317 socialContextTextbox gtk entry new 318 gtk entry set text GTK ENTRY socialContextTextbox 319 gtk widget set size request socialContextTextbox 3 2 32 gtk box pack start GTK BOX hbox text socialContextTextbox TRUE TRUE 321 322 g signal connect G OBJECT socialContextTextbox key press event 323 G CALLBACK setSocialContextCB key press event 324 325 g signal connect G OBJECT socialContextTextbox focus out event 326 G CALLBACK setSocialContextCB focus out event 327 328 gtk box pack start GTK BOX vbox hbox text FALSE FALSE 329 33 GtkWidget nnRows NUM NN 329 33 331 Sort the training data 332 featureCollectionNNStruct nn 333 feature f featureSense 334 int size 335 featureFindNearestNeighbor f size nn 336 337 Pull out a unique list of locations 338 feature locationList 339 locationList feature calloc size sizeof feature 34 331341 int i 332 for i i NUM NN i 333 nnRows i gtk hbox new TRUE 2 334 Add buttons 335 GtkWidget button NULL 336 337 button gtk button new 338 gtk container add GTK CONTAINER button gtk label new foo 339 gtk box pack start GTK BOX nnRows i button TRUE TRUE 34 gtk widget show button 341 g signal connect G OBJECT button clicked 342 G CALLBACK fooCB clicked 342 int maxLocations 343 for i i size maxLocations NUM NN i 344 if featureGetIsStructured nn i f 345 int k 346 int seenIt 347 for k k maxLocations seenIt k 348 if strcmp featureGetLocationContext locationList k featureGetLocationContext nn i f 349 seenIt 1 35 351 352 if seenIt 353 locationList maxLocations nn i f 354 nomaticDebugMisc NULL Nomatic locationList s n featureGetLocationContext nn i f 355 maxLocations 356 357 358 359 36 Put the locations in the window as buttons 361 GtkWidget locationButtons NUM NN 362 363 for i i maxLocations i 364 GtkWidget box gtk hbox new FALSE 365 366 locationButtons i gtk button new 367 368 Put the selection button in the column 369 gtk container add GTK CONTAINER locationButtons i gtk label new featureGetLocationContext locationList i 37 gtk box pack start GTK BOX box locationButtons i TRUE TRUE 371 g signal connect G OBJECT locationButtons i clicked 372 G CALLBACK fooCB locationList i 343373 344 button gtk button new 345 gtk container add GTK CONTAINER button gtk label new bar 346 gtk box pack start GTK BOX nnRows i button TRUE TRUE 347 gtk widget show button 348 g signal connect G OBJECT button clicked 349 G CALLBACK fooCB clicked 35 351 button gtk button new 352 gtk container add GTK CONTAINER button gtk label new baz 353 gtk box pack start GTK BOX nnRows i button TRUE TRUE 354 gtk widget show button 355 g signal connect G OBJECT button clicked 356 G CALLBACK fooCB clicked 357 358 gtk box pack start GTK BOX vbox nnRows i FALSE FALSE 359 36 361 gtk container add GTK CONTAINER contextChooserWindow vbox 374 Put the delete button in the same row 375 GtkWidget button gtk button new 376 gchar file path 377 file path g build filename DATADIR pixmaps gaim status default offline png NULL 378 gtk container add GTK CONTAINER button gtk image new from file file path 379 g free file path 38 381 gtk box pack start GTK BOX box button FALSE TRUE 382 383 gtk box pack start GTK BOX vbox box FALSE TRUE 384 385 gtk box pack start GTK BOX mainBox vbox TRUE TRUE 386 387 gtk container add GTK CONTAINER contextChooserWindow mainBox 362388 363389 gtk widget show all contextChooserWindow trunk Nomatic Gaim current client gtk plugins nomatic presence c r138 r141 1919int soapCall 2 2 21 soap init soap 21 soap init soap 2222 struct ns1 query query 23 struct ns1 queryResponse response 24 int error 25 if error soap call ns1 query soap NULL NULL NULL response SOAP OK 26 nomaticDebugMisc NULL Nomatic SOAP OK n 27 28 return error 23 struct ns1 queryResponse response 24 int error 25 if error soap call ns1 query soap NULL NULL NULL response SOAP OK 26 nomaticDebugMisc NULL Nomatic SOAP OK n 27 28 return error 29 nomaticDebugMisc NULL Nomatic SOAP disabled n 3 return 1 2931 3 32 Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/141", "title": "\n      changeset 141 \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 141 \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/140\" title=\"Changeset 140\" /><link rel=\"last\" href=\"/LUCICodeRepository/nomaticIM/changeset/1312\" title=\"Changeset 1312\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=141\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=141\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/142\" title=\"Changeset 142\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"first\" href=\"/LUCICodeRepository/nomaticIM/changeset/1\" title=\"Changeset 1\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/140\" title=\"Changeset 140\">Previous Changeset</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/142\" title=\"Changeset 142\">Next Changeset</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset 141</h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Feb 2, 2007, 8:29:00 AM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2007-02-02T08%3A29%3A00-08%3A00&amp;precision=second\" title=\"See timeline at Feb 2, 2007, 8:29:00 AM\">8 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nRestructured nearest neighbor location lists in the context chooser window box<br />\n</p>\n\n            \n            \n          </dd>\n          <dt class=\"property location\">Location:</dt>\n          <dd class=\"searchable\"><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic?rev=141\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic</a></dd>\n        <dt class=\"property files\">\n          Files:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>5 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/feature.c?rev=141\">\n              feature.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">1 diff</a>)\n            </li><li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c?rev=141\">\n              featureCollection.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file1\">3 diffs</a>)\n            </li><li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h?rev=141\">\n              featureCollection.h\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file2\">2 diffs</a>)\n            </li><li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141\">\n              nomatic.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file3\">8 diffs</a>)\n            </li><li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/presence.c?rev=141\">\n              presence.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file4\">1 diff</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/141/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/feature.c\" title=\"Show the changeset 141 restricted to trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/feature.c\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/feature.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 134\">\n                    <a title=\"Show revision 134 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/feature.c?rev=134#L1045\">\n                      r134</a>\n                  </th>\n                  <th title=\"Revision 141\">\n                    <a title=\"Show revision 141 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/feature.c?rev=141#L1045\">\n                      r141</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1045</th><th>1045</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1046</th><th>1046</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>1047</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del></del>{</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>1047</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>/*</ins>{</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1048</th><th>1048</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char s[1024];</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1049</th><th>1049</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureMakeText(s,sizeof(s),f); </span>\u00a0</td>\n                  </tr><tr>\n                          <th>1050</th><th>1050</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: feature.c: featureSense:\\n%s\\n\",s);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>1051</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<del></del></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>1051</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<ins>*/</ins></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1052</th><th>1052</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>1053</th><th>1053</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(lastFeature);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file1\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/141/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c\" title=\"Show the changeset 141 restricted to trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 140\">\n                    <a title=\"Show revision 140 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c?rev=140#L1\">\n                      r140</a>\n                  </th>\n                  <th title=\"Revision 141\">\n                    <a title=\"Show revision 141 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c?rev=141#L1\">\n                      r141</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1</th><th>1</th><td class=\"l\"><span>#include &lt;stdio.h&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>2</th><td class=\"r\"><ins>#include &lt;stdlib.h&gt;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2</th><th>3</th><td class=\"l\"><span>//#include &lt;glib.h&gt;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>3</th><th>4</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c?rev=140#L110\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c?rev=141#L111\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>110</th><th>111</th><td class=\"l\"><span>}*/</span>\u00a0</td>\n                  </tr><tr>\n                          <th>111</th><th>112</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>112</th><th>\u00a0</th><td class=\"l\"><span>float bestScore;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>113</th><th>\u00a0</th><td class=\"l\"><span>feature *bestF;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>113</th><td class=\"r\"><span>int i;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>114</th><th>114</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>115</th><th>\u00a0</th><td class=\"l\"><span>void</span>\u00a0</td>\n                      </tr><tr>\n                        <th>116</th><th>\u00a0</th><td class=\"l\"><span>findNearestNeighborFeatureHelperInit()</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>115</th><td class=\"r\"><span>featureCollectionNNStruct *nnArray;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>116</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>117</th><td class=\"r\"><span>int nnCompareFunction(const void *a, const void *b)</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>117</th><th>118</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>118</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; bestScore = -1.0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>119</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; bestF = NULL;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>119</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(((featureCollectionNNStruct *)a)-&gt;score - ((featureCollectionNNStruct *)b)-&gt;score);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>120</th><th>120</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>121</th><th>121</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>122</th><th>\u00a0</th><td class=\"l\"><span><del>feature *findNearestNeighborFeature(feature *f</del>)</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>122</th><td class=\"r\"><span><ins>void featureFindNearestNeighbor(feature *f,int *returnSize,featureCollectionNNStruct **nn</ins>)</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>123</th><th>123</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>124</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; findNearestNeighborFeatureHelperInit();</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>124</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int size =&nbsp; g_tree_nnodes(featureCollection);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>125</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; *returnSize = size;&nbsp; &nbsp; &nbsp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>126</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: NN Size %d\\n\",size);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>127</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>128</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(nnArray){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>129</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(nnArray);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>130</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>131</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nnArray = (featureCollectionNNStruct *)calloc(size,sizeof(featureCollectionNNStruct));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>132</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>133</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: NN Array\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>134</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>135</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; i = 0;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>136</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>125</th><th>137</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_tree_foreach(featureCollection,(GTraverseFunc)findNearestNeighborFeatureHelper,f);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>126</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(bestF);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>138</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: NN Foreach\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>139</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>140</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; qsort(nnArray,size,sizeof(featureCollectionNNStruct),nnCompareFunction);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>141</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: NN Sorted\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>142</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; *nn = nnArray;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>143</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>127</th><th>144</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>128</th><th>145</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c?rev=140#L134\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.c?rev=141#L151\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>134</th><th>151</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>135</th><th>152</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float d = featureCalculateDistance(trainKey,test);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>136</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>137</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((bestScore &lt; 0.0) || (d &lt; bestScore)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>138</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bestScore = d;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>139</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bestF = trainKey;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>140</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //nomaticDebugMisc(NULL,\"Nomatic: finding NN: %d, %d, ip %d.%d.%d.%d %s\\n\",bestF-&gt;wday,bestF-&gt;minutes,bestF-&gt;ip4,bestF-&gt;ip3,bestF-&gt;ip2,bestF-&gt;ip1,bestF-&gt;phrase);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>141</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>153</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nnArray[i].score = d;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>154</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nnArray[i].f = trainKey;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>155</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i++;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>142</th><th>156</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>143</th><th>157</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file2\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/141/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h\" title=\"Show the changeset 141 restricted to trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 128\">\n                    <a title=\"Show revision 128 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h?rev=128#L5\">\n                      r128</a>\n                  </th>\n                  <th title=\"Revision 141\">\n                    <a title=\"Show revision 141 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h?rev=141#L5\">\n                      r141</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5</th><th>5</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>6</th><th>6</th><td class=\"l\"><span>#include \"feature.h\"</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>7</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>8</th><td class=\"r\"><ins>typedef struct{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>9</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; float score;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>10</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; feature *f;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>11</th><td class=\"r\"><ins>}featureCollectionNNStruct;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>7</th><th>12</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>8</th><th>13</th><td class=\"l\"><span>extern GTree *featureCollection;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h?rev=128#L13\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/featureCollection.h?rev=141#L18\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>13</th><th>18</th><td class=\"l\"><span>void featureCollectionStoreFeature(const feature *fv);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>14</th><th>19</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>15</th><th>\u00a0</th><td class=\"l\"><span><del>feature *findNearestNeighborFeature(feature *f</del>);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>20</th><td class=\"r\"><span><ins>void featureFindNearestNeighbor(feature *f,int *size,featureCollectionNNStruct **nn</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>16</th><th>21</th><td class=\"l\"><span>void featureCollectionTransferToCompletionField(GtkWidget *location,GtkWidget *activity, GtkWidget *socialStatus, GtkWidget *freeForm);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>17</th><th>22</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file3\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/141/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\" title=\"Show the changeset 141 restricted to trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 140\">\n                    <a title=\"Show revision 140 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L84\">\n                      r140</a>\n                  </th>\n                  <th title=\"Revision 141\">\n                    <a title=\"Show revision 141 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L84\">\n                      r141</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>84</th><th>84</th><td class=\"l\"><span>void predictAndSetPresence(feature *knownFeatures)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>85</th><th>85</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>86</th><th>\u00a0</th><td class=\"l\"><span>feature *f,*nn;</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>86</th><td class=\"r\"><span>feature *f;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>87</th><td class=\"r\"><span>featureCollectionNNStruct *nn;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>87</th><th>88</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>88</th><th>89</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; f = featureSense();</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L90\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L91\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>90</th><th>91</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureOverwrite(f,knownFeatures);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>91</th><th>92</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //nomaticDebugMisc(NULL,\"Nomatic: Sensing status: minutes:%d, day:%d, ip %d.%d.%d.%d\\n\",f-&gt;minutes,f-&gt;wday,f-&gt;ip4,f-&gt;ip3,f-&gt;ip2,f-&gt;ip1);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>92</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nn = findNearestNeighborFeature(f);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>93</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int x;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>94</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFindNearestNeighbor(f,&amp;x,&amp;nn);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>93</th><th>95</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureFree(f);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>96</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>97</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char s[1024];</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>98</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureMakeText(s,sizeof(s),nn[0].f);&nbsp; &nbsp;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>99</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: nomaic.c: NN:\\n%s\\n\",s);</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>100</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>94</th><th>101</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>95</th><th>102</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!nn){</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L98\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L105\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>98</th><th>105</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>99</th><th>106</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>100</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(featureGetIsStructured(nn<del></del>)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>101</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetActivityContext(featureGetActivityContext(nn<del>),featureGetIsStructured(nn</del>));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>102</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(activityContextTextbox),featureGetActivityContext(nn<del></del>));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>107</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(featureGetIsStructured(nn<ins>[0].f</ins>)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>108</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetActivityContext(featureGetActivityContext(nn<ins>[0].f),featureGetIsStructured(nn[0].f</ins>));</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>109</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(activityContextTextbox),featureGetActivityContext(nn<ins>[0].f</ins>));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>103</th><th>110</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>104</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetLocationContext(featureGetLocationContext(nn<del>),featureGetIsStructured(nn</del>));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>105</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(locationContextTextbox),featureGetLocationContext(nn<del></del>));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>111</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetLocationContext(featureGetLocationContext(nn<ins>[0].f),featureGetIsStructured(nn[0].f</ins>));</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>112</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(locationContextTextbox),featureGetLocationContext(nn<ins>[0].f</ins>));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>106</th><th>113</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>107</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetSocialContext(featureGetSocialContext(nn<del>),featureGetIsStructured(nn</del>));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>108</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(socialContextTextbox),featureGetSocialContext(nn<del></del>));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>114</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetSocialContext(featureGetSocialContext(nn<ins>[0].f),featureGetIsStructured(nn[0].f</ins>));</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>115</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(socialContextTextbox),featureGetSocialContext(nn<ins>[0].f</ins>));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>109</th><th>116</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>110</th><th>117</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>111</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetFreeFormContext(featureGetFreeFormContext(nn<del>),featureGetIsStructured(nn</del>));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>112</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(freeFormContextTextbox),featureGetFreeFormContext(nn<del></del>));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>118</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presenceSetFreeFormContext(featureGetFreeFormContext(nn<ins>[0].f),featureGetIsStructured(nn[0].f</ins>));</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>119</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text(GTK_ENTRY(freeFormContextTextbox),featureGetFreeFormContext(nn<ins>[0].f</ins>));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>113</th><th>120</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>114</th><th>121</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *s = makePresencePhrase();</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L253\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L260\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>253</th><th>260</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>254</th><th>261</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>255</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: fooCB: %s:\\n\",<del>(char *)data</del>);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>262</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: fooCB: %s:\\n\",<ins>featureGetLocationContext((feature *)data)</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>256</th><th>263</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>257</th><th>264</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(FALSE);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>258</th><th>265</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>259</th><th>266</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>267</th><td class=\"r\"><ins>char **selectLocations(featureCollectionNNStruct *nn,int size)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>268</th><td class=\"r\"><ins>{</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>269</th><td class=\"r\"><ins>char **ret=NULL;&nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>270</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>271</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; int i = 0;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>272</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; int j = 0;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>273</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; for(i = 0; (i&lt; size)&amp;&amp; (j&lt; NUM_NN); i++){</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>274</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(featureGetIsStructured(nn[i].f)){</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>275</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int k;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>276</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int seenIt = 0;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>277</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(k=0;(k&lt;j)&amp;&amp;(!seenIt);k++){</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>278</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(strcmp(ret[k],featureGetLocationContext(nn[i].f))==0){</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>279</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; seenIt = 1;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>280</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>281</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>282</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!seenIt){</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>283</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret[j] = strdup(featureGetLocationContext(nn[i].f));</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>284</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; j++;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>285</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>286</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>287</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>288</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; return(ret);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>289</th><td class=\"r\"><ins>}</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>290</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>291</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>292</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>260</th><th>293</th><td class=\"l\"><span>static void contextCreateWindow()</span>\u00a0</td>\n                  </tr><tr>\n                          <th>261</th><th>294</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>262</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>295</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>263</th><th>296</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: contextCreateWindow\\n\");</span>\u00a0</td>\n                  </tr><tr>\n                          <th>264</th><th>297</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Make main window</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L269\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L302\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>269</th><th>302</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_window_set_title (GTK_WINDOW(contextChooserWindow), _(\"Nomatic*Gaim Context Selection Tool\"));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>270</th><th>303</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>271</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Make vertical box</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>304</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Make horizontal box container</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>305</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *mainBox = gtk_hbox_new(TRUE,2);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>306</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>307</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Make location box&nbsp; &nbsp; &nbsp;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>272</th><th>308</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *vbox = gtk_vbox_new(TRUE,2);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>273</th><th>309</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L275\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L311\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>275</th><th>311</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *hbox_labels = gtk_hbox_new(TRUE,2);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>276</th><th>312</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>313</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; //The word Location</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>277</th><th>314</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *label;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>278</th><th>315</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; label = gtk_label_new (\"Location\");</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>279</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_labels), label, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>280</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; label = gtk_label_new (\"Activity\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>281</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_labels), label, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>282</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; label = gtk_label_new (\"Social\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>283</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_labels), label, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>284</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>285</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(vbox), hbox_labels, FALSE, FALSE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>286</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //gtk_container_add(GTK_CONTAINER(vbox),hbox_labels);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>287</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>288</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>289</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *hbox_text = gtk_hbox_new(TRUE,2);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>316</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(vbox), label, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>290</th><th>317</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>291</th><th>318</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Textbox - Location</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L293\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L320\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>293</th><th>320</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text (GTK_ENTRY (locationContextTextbox), \"\");</span>\u00a0</td>\n                  </tr><tr>\n                          <th>294</th><th>321</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request(locationContextTextbox, 30, 20);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>295</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(<del>hbox_text</del>), locationContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>322</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(<ins>vbox</ins>), locationContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>296</th><th>323</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>297</th><th>324</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (locationContextTextbox), \"key_press_event\",</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=140#L300\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/nomatic.c?rev=141#L327\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>300</th><th>327</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (locationContextTextbox), \"focus_out_event\",</span>\u00a0</td>\n                  </tr><tr>\n                          <th>301</th><th>328</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setLocationContextCB), \"focus_out_event\");</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>302</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>303</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>304</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Textbox - Activity</span>\u00a0</td>\n                      </tr><tr>\n                        <th>305</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; activityContextTextbox = gtk_entry_new();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>306</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text (GTK_ENTRY (activityContextTextbox), \"\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>307</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request (activityContextTextbox, 30, 20);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>308</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_text), activityContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>309</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>310</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (activityContextTextbox), \"key_press_event\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>311</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setActivityContextCB), \"key_press_event\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>312</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>313</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (activityContextTextbox), \"focus_out_event\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>314</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setActivityContextCB), \"focus_out_event\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>315</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>316</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Textbox - Social Context</span>\u00a0</td>\n                      </tr><tr>\n                        <th>317</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; socialContextTextbox = gtk_entry_new();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>318</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_entry_set_text (GTK_ENTRY (socialContextTextbox), \"\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>319</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_set_size_request (socialContextTextbox, 30, 20);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>320</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(hbox_text), socialContextTextbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>321</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>322</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (socialContextTextbox), \"key_press_event\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>323</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setSocialContextCB), \"key_press_event\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>324</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>325</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; g_signal_connect (G_OBJECT (socialContextTextbox), \"focus_out_event\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>326</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (setSocialContextCB), \"focus_out_event\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>327</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>328</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(vbox), hbox_text, FALSE, FALSE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>329</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>330</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *nnRows[NUM_NN];</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>329</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>330</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>331</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Sort the training data&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>332</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; featureCollectionNNStruct *nn;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>333</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; feature *f = featureSense();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>334</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int size;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>335</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; featureFindNearestNeighbor(f,&amp;size,&amp;nn);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>336</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>337</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Pull out a unique list of locations</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>338</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; feature **locationList;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>339</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; locationList = (feature **)calloc(size,sizeof(feature *));</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>340</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>331</th><th>341</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int i;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>332</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; for(i=0;i&lt;NUM_NN;i++){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>333</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nnRows[i] = gtk_hbox_new(TRUE,2);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>334</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Add buttons</span>\u00a0</td>\n                      </tr><tr>\n                        <th>335</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *button = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>336</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>337</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; button = gtk_button_new();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>338</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(button), gtk_label_new(\"foo\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>339</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start (GTK_BOX (nnRows[i]), button, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>340</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show(button);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>341</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (button), \"clicked\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>342</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (fooCB), \"clicked\");</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>342</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int maxLocations= 0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>343</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; for(i = 0; (i&lt; size)&amp;&amp; (maxLocations&lt; NUM_NN); i++){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>344</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(featureGetIsStructured(nn[i].f)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>345</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int k;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>346</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int seenIt = 0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>347</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(k=0;(k&lt;maxLocations)&amp;&amp;(!seenIt);k++){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>348</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(strcmp(featureGetLocationContext(locationList[k]),featureGetLocationContext(nn[i].f))==0){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>349</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; seenIt = 1;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>350</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>351</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>352</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!seenIt){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>353</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; locationList[maxLocations] = nn[i].f;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>354</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: locationList: %s:\\n\",featureGetLocationContext(nn[i].f));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>355</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; maxLocations++;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>356</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>357</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>358</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>359</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>360</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //Put the locations in the window as buttons</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>361</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *locationButtons[NUM_NN];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>362</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>363</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; for(i=0;(i&lt;maxLocations);i++){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>364</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *box = gtk_hbox_new(FALSE,0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>365</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>366</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; locationButtons[i] = gtk_button_new();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>367</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>368</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Put the selection button in the column</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>369</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(locationButtons[i]), gtk_label_new(featureGetLocationContext(locationList[i])));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>370</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start (GTK_BOX (box), locationButtons[i], TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>371</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (locationButtons[i]), \"clicked\",</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>372</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (fooCB), locationList[i]);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>343</th><th>373</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>344</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; button = gtk_button_new();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>345</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(button), gtk_label_new(\"bar\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>346</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start (GTK_BOX (nnRows[i]), button, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>347</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show(button);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>348</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (button), \"clicked\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>349</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (fooCB), \"clicked\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>350</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>351</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; button = gtk_button_new();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>352</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(button), gtk_label_new(\"baz\"));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>353</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start (GTK_BOX (nnRows[i]), button, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>354</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show(button);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>355</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_signal_connect (G_OBJECT (button), \"clicked\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>356</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; G_CALLBACK (fooCB), \"clicked\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>357</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>358</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start(GTK_BOX(vbox), nnRows[i], FALSE, FALSE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>359</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>360</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>361</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(contextChooserWindow), vbox);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>374</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Put the delete button in the same row</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>375</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GtkWidget *button = gtk_button_new();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>376</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gchar *file_path;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>377</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file_path = g_build_filename(DATADIR, \"pixmaps\", \"gaim\",\"status\",\"default\",\"offline.png\", NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>378</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(button), gtk_image_new_from_file(file_path));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>379</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(file_path);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>380</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>381</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start (GTK_BOX (box), button, FALSE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>382</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>383</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_box_pack_start (GTK_BOX (vbox), box, FALSE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>384</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>385</th><td class=\"r\"><span>&nbsp; &nbsp; gtk_box_pack_start (GTK_BOX (mainBox), vbox, TRUE, TRUE, 0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>386</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>387</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_container_add(GTK_CONTAINER(contextChooserWindow), mainBox);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>362</th><th>388</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>363</th><th>389</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show_all(contextChooserWindow);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file4\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/141/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/presence.c\" title=\"Show the changeset 141 restricted to trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/presence.c\">trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/presence.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 138\">\n                    <a title=\"Show revision 138 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/presence.c?rev=138#L19\">\n                      r138</a>\n                  </th>\n                  <th title=\"Revision 141\">\n                    <a title=\"Show revision 141 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/gtk/plugins/nomatic/presence.c?rev=141#L19\">\n                      r141</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>19</th><th>19</th><td class=\"l\"><span>int soapCall()</span>\u00a0</td>\n                  </tr><tr>\n                          <th>20</th><th>20</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>21</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del></del>soap_init(&amp;soap);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>21</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>//</ins>soap_init(&amp;soap);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>22</th><th>22</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //struct _ns1__query query;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>23</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; struct _ns1__queryResponse response;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>24</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int error;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>25</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if((error = soap_call___ns1__query(&amp;soap,NULL,NULL,NULL,&amp;response)) == SOAP_OK){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>26</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: SOAP_OK\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>27</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>28</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(error);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>23</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //struct _ns1__queryResponse response;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>24</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //int error;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>25</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //if((error = soap_call___ns1__query(&amp;soap,NULL,NULL,NULL,&amp;response)) == SOAP_OK){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>26</th><td class=\"r\"><span>&nbsp;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nomaticDebugMisc(NULL,\"Nomatic: SOAP_OK\\n\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>27</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>28</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; //return(error);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>29</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: SOAP disabled\\n\");</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>30</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(-1);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>29</th><th>31</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>30</th><th>32</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=141\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=141\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 45434.0}