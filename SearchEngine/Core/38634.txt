{"text": "OEChem C Theory Manual Version 1 3 1 Previous 4 4 2 Use of the Up 4 4 Properties of Multi Conformer Next 5 Traversing the Atoms 4 4 3 Use of the conformers as first class objects Alternatively a programmer may wish to use the conformers as first class objects rather than via the state of the OEMCMolBase This allows one to have multiple conformation objects at once and to treat the OEMCMolBase as a container of single conformer molecules The example below shows the use of the conformers as first class objects Each conformer is represented by an OEConfBase which inherits from the OEMolBase object Thus each conformer can be treated as an independent molecule with respect to its coordinates as shown in the example code below include oechem h include iostream using namespace OEChem using namespace OESystem using namespace std float GetMaxX const OEMolBase mol OEIter OEAtomBase atom float xyz 3 float maxX f bool first true for atom mol GetAtoms atom atom mol GetCoords atom xyz if first maxX xyz first false else if xyz maxX maxX xyz return maxX int main int char argv OEIter OEMCMolBase mol OEIter OEConfBase conf oemolistream ims argv 1 std string maxconf float tmpx f maxX f for mol ims GetMCMolBases mol mol for conf mol GetConfs conf conf tmpx GetMaxX conf if tmpx maxX if maxconf empty cerr conf GetTitle has a larger value of x than maxconf endl maxconf conf GetTitle maxX tmpx return Download as text In the listing above the function GetMaxX returns the maximum x coordinate of a molecule The main routine loops over all of the conformers of each molecule and compares the maximum x coordinate to a running maximum of the x coordinate of every conformer If there is a new maximum the associated conformer is stored and the user is notified via cerr OEChem C Theory Manual Version 1 3 1 Previous 4 4 2 Use of the Up 4 4 Properties of Multi Conformer Next 5 Traversing the Atoms Documentation released on July 3 2 4 ", "_id": "http://www.ics.uci.edu/~dock/manuals/oechem/cplusprog/node41.html", "title": "4.4.3 use of the conformers as first-class objects", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<html>\n<head>\n<title>4.4.3 Use of the conformers as first-class objects</title>\n<META NAME=\"description\" CONTENT=\"4.4.3 Use of the conformers as first-class objects\">\n<META NAME=\"keywords\" CONTENT=\"cplusprog\">\n<META NAME=\"resource-type\" CONTENT=\"document\">\n<META NAME=\"distribution\" CONTENT=\"global\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\">\n<link rel=\"STYLESHEET\" href=\"cplusprog.css\">\n<link rel=\"first\" href=\"cplusprog.html\">\n<link rel=\"contents\" href=\"contents.html\" title=\"Contents\">\n\n<LINK REL=\"previous\" HREF=\"node40.html\">\n<LINK REL=\"up\" HREF=\"node38.html\">\n<LINK REL=\"next\" HREF=\"node42.html\">\n</head>\n<body>\n<DIV CLASS=\"navigation\">\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node40.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node38.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node42.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node40.html\">4.4.2 Use of the</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node38.html\">4.4 Properties of Multi-Conformer</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node42.html\">5. Traversing the Atoms,</A>\n<br><hr>\n</DIV>\n<!--End of Navigation Panel-->\n\n<H2><A NAME=\"SECTION007430000000000000000\">\n4.4.3 Use of the conformers as first-class objects</A>\n</H2>\n\n<P>\nAlternatively, a programmer may wish to use the conformers as first class\nobjects rather than via the state of the OEMCMolBase.  This allows one to\nhave multiple conformation objects at once and to treat the OEMCMolBase as\na container of single-conformer molecules.  The example below shows the use\nof the conformers as first class objects.  Each conformer is represented by\nan OEConfBase which inherits from the OEMolBase object.  Thus, each\nconformer can be treated as an independent molecule with respect to its\ncoordinates as shown in the example code below.\n\n<P>\n<dl><dd><pre class=\"verbatim\">#include \"oechem.h\"\n#include &lt;iostream&gt;\n\nusing namespace OEChem;\nusing namespace OESystem;\nusing namespace std;\n\nfloat GetMaxX(const OEMolBase &amp;mol)\n{\n  OEIter&lt;OEAtomBase&gt; atom;\n  float xyz[3];\n  float maxX = 0.0f;\n  bool first = true;\n  for(atom = mol.GetAtoms();atom;++atom)\n  {\n    mol.GetCoords(atom,xyz);\n    if(first)\n    {\n      maxX = xyz[0];\n      first = false;\n    }\n    else\n      if(xyz[0] &gt; maxX)\n        maxX = xyz[0];\n  }\n  return maxX;\n}\n\nint main(int, char ** argv)\n{\n  OEIter&lt;OEMCMolBase&gt; mol;\n  OEIter&lt;OEConfBase&gt; conf;\n\n  oemolistream ims(argv[1]);\n\n  std::string maxconf;\n  float tmpx = 0.0f, maxX = 0.0f;\n\n  for (mol=ims.GetMCMolBases(); mol; ++mol)\n  {\n    for(conf = mol-&gt;GetConfs(); conf; ++conf)\n    {\n      tmpx = GetMaxX(*conf);\n      if(tmpx &gt; maxX)\n      {\n        if(!maxconf.empty())\n        {\n          cerr &lt;&#60; conf-&gt;GetTitle() &lt;&#60; \" has a larger value of x than \" &lt;&#60;\n                  maxconf &lt;&#60; endl;\n        }\n        maxconf = conf-&gt;GetTitle();\n        maxX = tmpx;\n      }\n    }\n  }\n\n  return 0;\n}\n</pre>\n<div class=\"verbatiminput-footer\">\n<a href=\"ch5-4.txt\" type=\"text/plain\">Download as text.</a>\n</div>\n</dd></dl>\n\n<P>\nIn the listing above, the function GetMaxX returns the maximum x-coordinate\nof a molecule.  The main routine loops over all of the conformers of each\nmolecule and compares the maximum x-coordinate to a running maximum of the\nx-coordinate of every conformer.  If there is a new maximum, the associated\nconformer is stored and the user is notified via cerr.\n\n<P>\n\n<DIV CLASS=\"navigation\">\n<p><hr>\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node40.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node38.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node42.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node40.html\">4.4.2 Use of the</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node38.html\">4.4 Properties of Multi-Conformer</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node42.html\">5. Traversing the Atoms,</A>\n<hr>\n<span class=\"release-info\">Documentation released on July 30, 2004.</span>\n</DIV>\n<!--End of Navigation Panel-->\n\n</BODY>\n</HTML>\n", "id": 38634.0}