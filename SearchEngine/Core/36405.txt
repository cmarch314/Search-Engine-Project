{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 279 for trunk View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Mar 25 2 7 7 19 28 PM 8 years ago Author djp3Message Refactored out the reporting to Nick s SOAP server Sharon s server and IM services Location trunk Nomatic Gaim current client Files 4 edited presence c modified 3 diffs presence h modified 1 diff report c modified 6 diffs report h modified 1 diff Legend UnmodifiedAddedRemoved trunk Nomatic Gaim current client presence c r264 r279 1515 include networkHelper h 1616 17 Local headers 18 static void reportStateToResearchServer 1917 2 18 14214 143141 144 void presenceUpdateOnline 142 143 144 145void presenceUpdateOnlineToSharon 146 147char url NULL 148char parameters 1 24 149char parameters2 15 151 char xml TODO UPDATE PRESENCE 152 153char timeString 1 24 154time t tim time NULL 155 156 nomaticDebugMisc NULL Nomatic s Requested report to Sharon s server n FILE 157 if gaim prefs get bool NOMATIC PREFS REPORT TO SHARON 158 nomaticDebugMisc NULL Nomatic s tReport to Sharon s server active n FILE 159 16 strftime timeString 1 24 sizeof char A B m d Y H M S Z localtime tim 161 162 featureMakeURL parameters 1 24 presenceGet 163 164 parameters2 g strdup printf random d nickname s timestamp s s gaim prefs get int NOMATIC PREFS RANDOM gaim prefs get string NOMATIC PREFS NICKNAME timeString parameters 165 url g strdup printf http djp3 pc2 ics uci edu Nomatic Gaim simpleLogger pl data s char gaim base64 encode unsigned char parameters2 strlen parameters2 166 167 gaim util fetch url url TRUE NULL TRUE HTML status cb NULL 168 networkFetchURL url networkHTMLCB NULL 169 17 g free parameters2 171 g free url 172 173 nomaticDebugMisc NULL Nomatic s Making soapCall d n FILE reportSoapCall xml 174 else 175 nomaticDebugMisc NULL Nomatic s tReport to Sharon s server inactive n FILE 176 177 nomaticDebugMisc NULL Nomatic s Requested report to Sharon s server Done n FILE 178 179 18 181void presenceUpdateOnlineToIMServices 145182 146183GaimSavedStatus status NULL 184 147185 148186 char phrase presenceMakePhrase 154192 155193 free phrase 156 reportStateToResearchServer 157 158 159 16 161 static void reportStateToResearchServer 162 163 char url NULL 164 char parameters 1 24 165 char parameters2 166 167 char xml TODO UPDATE PRESENCE 168 169 char timeString 1 24 17 time t tim time NULL 171 172 nomaticDebugMisc NULL Nomatic s Requested report to research server n FILE 173 if gaim prefs get bool NOMATIC PREFS REPORT 174 nomaticDebugMisc NULL Nomatic s tReport to research server active n FILE 175 176 strftime timeString 1 24 sizeof char A B m d Y H M S Z localtime tim 177 178 featureMakeURL parameters 1 24 presenceGet 179 18 parameters2 g strdup printf random d nickname s timestamp s s gaim prefs get int NOMATIC PREFS RANDOM gaim prefs get string NOMATIC PREFS NICKNAME timeString parameters 181 url g strdup printf http djp3 pc2 ics uci edu Nomatic Gaim simpleLogger pl data s char gaim base64 encode unsigned char parameters2 strlen parameters2 182 183 gaim util fetch url url TRUE NULL TRUE HTML status cb NULL 184 networkFetchURL url networkHTMLCB NULL 185 186 g free parameters2 187 g free url 188 189 nomaticDebugMisc NULL Nomatic s Making soapCall d n FILE reportSoapCall xml 19 else 191 nomaticDebugMisc NULL Nomatic s tReport to research server inactive n FILE 192 193 194 195 196void presenceUpdateOnline 197 198 presenceUpdateOnlineToIMServices 199 presenceUpdateOnlineToSharon 2 trunk Nomatic Gaim current client presence h r263 r279 3131 3232void presenceUpdateOnline 33void presenceUpdateOnlineToSharon 3334 3435 endif PRESENCE H trunk Nomatic Gaim current client report c r267 r279 88 include myUtilities h 99 include nomatic h 1 include presence h 1 11 1112 include stdsoap2 h 2324 2425 25 bool reportingOkay 26 27 return gaim prefs get bool NOMATIC PREFS REPORT 26bool reportingToSOAPOkay 27 28 return gaim prefs get bool NOMATIC PREFS REPORT TO SOAP 2829 293 394 struct ns1 logEventResponse logEventResponse 4 41 41 nomaticDebugMisc NULL Nomatic s Attempting SOAP Report n FILE 42 if reportingOkay 43 nomaticDebugMisc NULL Nomatic s tSOAP Report Active n FILE 42 nomaticDebugMisc NULL Nomatic s Attempting SOAP Call n FILE 43 if reportingToSOAPOkay 44 nomaticDebugMisc NULL Nomatic s tSOAP Call Allowed n FILE 4445 logEvent input xmlData 4546 logEvent nomaticGaimID gaim prefs get int NOMATIC PREFS RANDOM 5152 nomaticDebugMisc NULL Nomatic s t tSOAP Response Not OK d s n FILE error logEventResponse return 5253 Turn off reporting if server dies 53 gaim prefs set bool NOMATIC PREFS REPORT FALSE 54 gaim prefs set bool NOMATIC PREFS REPORT TO SOAP FALSE 5455 nomaticDebugMisc NULL Nomatic s t t t Shutting down SOAP reporting due to dead server n FILE 5556 5657 5758 else 58 nomaticDebugMisc NULL Nomatic s tSOAP Report Inactive n FILE 59 nomaticDebugMisc NULL Nomatic s tSOAP Call Disallowed n FILE 596 6 61 return error 167168 168169 169 17 17 void reportSignedOn const char accountName 171171 214214 215215 216 void reportHeartbeat 217 218 char x 219 22 x reportCreateHeartbeatXMLMessage 216void reportHeartbeatToSoap char x 217 221218 reportSoapCall x 222 free x 223 219 22 221void reportHeartbeatToSharon char x 222 223 presenceUpdateOnlineToSharon 224 225 226 227bool reportHeartbeat void data 228 229static int interval 1 23 static int event 1 231bool ret FALSE 232 233 nomaticDebugMisc NULL Nomatic s Heartbeat Attempt n FILE 234 If some reporting is allowed animate hearbeat verify interval and set next timeout then report 235 if gaim prefs get bool NOMATIC PREFS REPORT TO SOAP gaim prefs get bool NOMATIC PREFS REPORT TO SHARON 236 237 nomaticDebugMisc NULL Nomatic s tHeartbeat Active n FILE 238 239 if nomaticHeartbeatImage 24 gtk widget show nomaticHeartbeatImage 241 242 243 Animate heart beat 244 nomaticGrayHeart NULL 245 g timeout add 2 nomaticColorHeart NULL 246 g timeout add 5 nomaticGrayHeart NULL 247 g timeout add 7 nomaticColorHeart NULL 248 249 Update interval 25 if interval gaim prefs get int NOMATIC PREFS HEARTBEAT INTERVAL 251 nomaticDebugMisc NULL Nomatic s Heartbeat Interval update n FILE 252 New Interval 253 interval gaim prefs get int NOMATIC PREFS HEARTBEAT INTERVAL 254 255 Kill old timeout 256 if event 1 257 g source remove event 258 259 26 create a new interval timer 261 event g timeout add interval 1 reportHeartbeat NULL 262 263 Allow this current interval to die 264 ret FALSE 265 266 else 267 ret TRUE 268 269 27 char x reportCreateHeartbeatXMLMessage 271 272 Send SOAP heartbeat call 273 reportHeartbeatToSoap x 274 275 Send Sharon s heartbeat call 276 reportHeartbeatToSharon x 277 free x 278 279 nomaticNetworkCheck 28 281 else 282 Kill the interval timer 283 ret FALSE 284 nomaticDebugMisc NULL Nomatic s tHeartbeat Inactive n FILE 285 286 if nomaticHeartbeatImage 287 gtk widget hide nomaticHeartbeatImage 288 289 29 291 nomaticDebugMisc NULL Nomatic s Heartbeat Attempt Done n FILE 292 293 return ret 294 trunk Nomatic Gaim current client report h r263 r279 55void reportSignedOff const char accountName 66void reportSignedOn const char accountName 7 void reportHeartbeat 7bool reportHeartbeat void data 88 99 endif REPORT H Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/279/trunk", "title": "\n      changeset 279 for trunk \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 279 for trunk \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=279\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=279\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/280/trunk\" title=\"Changeset 280 for trunk\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/278/trunk\" title=\"Changeset 278 for trunk\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/278/trunk\" title=\"Changeset 278 for trunk\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/280/trunk\" title=\"Changeset 280 for trunk\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/279\">279</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk?rev=279\">trunk</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Mar 25, 2007, 7:19:28 PM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2007-03-25T19%3A19%3A28-07%3A00&amp;precision=second\" title=\"See timeline at Mar 25, 2007, 7:19:28 PM\">8 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nRefactored out the reporting to Nick's SOAP server, 'Sharon's' server and IM services<br />\n</p>\n\n            \n            \n          </dd>\n          <dt class=\"property location\">Location:</dt>\n          <dd class=\"searchable\"><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client?rev=279\">trunk/Nomatic*Gaim/current/client</a></dd>\n        <dt class=\"property files\">\n          Files:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>4 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.c?rev=279\">\n              presence.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">3 diffs</a>)\n            </li><li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.h?rev=279\">\n              presence.h\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file1\">1 diff</a>)\n            </li><li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=279\">\n              report.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file2\">6 diffs</a>)\n            </li><li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.h?rev=279\">\n              report.h\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file3\">1 diff</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/279/trunk/Nomatic*Gaim/current/client/presence.c\" title=\"Show the changeset 279 restricted to trunk/Nomatic*Gaim/current/client/presence.c\">trunk/Nomatic*Gaim/current/client/presence.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 264\">\n                    <a title=\"Show revision 264 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.c?rev=264#L15\">\n                      r264</a>\n                  </th>\n                  <th title=\"Revision 279\">\n                    <a title=\"Show revision 279 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.c?rev=279#L15\">\n                      r279</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>15</th><th>15</th><td class=\"l\"><span>#include \"networkHelper.h\"</span>\u00a0</td>\n                  </tr><tr>\n                          <th>16</th><th>16</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"first\">\n                          <th>17</th><th>\u00a0</th><td class=\"l\"><del>//Local headers</del>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>18</th><th>\u00a0</th><td class=\"l\"><del>static void reportStateToResearchServer();</del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>19</th><th>17</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>20</th><th>18</th><td class=\"l\"><span>////////////////////////////////////////////////</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.c?rev=264#L142\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.c?rev=279#L140\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>142</th><th>140</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>143</th><th>141</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>144</th><th>\u00a0</th><td class=\"l\"><span>void presenceUpdateOnline()</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>142</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>143</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>144</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>145</th><td class=\"r\"><span>void presenceUpdateOnlineToSharon()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>146</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>147</th><td class=\"r\"><span>char *url = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>148</th><td class=\"r\"><span>char parameters[1024];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>149</th><td class=\"r\"><span>char *parameters2;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>150</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>151</th><td class=\"r\"><span>//char *xml=\"TODO:UPDATE PRESENCE\";</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>152</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>153</th><td class=\"r\"><span>char timeString[1024];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>154</th><td class=\"r\"><span>time_t tim = time(NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>155</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>156</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Requested report to Sharon's server\\n\",__FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>157</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(gaim_prefs_get_bool(NOMATIC_PREFS_REPORT_TO_SHARON)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>158</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tReport to Sharon's server active\\n\",__FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>159</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>160</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strftime(timeString,1024*sizeof(char),\"%A %B %m %d %Y %H %M %S %Z\",localtime(&amp;tim));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>161</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>162</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureMakeURL(parameters,1024,presenceGet());</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>163</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>164</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parameters2 = g_strdup_printf(\"random=%d&amp;nickname=%s&amp;timestamp=%s&amp;%s\",gaim_prefs_get_int(NOMATIC_PREFS_RANDOM),gaim_prefs_get_string(NOMATIC_PREFS_NICKNAME),timeString,parameters);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>165</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; url = g_strdup_printf(\"http://djp3-pc2.ics.uci.edu/Nomatic*Gaim/simpleLogger.pl?data=%s\",(char *)gaim_base64_encode((unsigned char *)parameters2,strlen(parameters2)));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>166</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>167</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //gaim_util_fetch_url(url, TRUE, NULL, TRUE, HTML_status_cb, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>168</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; networkFetchURL(url,networkHTMLCB,NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>169</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>170</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(parameters2);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>171</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(url);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>172</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>173</th><td class=\"r\"><span>&nbsp;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nomaticDebugMisc(NULL,\"Nomatic: %s:Making soapCall %d\\n\",__FILE__,reportSoapCall(xml));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>174</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }else{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>175</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tReport to Sharon's server inactive\\n\",__FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>176</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>177</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Requested report to Sharon's server Done\\n\",__FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>178</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>179</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>180</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>181</th><td class=\"r\"><span>void presenceUpdateOnlineToIMServices()</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>145</th><th>182</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr><tr>\n                          <th>146</th><th>183</th><td class=\"l\"><span>GaimSavedStatus *status = NULL;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>184</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>147</th><th>185</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>148</th><th>186</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char *phrase = presenceMakePhrase();</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.c?rev=264#L154\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.c?rev=279#L192\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>154</th><th>192</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr><tr>\n                          <th>155</th><th>193</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; free(phrase);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>156</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; reportStateToResearchServer();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>157</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>158</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>159</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>160</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>161</th><th>\u00a0</th><td class=\"l\"><span>static void reportStateToResearchServer()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>162</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>163</th><th>\u00a0</th><td class=\"l\"><span>char *url = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>164</th><th>\u00a0</th><td class=\"l\"><span>char parameters[1024];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>165</th><th>\u00a0</th><td class=\"l\"><span>char *parameters2;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>166</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>167</th><th>\u00a0</th><td class=\"l\"><span>//char *xml=\"TODO:UPDATE PRESENCE\";</span>\u00a0</td>\n                      </tr><tr>\n                        <th>168</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>169</th><th>\u00a0</th><td class=\"l\"><span>char timeString[1024];</span>\u00a0</td>\n                      </tr><tr>\n                        <th>170</th><th>\u00a0</th><td class=\"l\"><span>time_t tim = time(NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>171</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>172</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Requested report to research server\\n\",__FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>173</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(gaim_prefs_get_bool(NOMATIC_PREFS_REPORT)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>174</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tReport to research server active\\n\",__FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>175</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>176</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; strftime(timeString,1024*sizeof(char),\"%A %B %m %d %Y %H %M %S %Z\",localtime(&amp;tim));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>177</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>178</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; featureMakeURL(parameters,1024,presenceGet());</span>\u00a0</td>\n                      </tr><tr>\n                        <th>179</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>180</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parameters2 = g_strdup_printf(\"random=%d&amp;nickname=%s&amp;timestamp=%s&amp;%s\",gaim_prefs_get_int(NOMATIC_PREFS_RANDOM),gaim_prefs_get_string(NOMATIC_PREFS_NICKNAME),timeString,parameters);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>181</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; url = g_strdup_printf(\"http://djp3-pc2.ics.uci.edu/Nomatic*Gaim/simpleLogger.pl?data=%s\",(char *)gaim_base64_encode((unsigned char *)parameters2,strlen(parameters2)));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>182</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>183</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //gaim_util_fetch_url(url, TRUE, NULL, TRUE, HTML_status_cb, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>184</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; networkFetchURL(url,networkHTMLCB,NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>185</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>186</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(parameters2);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>187</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(url);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>188</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>189</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nomaticDebugMisc(NULL,\"Nomatic: %s:Making soapCall %d\\n\",__FILE__,reportSoapCall(xml));</span>\u00a0</td>\n                      </tr><tr>\n                        <th>190</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }else{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>191</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tReport to research server inactive\\n\",__FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>192</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>193</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>194</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>195</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>196</th><td class=\"r\"><span>void presenceUpdateOnline()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>197</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>198</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; presenceUpdateOnlineToIMServices();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>199</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; presenceUpdateOnlineToSharon();</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>200</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file1\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/279/trunk/Nomatic*Gaim/current/client/presence.h\" title=\"Show the changeset 279 restricted to trunk/Nomatic*Gaim/current/client/presence.h\">trunk/Nomatic*Gaim/current/client/presence.h</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 263\">\n                    <a title=\"Show revision 263 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.h?rev=263#L31\">\n                      r263</a>\n                  </th>\n                  <th title=\"Revision 279\">\n                    <a title=\"Show revision 279 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/presence.h?rev=279#L31\">\n                      r279</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>31</th><th>31</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>32</th><th>32</th><td class=\"l\"><span>void presenceUpdateOnline();</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>33</th><td class=\"r\"><ins>void presenceUpdateOnlineToSharon();</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>33</th><th>34</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>34</th><th>35</th><td class=\"l\"><span>#endif /*PRESENCE_H_*/</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file2\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/279/trunk/Nomatic*Gaim/current/client/report.c\" title=\"Show the changeset 279 restricted to trunk/Nomatic*Gaim/current/client/report.c\">trunk/Nomatic*Gaim/current/client/report.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 267\">\n                    <a title=\"Show revision 267 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=267#L8\">\n                      r267</a>\n                  </th>\n                  <th title=\"Revision 279\">\n                    <a title=\"Show revision 279 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=279#L8\">\n                      r279</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>8</th><th>8</th><td class=\"l\"><span>#include \"myUtilities.h\"</span>\u00a0</td>\n                  </tr><tr>\n                          <th>9</th><th>9</th><td class=\"l\"><span>#include \"nomatic.h\"</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>10</th><td class=\"r\"><ins>#include \"presence.h\"</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>10</th><th>11</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>11</th><th>12</th><td class=\"l\"><span>#include &lt;stdsoap2.h&gt;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=267#L23\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=279#L24\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>23</th><th>24</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>24</th><th>25</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>25</th><th>\u00a0</th><td class=\"l\"><span>bool reporting<del></del>Okay()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>26</th><th>\u00a0</th><td class=\"l\"><span>{<del></del></span>\u00a0</td>\n                      </tr><tr>\n                        <th>27</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(gaim_prefs_get_bool(NOMATIC_PREFS_REPORT<del></del>));</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>26</th><td class=\"r\"><span>bool reporting<ins>ToSOAP</ins>Okay()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>27</th><td class=\"r\"><span>{<ins></ins></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>28</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(gaim_prefs_get_bool(NOMATIC_PREFS_REPORT<ins>_TO_SOAP</ins>));</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>28</th><th>29</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>29</th><th>30</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=267#L39\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=279#L40\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>39</th><th>40</th><td class=\"l\"><span>struct ns1__logEventResponse logEventResponse;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>40</th><th>41</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>41</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Attempting SOAP <del>Report</del>\\n\", __FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>42</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(reporting<del></del>Okay()){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>43</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tSOAP <del>Report Active</del>\\n\", __FILE__);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>42</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Attempting SOAP <ins>Call</ins>\\n\", __FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>43</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(reporting<ins>ToSOAP</ins>Okay()){</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>44</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tSOAP <ins>Call Allowed</ins>\\n\", __FILE__);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>44</th><th>45</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; logEvent.input = xmlData;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>45</th><th>46</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; logEvent.nomaticGaimID = gaim_prefs_get_int(NOMATIC_PREFS_RANDOM);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=267#L51\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=279#L52\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>51</th><th>52</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\t\\tSOAP Response Not OK:%d:%s\\n\",__FILE__,error,logEventResponse.return_);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>52</th><th>53</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*Turn off reporting if server dies */</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>53</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_set_bool(NOMATIC_PREFS_REPORT<del></del>,FALSE);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>54</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_prefs_set_bool(NOMATIC_PREFS_REPORT<ins>_TO_SOAP</ins>,FALSE);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>54</th><th>55</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\t\\t\\t Shutting down SOAP reporting due to dead server\\n\",__FILE__);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>55</th><th>56</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>56</th><th>57</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>57</th><th>58</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>58</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tSOAP <del>Report Inactive</del>\\n\", __FILE__);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>59</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tSOAP <ins>Call Disallowed</ins>\\n\", __FILE__);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>59</th><th>60</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>60</th><th>61</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(error);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=267#L167\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=279#L168\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>167</th><th>168</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>168</th><th>169</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>169</th><th>\u00a0</th><td class=\"l\"><del></del>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>170</th><th>170</th><td class=\"l\"><span>void reportSignedOn(const char *accountName)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>171</th><th>171</th><td class=\"l\"><span>{</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=267#L214\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.c?rev=279#L214\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>214</th><th>214</th><td class=\"l\"><span>}</span>\u00a0</td>\n                  </tr><tr>\n                          <th>215</th><th>215</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>216</th><th>\u00a0</th><td class=\"l\"><span>void reportHeartbeat()</span>\u00a0</td>\n                      </tr><tr>\n                        <th>217</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>218</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char *x;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>219</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>220</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; x = reportCreateHeartbeatXMLMessage();</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>216</th><td class=\"r\"><span>void reportHeartbeatToSoap(char *x)</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>217</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>221</th><th>218</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; reportSoapCall(x);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>222</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; free(x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>223</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>219</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>220</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>221</th><td class=\"r\"><span>void reportHeartbeatToSharon(char *x)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>222</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>223</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; presenceUpdateOnlineToSharon();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>224</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>225</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>226</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>227</th><td class=\"r\"><span>bool reportHeartbeat(void *data)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>228</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>229</th><td class=\"r\"><span>static int interval = -1;&nbsp; &nbsp; &nbsp; &nbsp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>230</th><td class=\"r\"><span>static int event = -1;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>231</th><td class=\"r\"><span>bool ret = FALSE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>232</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>233</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Heartbeat Attempt\\n\", __FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>234</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* If some reporting is allowed, animate hearbeat, verify interval and set next timeout, then report */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>235</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if(gaim_prefs_get_bool(NOMATIC_PREFS_REPORT_TO_SOAP)||(gaim_prefs_get_bool(NOMATIC_PREFS_REPORT_TO_SHARON))){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>236</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>237</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tHeartbeat Active\\n\", __FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>238</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>239</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(nomaticHeartbeatImage){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>240</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_show(nomaticHeartbeatImage);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>241</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>242</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>243</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Animate heart beat */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>244</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticGrayHeart(NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>245</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_timeout_add(200,nomaticColorHeart,NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>246</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_timeout_add(500,nomaticGrayHeart,NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>247</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_timeout_add(700,nomaticColorHeart,NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>248</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>249</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Update interval */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>250</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(interval != gaim_prefs_get_int(NOMATIC_PREFS_HEARTBEAT_INTERVAL)){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>251</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Heartbeat Interval update\\n\", __FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>252</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* New Interval */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>253</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; interval = gaim_prefs_get_int(NOMATIC_PREFS_HEARTBEAT_INTERVAL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>254</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>255</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Kill old timeout */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>256</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(event != -1){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>257</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_source_remove(event);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>258</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>259</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>260</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* create a new interval timer */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>261</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event = g_timeout_add(interval*1000,reportHeartbeat,NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>262</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>263</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Allow this current interval to die */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>264</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = FALSE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>265</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>266</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>267</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = TRUE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>268</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>269</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>270</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *x = reportCreateHeartbeatXMLMessage();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>271</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>272</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Send SOAP heartbeat call */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>273</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reportHeartbeatToSoap(x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>274</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>275</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Send Sharon's heartbeat call */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>276</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reportHeartbeatToSharon(x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>277</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(x);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>278</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>279</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticNetworkCheck();</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>280</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>281</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>282</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Kill the interval timer */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>283</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret = FALSE;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>284</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: \\tHeartbeat Inactive\\n\", __FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>285</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>286</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(nomaticHeartbeatImage){</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>287</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gtk_widget_hide(nomaticHeartbeatImage);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>288</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>289</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>290</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>291</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; nomaticDebugMisc(NULL,\"Nomatic: %s: Heartbeat Attempt Done\\n\", __FILE__);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>292</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>293</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return(ret);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>294</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr>\n            </tbody>\n        </table>\n      </li>\n      <li class=\"entry\">\n        <h2 id=\"file3\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/279/trunk/Nomatic*Gaim/current/client/report.h\" title=\"Show the changeset 279 restricted to trunk/Nomatic*Gaim/current/client/report.h\">trunk/Nomatic*Gaim/current/client/report.h</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 263\">\n                    <a title=\"Show revision 263 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.h?rev=263#L5\">\n                      r263</a>\n                  </th>\n                  <th title=\"Revision 279\">\n                    <a title=\"Show revision 279 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/trunk/Nomatic*Gaim/current/client/report.h?rev=279#L5\">\n                      r279</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>5</th><th>5</th><td class=\"l\"><span>void reportSignedOff(const char *accountName);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>6</th><th>6</th><td class=\"l\"><span>void reportSignedOn(const char *accountName);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>7</th><th>\u00a0</th><td class=\"l\"><span><del>void reportHeartbeat(</del>);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>7</th><td class=\"r\"><span><ins>bool reportHeartbeat(void *data</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>8</th><th>8</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>9</th><th>9</th><td class=\"l\"><span>#endif /*REPORT_H_*/</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=279\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=279\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 36405.0}