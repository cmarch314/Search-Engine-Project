{"text": "Graph Editor Exercise After learning the basics of using the timeline and keyframing in Maya the next step is to learn how to spline Splining is basically modifying the way in which keyframes transition between each other Maya s primary splining tool is the Graph Editor Before moving on download and open ball animation ma It contains the same ball from the Simple Animation Exercise however with a set of basic mid air and ground keyframes The goal of this exercise is to use the Graph Editor on these existing keys to produce a smooth bouncing ball animation Navigating the Graph Editor To access the Graph Editor go to Window Animation Editors Graph Editor Now select the ball to bring up its information The Graph Editor should look something like this If not click on or use the f key As the editor s name implies the main window displays the ball s keyframe information in the form of a graph The x axis corresponds to frames and the y axis corresponds to attribute values The red vertical bar represents the current frame similar to the time slider in the timeline The black dots represent attribute keyframes and the lines connecting them also known as animation curves define how the keys interpolate Graph Editor navigation works exactly like camera navigation Hold down Alt and drag the mouse while using either the center mouse button to pan or the right mouse button to zoom Also as with the camera rolling the scroll wheel will zoom You can select attribute keys by clicking on them or using marquee selection and delete them using Delete Just like vertices edges and polygons keys also have a helpful pre selection option It is disabled by default but can be enabled by going to Select Pre Select Highlight As you may have done previously clicking on will frame the window around all of the currently displayed animation curves If no keys are selected in the graph you can also hit f to do this If there are keys selected f will frame the selected keys frames the window based on the timeline s range and centers the existing framing on the current time To move selected keys hit w to choose the move tool then middle click and drag You can also hold down Shift before moving to lock the move either horizontally or vertically allowing you to edit only the key s frame or edit only its attribute value To scale selected keys hit r to choose the scale tool then middle click drag in the direction you want to scale Note that the keys will scale relative to where the mouse pointer was when the scale operation was initiated Scaling can be useful for quickly changing the extremity of an animation such as altering how high a ball bounces The animation curves are colored based on the attribute list to the left for quicker identification In general red identifies x based attributes green identifies y based attributes blue identifies z based attributes and white is used for miscellaneous single attributes such as Visibility By default the graph displays all of a selected object s curves To isolate a single curve click on one of the attributes in the list To figure out which attribute a given curve belongs to select at least one of its keys and a small box will appear next to the appropriate attribute in the list Tangents Tangents are the core subject of splining They dictate the shape of animation curves and thus how keyframes transition between each other Each keyframe has an in tangent and an out tangent and these can be both determined by preset tangent types or edited manually in the Graph Editor Stepped Mode Currently the tangents are set to stepped mode and cannot be edited conventionally To change this we will convert them to linear mode another preset tangent type First isolate and frame the Translate Y curve When changing tangent types the keys of all displayed animation curves will receive tangent changes However if there are keys selected only those will have their tangents changed For now we want to affect the entire curve so make sure no key is selected Now click the button The graph should look something like this Linear Mode mouse over to see tangents To view the tangents simply select the keys You can also make the tangents always visible by going to View Tangents Always Unfortunately they can be a bit hard to see against the Graph Editor s default background To remedy this in Maya s main menu set navigate to Window Settings Preferences Color Settings In the General tab click on Animation Editors and adjust the color bar for Graph Editor Background as needed Each tangent is represented by two handles In linear mode the handles are aligned such that keyframe values transition linearly from one to the other To see the effect this has on the ball s animation go ahead and play it back in Maya Notice that right now the ball is moving up and down at a constant speed While this has its uses it is not optimal for our bouncing ball It would be better if the curves were more parabolic so the ball slows down as it reaches the peak of its bounces then gradually speeds back up again as it falls To achieve a more parabolic curve click the button to set the tangents to the more commonly used spline mode Spline Mode mouse over to see tangents Spline mode approximates a smooth animation curve aligning the handles accordingly Play back the ball s animation again to get a sense of how this differs from linear mode While splined tangents work well most of the time they can also have some potentially undesired side effects The most common is that Maya will overshoot attribute values in order to make a smooth curve In this example the lowest key values represent the bouncing ball hitting the ground The spline causes the ball to go through the ground an effect most noticeable after the second keyframe A quick way to fix the curve overshooting in this case is to flatten the tangents Click the button The curve is still smooth but all tangents are forced to horizontally align Flattened mouse over to see tangents This is getting closer to what we want but the ball needs to speed up as it approaches the ground and carry that same speed immediately after it bounces Basically the tangents of each key where the ball touches the ground need to form a V shape For this you will have to manually edit the tangents To change the direction of a tangent first select a single handle by clicking on it or using marquee select it will probably be easier to just use marquee select hit w for the move tool and then middle click drag to rotate the tangent By default the tangent handles are unified which means that when you move one the other will automatically align with it Unified tangents are usually what you want but they will not help in forming a V shape To break the tangents de unify them click on the button You can now edit each handle independently Note that on broken tangents one handle will be red and the other blue To reunify broken tangents use the button The tangents will move as one again but will keep the same shape they had when they were broken You can straighten out a particular set of tangents by selecting their key and clicking the spline button again For now go ahead and give all the bouncing ball s low points V shaped tangents So far you have been able to change the direction of tangent handles but not their size To modify their size you must first go to Curves Weighted Tangents then click on to free tangent weights The handles will now be open squares instead of solid ones indicating that you can use the move tool to edit their size in addition to their direction Stretch out the tangent handles of the bouncing ball s high points This will result in the ball having slightly longer air time exaggerating the effect of gravity in overtaking the ball When finished you can re lock the tangent weights by clicking the button Your final graph should look something like this mouse over to see tangents Though you have done all you need to for this exercise if this were your own bouncing ball animation this would just be a first pass You would want to preview your animation by playblasting go back to the timeline and add keys where necessary come back to the Graph Editor and tweak the tangents and repeat the process until your motion was sufficiently refined Back to Exercises", "_id": "http://www.ics.uci.edu/~dramanan/teaching/ics162_fall12/exercises/graph_editor_exercise.html", "title": "graph editor exercise", "html": "<html>\r\n<head>\r\n\t<title>Graph Editor Exercise</title>\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"../style.css\" />\r\n\t<style type=\"text/css\">\r\n\t<!--\r\n\r\n\t#spline_tangents\r\n\t{\r\n\t\tdisplay: block;\r\n\t\twidth: 470px;\r\n\t\theight: 315px;\r\n\t\ttext-decoration: none;\r\n\t\tbackground: url(\"images/graph_editor/graph_tangents_spline.png\");\r\n\t}\r\n\t#spline_tangents:hover\r\n\t{\r\n\t\tbackground-position: 0 -315px;\r\n\t}\r\n\r\n\t#flat_tangents\r\n\t{\r\n\t\tdisplay: block;\r\n\t\twidth: 470px;\r\n\t\theight: 315px;\r\n\t\ttext-decoration: none;\r\n\t\tbackground: url(\"images/graph_editor/graph_tangents_flat.png\");\r\n\t}\r\n\t#flat_tangents:hover\r\n\t{\r\n\t\tbackground-position: 0 -315px;\r\n\t}\r\n\r\n\t#linear_tangents\r\n\t{\r\n\t\tdisplay: block;\r\n\t\twidth: 470px;\r\n\t\theight: 315px;\r\n\t\ttext-decoration: none;\r\n\t\tbackground: url(\"images/graph_editor/graph_tangents_linear.png\");\r\n\t}\r\n\t#linear_tangents:hover\r\n\t{\r\n\t\tbackground-position: 0 -315px;\r\n\t}\r\n\r\n\t#final_tangents\r\n\t{\r\n\t\tdisplay: block;\r\n\t\twidth: 470px;\r\n\t\theight: 315px;\r\n\t\ttext-decoration: none;\r\n\t\tbackground: url(\"images/graph_editor/bouncing_ball_final_tangents.png\");\r\n\t}\r\n\t#final_tangents:hover\r\n\t{\r\n\t\tbackground-position: 0 -315px;\r\n\t}\r\n\r\n\t-->\r\n\t</style>\r\n</head>\r\n\r\n<body>\r\n<div class=\"bodyDiv\">\r\n\r\n<center><h1>Graph Editor Exercise</h1></center>\r\n\r\n<p>\r\nAfter learning the basics of using the timeline and keyframing in Maya, the next step is to learn how to \"spline\".\r\nSplining is basically modifying the way in which keyframes transition between each other.  Maya's primary splining tool\r\nis the Graph Editor.\r\n</p>\r\n\r\n<p>\r\nBefore moving on, download and open <a href=\"../maya_files/ball_animation.ma\">ball_animation.ma</a>.\r\nIt contains the same ball from the Simple Animation Exercise, however with a set of basic mid-air and ground keyframes.\r\nThe goal of this exercise is to use the Graph Editor on these existing keys to produce a smooth bouncing ball animation.\r\n</p>\r\n\r\n<h2>Navigating the Graph Editor</h2>\r\n\r\n<p>\r\nTo access the Graph Editor, go to <b>Window &rarr; Animation Editors &rarr; Graph Editor</b>.  Now select the ball to\r\nbring up its information.  The Graph Editor should look something like this:\r\n\r\n<center><img src=\"images/graph_editor/graph_editor.png\"></center>\r\n\r\n<p>\r\nIf not, click on <img src=\"images/graph_editor/frame_all.png\" width=\"18\" height=\"18\"> or use the <b>f</b> key.\r\nAs the editor's name implies, the main window displays the ball's keyframe information in the form of a graph.\r\nThe x-axis corresponds to frames and the y-axis corresponds to attribute values.\r\nThe  red vertical bar represents the current frame, similar to the time slider in the timeline.\r\nThe black dots represent attribute keyframes and the lines connecting them, also known as \"animation curves\",\r\ndefine how the keys interpolate.</p>\r\n\r\n<p>\r\nGraph Editor navigation works exactly like camera navigation.  Hold down <b>Alt</b> and drag the mouse while using\r\neither the center mouse button to pan or the right mouse button to zoom.  Also as with the camera, rolling the scroll wheel will zoom.\r\nYou can select attribute keys by clicking on them or using marquee selection, and delete them using <b>Delete</b>. Just like vertices, edges, and polygons, keys also have a helpful pre-selection option. It is disabled by default, but can be enabled by going to <strong>Select &rarr; Pre-Select Highlight</strong>.</p>\r\n\r\n<p>\r\nAs you may have done previously, clicking on <img src=\"images/graph_editor/frame_all.png\" width=\"18\" height=\"18\"> will \r\nframe the window around all of the currently\r\ndisplayed animation curves.  If no keys are selected in the graph, you can also hit <b>f</b> to do this.  If there are\r\nkeys selected, <b>f</b> will frame the selected keys. <img src=\"images/graph_editor/frame_pb_range.png\" width=\"18\" height=\"18\">\r\nframes the window based on the timeline's range, and <img src=\"images/graph_editor/center_view_on_current_time.png\" width=\"18\" height=\"18\">\r\ncenters the existing framing on the current time.\r\n</p>\r\n\r\n<p>\r\nTo move selected keys, hit <b>w</b> to choose the move tool then middle click and drag.\r\nYou can also hold down <b>Shift</b> before moving to lock the move either horizontally or vertically, allowing you to\r\nedit only the key's frame or edit only its attribute value.  To scale selected keys, hit <b>r</b> to choose the scale tool\r\nthen middle click drag in the direction you want to scale. Note that the keys will scale relative to where the mouse pointer was when\r\nthe scale operation was initiated.  Scaling can be useful for quickly changing the extremity of an animation, such as altering\r\nhow high a ball bounces.\r\n</p>\r\n\r\n<p>\r\nThe animation curves are colored based on the attribute list to the left for quicker\r\nidentification. In general, red identifies <i>x</i> based attributes, green identifies <i>y</i> based attributes, blue identifies <i>z</i>\r\nbased attributes, and white is used for miscellaneous single attributes such as Visibility. By default the graph displays all of a selected\r\nobject's curves.  To isolate a single curve click on one of the attributes in the list. To figure out which attribute a given\r\ncurve belongs to, select at least one of its keys and a small box will appear next to the appropriate attribute in the list.\r\n</p>\r\n\r\n\r\n<h2>Tangents</h2>\r\n\r\n<p>\r\nTangents are the core subject of splining.\r\nThey dictate the shape of animation curves and thus how keyframes transition between each other.\r\nEach keyframe has an in-tangent and an out-tangent, and these can be both determined by preset tangent types\r\nor edited manually in the Graph Editor.\r\n</p>\r\n\r\n<center><img src=\"images/graph_editor/graph_tangents_stepped.png\">\r\n<br><i>Stepped Mode</i>\r\n</center>\r\n\r\n<p>\r\nCurrently the tangents are set to \"stepped\" mode and cannot be edited conventionally.\r\nTo change this we will convert them to \"linear\" mode, another preset tangent type.  First isolate and frame\r\nthe <i>Translate Y</i> curve. When changing tangent types, the keys of all displayed animation curves will\r\nreceive tangent changes.  However, if there are keys selected only those will have their tangents changed.\r\nFor now we want to affect the entire curve so make sure no key is selected. Now click the \r\n<img src=\"images/graph_editor/tangents_linear.png\" width=\"18\" height=\"18\"> button.  The graph should look something like this:\r\n\r\n<center><a id=\"linear_tangents\" href=\"graph_editor_exercise.html\"></a>\r\n<i>Linear Mode (mouse over to see tangents)</i>\r\n</center>\r\n\r\n<p>\r\nTo view the tangents simply select the keys.  You can also make the tangents always visible by going to <b>View &rarr; \r\nTangents &rarr; Always</b>. Unfortunately they can be a bit hard to see against the Graph Editor's default background. To remedy this, in Maya's main menu set navigate to <strong>Window &rarr; Settings/Preferences &rarr; Color Settings</strong>. In the General tab, click on Animation Editors and adjust the color bar for &quot;Graph Editor Background&quot; as needed.</p>\r\n<p>Each tangent is represented by two handles.  In linear mode, the handles are aligned such that\r\n  keyframe values transition linearly from one to the other.  To see the effect this has on the ball's animation, go ahead\r\n  and play it back in Maya.</p>\r\n<p>\r\nNotice that right now the ball is moving up and down at a constant speed.  While this has its uses, it is not optimal for \r\nour bouncing ball.  It would be better if the curves were more parabolic, so the ball slows down as it reaches the peak of\r\nits bounces, then gradually speeds back up again as it falls.  To achieve a more parabolic curve,\r\nclick the <img src=\"images/graph_editor/tangents_spline.png\" width=\"18\" height=\"18\">  \r\nbutton to set the tangents to the more commonly used \"spline\" mode:\r\n</p>\r\n\r\n<center><a id=\"spline_tangents\" href=\"graph_editor_exercise.html\"></a>\r\n<i>Spline Mode (mouse over to see tangents)</i>\r\n</center>\r\n\r\n<p>\r\nSpline mode approximates a smooth animation curve, aligning the handles accordingly.\r\nPlay back the ball's animation again to get a sense of how this differs from linear mode.\r\n</p>\r\n\r\n<p>\r\nWhile splined tangents work well most of the time, they can also have some potentially undesired side effects.\r\nThe most common is that Maya will overshoot attribute values in order to \r\nmake a smooth curve.  In this example, the lowest key values represent the bouncing ball hitting the ground.  \r\nThe spline causes the ball to go through the ground - an effect most noticeable after the second keyframe.\r\n</p>\r\n\r\n<p>\r\nA quick way to fix the curve overshooting in this case is to \"flatten\" the tangents. Click the \r\n<img src=\"images/graph_editor/tangents_flat.png\" width=\"18\" height=\"18\"> button.  The curve is still smooth\r\nbut all tangents are forced to horizontally align:\r\n</p>\r\n\r\n<center><a id=\"flat_tangents\" href=\"graph_editor_exercise.html\"></a>\r\n<i>Flattened (mouse over to see tangents)</i>\r\n</center>\r\n\r\n<p>\r\nThis is getting closer to what we want, but the ball needs to speed up as it approaches the ground and carry that\r\nsame speed immediately after it bounces.  Basically, the tangents of each key where the ball touches the ground\r\nneed to form a V shape. For this you will have to manually edit the tangents.\r\n</p>\r\n\r\n<p>To change the direction of a tangent, first select a single handle by clicking on it or using marquee select (it will probably\r\nbe easier to just use marquee select), hit <b>w</b> for the move tool, and then middle click drag to rotate the tangent.\r\n\r\n<center>\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/tangent_move_before.png\">\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/arrow.png\">\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/tangent_move_after.png\">\r\n</center>\r\n\r\n<p>\r\nBy default the tangent handles are \"unified\", which means that when you move one the other will automatically align with it.\r\nUnified tangents are usually what you want, but they will not help in forming a V shape.  To break the tangents (de-unify them) click on\r\nthe <img src=\"images/graph_editor/tangents_break.png\" width=\"18\" height=\"18\"> button.  You can now edit each handle independently.\r\nNote that on broken tangents one handle will be red and the other blue.\r\n</p>\r\n\r\n<center>\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/tangent_break_before.png\">\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/arrow.png\">\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/tangent_break_after.png\">\r\n</center>\r\n\r\n<p>\r\nTo reunify broken tangents, use the <img src=\"images/graph_editor/tangents_unify.png\" width=\"18\" height=\"18\"> button.\r\nThe tangents will move as one again, but will keep the same shape they had when they were broken.  You can straighten out a particular\r\nset of tangents by selecting their key and clicking the spline button again.  For now, go ahead and give all the bouncing ball's \r\nlow points V shaped tangents.\r\n</p>\r\n\r\n<p>\r\nSo far you have been able to change the direction of tangent handles but not their size.  To modify their size, you must first go to \r\n<b>Curves &rarr; Weighted Tangents</b>, then click on <img src=\"images/graph_editor/tangents_weight_free.png\" width=\"18\" height=\"18\"> to free\r\ntangent weights.  The handles will now be open squares instead of solid ones, indicating that you can use the move tool to edit their\r\nsize in addition to their direction.\r\n</p>\r\n\r\n<center>\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/tangent_weights_before.png\">\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/arrow.png\">\r\n<img style=\"vertical-align: middle;\" src=\"images/graph_editor/tangent_weights_after.png\">\r\n</center>\r\n\r\n<p>\r\nStretch out the tangent handles of the bouncing ball's high points.  This will result in the ball having slightly\r\nlonger air time, exaggerating the effect of gravity in overtaking the ball.  When finished, you can re-lock\r\nthe tangent weights by clicking the\r\n<img src=\"images/graph_editor/tangents_weight_lock.png\" width=\"18\" height=\"18\"> button.\r\n</p>\r\n\r\n<p>\r\nYour final graph should look something like this:\r\n</p>\r\n\r\n<center><a id=\"final_tangents\" href=\"graph_editor_exercise.html\"></a>\r\n<i>(mouse over to see tangents)</i>\r\n</center>\r\n\r\n<p>\r\nThough you have done all you need to for this exercise, if this were your own bouncing ball animation\r\nthis would just be a first pass.  You would want to preview your animation by playblasting, <!-- see mini Playblasting tutorial -->\r\ngo back to the timeline and add keys where necessary, come back to the Graph Editor and tweak the tangents, and repeat the process\r\nuntil your motion was sufficiently refined.\r\n</p>\r\n\r\n<center><a class=\"large\" href=\"exercises.html\">Back to Exercises</a></center>\r\n\r\n<br/>\r\n<br/>\r\n<br/>\r\n<br/>\r\n<br/>\r\n<br/>\r\n<br/>\r\n\r\n</div>\r\n</body>\r\n</html>", "id": 26383.0}