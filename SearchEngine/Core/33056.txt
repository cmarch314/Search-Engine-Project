{"text": "View Javadoc 1 2 Created on Sep 2 2 4 3 4 5 package swirl workspace viz pie 6 7 import org apache batik dom AbstractNode 8 import org apache batik util SVGConstants 9 import org apache commons logging Log 1 import org apache commons logging LogFactory 11 import org w3c dom Document 12 import org w3c dom Element 13 import org w3c dom NamedNodeMap 14 15 import swirl workspace viz SharingLevel 16 17 18 DOCUMENT ME 19 2 author dingx 21 22 public class PublicLevel extends BaseLevel 23 24 25 cooresponding svg element 26 27 TODO 28 private Element delegate 29 3 TODO 31 private GuiPeer parent 32 33 TODO 34 private Log log LogFactory getLog this getClass 35 36 it s sharing level 37 38 TODO 39 private SharingLevel level 4 41 42 Creates a new PublicLevel object 43 44 param peer TODO 45 param doc TODO 46 param sharinglevel TODO 47 48 public PublicLevel GuiPeer peer Document doc SharingLevel sharinglevel 49 5 parent peer 51 level sharinglevel 52 delegate doc createElementNS PieWorkSpace svgNS path 53 54 double radi Util getRadium level getValue 55 NamedNodeMap map delegate getAttributes 56 if log isDebugEnabled 57 58 log debug before d 59 6 String d Util caculateDforClosePath radi 61 parent getParent getPeerNumber 62 1 63 String c grey 64 65 if level getValue 66 67 c parent getStringColor 68 69 7 71 if log isDebugEnabled 72 73 log debug d is d 74 75 delegate setAttributeNS null d d 76 delegate setAttributeNS null stroke lightgrey 77 delegate setAttributeNS null fill c 78 79 parent getUserGroup appendChild delegate 8 AbstractNode delegate removeEventListener SVGConstants SVG MOUSEUP EVENT TYPE 81 parent getParent getView getMouseEvent false 82 83 84 85 TODO 86 87 param peerNum TODO 88 89 public void adjustAngle double arcAngle 9 91 double radi Util getRadium level getValue 92 NamedNodeMap map delegate getAttributes 93 String d Util caculateDforClosePath radi arcAngle 94 95 map getNamedItem d setNodeValue d 96 97 This page was automatically generated by Maven", "_id": "http://drzaius.ics.uci.edu/~swirl/impromptu-0.20/xref/swirl/workspace/viz/pie/PublicLevel.html", "title": "publiclevel xref", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n<meta http-equiv=\"content-type\" content=\"text/html; charset=ISO-8859-1\" /><title>PublicLevel xref</title>\n<link type=\"text/css\" rel=\"stylesheet\" href=\"../../../../stylesheet.css\" />\n</head>\n<body>\n<div id=\"overview\"><a href=\"../../../../../apidocs/swirl/workspace/viz/pie/PublicLevel.html\">View Javadoc</a></div><pre>\n\n<a name=\"1\" href=\"#1\">1</a>   <em class=\"comment\">/*</em>\n<a name=\"2\" href=\"#2\">2</a>   <em class=\"comment\"> * Created on Sep 2, 2004</em>\n<a name=\"3\" href=\"#3\">3</a>   <em class=\"comment\"> *</em>\n<a name=\"4\" href=\"#4\">4</a>   <em class=\"comment\"> */</em>\n<a name=\"5\" href=\"#5\">5</a>   <strong>package</strong> <a href=\"../../../../swirl/workspace/viz/pie/package-summary.html\">swirl.workspace.viz.pie</a>;\n<a name=\"6\" href=\"#6\">6</a>   \n<a name=\"7\" href=\"#7\">7</a>   <strong>import</strong> org.apache.batik.dom.AbstractNode;\n<a name=\"8\" href=\"#8\">8</a>   <strong>import</strong> org.apache.batik.util.SVGConstants;\n<a name=\"9\" href=\"#9\">9</a>   <strong>import</strong> org.apache.commons.logging.Log;\n<a name=\"10\" href=\"#10\">10</a>  <strong>import</strong> org.apache.commons.logging.LogFactory;\n<a name=\"11\" href=\"#11\">11</a>  <strong>import</strong> org.w3c.dom.Document;\n<a name=\"12\" href=\"#12\">12</a>  <strong>import</strong> org.w3c.dom.Element;\n<a name=\"13\" href=\"#13\">13</a>  <strong>import</strong> org.w3c.dom.NamedNodeMap;\n<a name=\"14\" href=\"#14\">14</a>  \n<a name=\"15\" href=\"#15\">15</a>  <strong>import</strong> swirl.workspace.viz.SharingLevel;\n<a name=\"16\" href=\"#16\">16</a>  \n<a name=\"17\" href=\"#17\">17</a>  <em>/**<em>*</em></em>\n<a name=\"18\" href=\"#18\">18</a>  <em> * DOCUMENT ME!</em>\n<a name=\"19\" href=\"#19\">19</a>  <em> *</em>\n<a name=\"20\" href=\"#20\">20</a>  <em> * @author dingx</em>\n<a name=\"21\" href=\"#21\">21</a>  <em> */</em>\n<a name=\"22\" href=\"#22\">22</a>  <strong>public</strong> <strong>class</strong> <a href=\"../../../../swirl/workspace/viz/pie/PublicLevel.html\">PublicLevel</a> <em class=\"comment\">// extends BaseLevel</em>\n<a name=\"23\" href=\"#23\">23</a>  \n<a name=\"24\" href=\"#24\">24</a>  {\n<a name=\"25\" href=\"#25\">25</a>      <em class=\"comment\">//cooresponding svg element</em>\n<a name=\"26\" href=\"#26\">26</a>  \n<a name=\"27\" href=\"#27\">27</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"28\" href=\"#28\">28</a>      <strong>private</strong> Element delegate;\n<a name=\"29\" href=\"#29\">29</a>  \n<a name=\"30\" href=\"#30\">30</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"31\" href=\"#31\">31</a>      <strong>private</strong> <a href=\"../../../../swirl/workspace/viz/pie/GuiPeer.html\">GuiPeer</a> parent;\n<a name=\"32\" href=\"#32\">32</a>  \n<a name=\"33\" href=\"#33\">33</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"34\" href=\"#34\">34</a>      <strong>private</strong> Log log = LogFactory.getLog(<strong>this</strong>.getClass());\n<a name=\"35\" href=\"#35\">35</a>  \n<a name=\"36\" href=\"#36\">36</a>      <em class=\"comment\">//it's sharing level</em>\n<a name=\"37\" href=\"#37\">37</a>  \n<a name=\"38\" href=\"#38\">38</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"39\" href=\"#39\">39</a>      <strong>private</strong> <a href=\"../../../../swirl/workspace/viz/SharingLevel.html\">SharingLevel</a> level;\n<a name=\"40\" href=\"#40\">40</a>  \n<a name=\"41\" href=\"#41\">41</a>      <em>/**<em>*</em></em>\n<a name=\"42\" href=\"#42\">42</a>  <em>     * Creates a new PublicLevel object.</em>\n<a name=\"43\" href=\"#43\">43</a>  <em>     *</em>\n<a name=\"44\" href=\"#44\">44</a>  <em>     * @param peer TODO</em>\n<a name=\"45\" href=\"#45\">45</a>  <em>     * @param doc TODO</em>\n<a name=\"46\" href=\"#46\">46</a>  <em>     * @param sharinglevel TODO</em>\n<a name=\"47\" href=\"#47\">47</a>  <em>     */</em>\n<a name=\"48\" href=\"#48\">48</a>      <strong>public</strong> <a href=\"../../../../swirl/workspace/viz/pie/PublicLevel.html\">PublicLevel</a>(<a href=\"../../../../swirl/workspace/viz/pie/GuiPeer.html\">GuiPeer</a> peer, Document doc, <a href=\"../../../../swirl/workspace/viz/SharingLevel.html\">SharingLevel</a> sharinglevel)\n<a name=\"49\" href=\"#49\">49</a>      {\n<a name=\"50\" href=\"#50\">50</a>          parent = peer;\n<a name=\"51\" href=\"#51\">51</a>          level = sharinglevel;\n<a name=\"52\" href=\"#52\">52</a>          delegate = doc.createElementNS(PieWorkSpace.svgNS, <span class=\"string\">\"path\"</span>);\n<a name=\"53\" href=\"#53\">53</a>  \n<a name=\"54\" href=\"#54\">54</a>          <strong>double</strong> radi = Util.getRadium(level.getValue());\n<a name=\"55\" href=\"#55\">55</a>          NamedNodeMap map = delegate.getAttributes();\n<a name=\"56\" href=\"#56\">56</a>          <strong>if</strong>(log.isDebugEnabled())\n<a name=\"57\" href=\"#57\">57</a>          {\n<a name=\"58\" href=\"#58\">58</a>          \tlog.debug(<span class=\"string\">\"before d\"</span>);\n<a name=\"59\" href=\"#59\">59</a>          }\n<a name=\"60\" href=\"#60\">60</a>          String d = Util.caculateDforClosePath(radi,\n<a name=\"61\" href=\"#61\">61</a>                                                parent.getParent().getPeerNumber()\n<a name=\"62\" href=\"#62\">62</a>                                                + 1);\n<a name=\"63\" href=\"#63\">63</a>          String c = <span class=\"string\">\"grey\"</span>;\n<a name=\"64\" href=\"#64\">64</a>  \n<a name=\"65\" href=\"#65\">65</a>          <strong>if</strong>(level.getValue() == 0)\n<a name=\"66\" href=\"#66\">66</a>          {\n<a name=\"67\" href=\"#67\">67</a>              c = parent.getStringColor();\n<a name=\"68\" href=\"#68\">68</a>              \n<a name=\"69\" href=\"#69\">69</a>              \n<a name=\"70\" href=\"#70\">70</a>          }\n<a name=\"71\" href=\"#71\">71</a>          <strong>if</strong>(log.isDebugEnabled())\n<a name=\"72\" href=\"#72\">72</a>          {\n<a name=\"73\" href=\"#73\">73</a>          \tlog.debug(<span class=\"string\">\"d is \"</span> + d);\n<a name=\"74\" href=\"#74\">74</a>          }\n<a name=\"75\" href=\"#75\">75</a>          delegate.setAttributeNS(<strong>null</strong>, <span class=\"string\">\"d\"</span>, d);\n<a name=\"76\" href=\"#76\">76</a>          delegate.setAttributeNS(<strong>null</strong>, <span class=\"string\">\"stroke\"</span>, <span class=\"string\">\"lightgrey\"</span>);\n<a name=\"77\" href=\"#77\">77</a>          delegate.setAttributeNS(<strong>null</strong>, <span class=\"string\">\"fill\"</span>, c);\n<a name=\"78\" href=\"#78\">78</a>          \n<a name=\"79\" href=\"#79\">79</a>          parent.getUserGroup().appendChild(delegate);\n<a name=\"80\" href=\"#80\">80</a>          ((AbstractNode)delegate).removeEventListener(SVGConstants.SVG_MOUSEUP_EVENT_TYPE,\n<a name=\"81\" href=\"#81\">81</a>                  parent.getParent().getView().getMouseEvent(), false);\n<a name=\"82\" href=\"#82\">82</a>      }\n<a name=\"83\" href=\"#83\">83</a>  \n<a name=\"84\" href=\"#84\">84</a>      <em>/**<em>*</em></em>\n<a name=\"85\" href=\"#85\">85</a>  <em>     * TODO</em>\n<a name=\"86\" href=\"#86\">86</a>  <em>     *</em>\n<a name=\"87\" href=\"#87\">87</a>  <em>     * @param peerNum TODO</em>\n<a name=\"88\" href=\"#88\">88</a>  <em>     */</em>\n<a name=\"89\" href=\"#89\">89</a>      <strong>public</strong> <strong>void</strong> adjustAngle(<strong>double</strong> arcAngle)\n<a name=\"90\" href=\"#90\">90</a>      {\n<a name=\"91\" href=\"#91\">91</a>          <strong>double</strong> radi = Util.getRadium(level.getValue());\n<a name=\"92\" href=\"#92\">92</a>          NamedNodeMap map = delegate.getAttributes();\n<a name=\"93\" href=\"#93\">93</a>          String d = Util.caculateDforClosePath(radi, arcAngle);\n<a name=\"94\" href=\"#94\">94</a>  \n<a name=\"95\" href=\"#95\">95</a>          map.getNamedItem(<span class=\"string\">\"d\"</span>).setNodeValue(d);\n<a name=\"96\" href=\"#96\">96</a>      }\n<a name=\"97\" href=\"#97\">97</a>  }\n</pre>\n<hr/><div id=\"footer\">This page was automatically generated by <a href=\"http://maven.apache.org/\">Maven</a></div></body>\n</html>\n\n", "id": 33056.0}