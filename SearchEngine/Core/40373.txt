{"text": " Home Trees Indices Help Package CHEM Package Common Module Model Class ChemicalSearchModel hide private frames no frames Class ChemicalSearchModel Model object to build to define search criteria for chemicals For similarity searches should have OEBaseMol objects in the similarMols list Furthermore similarity search options should be set as FloatData on the molecules For example to set the alpha beta parameters for super vs sub structure searches do the following first or else default values will be assumed from Const import ALPHA BETA WEIGHT mol SetFloatData ALPHA 9 mol SetFloatData BETA 1 Rather than having multiple options for search by can smiles chemical id etc just build a list of discreteCriteria and have the user supply the name of the column to compare against and a list of values to expect Likewise rather than separate options for searching by logp num heavy atoms etc just build a list of rangeCriteria and have the user supply the name of the column and the boundary values to expect Instance Methods hide private init self addSimilarMol self mol alpha 1 beta 1 weight 1 Convenience function to specify similar molecule parameters addSimilarMolBySmiles self smiles alpha 1 beta 1 weight 1 Convenience function to specify molecule by SMILES setTextCriteria self textValue field Search by text criteria getTextCriteria self addDiscreteCriteria self column valueList Tell search to find rows where the named column has values in the provided value list popDiscreteCriteria self Remove the last discrete criteria specified and return the respective tuple iterDiscreteCriteria self Return iterator over discrete criteria tuples addRangeCriteria self column minValue maxValue Tell search to find rows where the named column has values the minValue and the maxValue iterRangeCriteria self Return iterator over range criteria tuples Method Details hide private addDiscreteCriteria self column valueList Tell search to find rows where the named column has values in the provided value list Note for extra safety the column name should include the table name as well like chemical can smiles not just can smiles in case the query joins to other tables with the same column name an ambiguous column reference will break the query popDiscreteCriteria self Remove the last discrete criteria specified and return the respective tuple If none exist return None addRangeCriteria self column minValue maxValue Tell search to find rows where the named column has values the minValue and the maxValue Note for extra safety the column name should include the table name as well like chemical molecular weight not just molecular weight Home Trees Indices Help Generated by Epydoc 3 beta1 on Thu Nov 8 17 49 28 2 7 http epydoc sourceforge net", "_id": "http://www.ics.uci.edu/~dock/CHEM_docs/CHEM.Common.Model.ChemicalSearchModel-class.html", "title": "chem.common.model.chemicalsearchmodel", "html": "<?xml version=\"1.0\" encoding=\"ascii\"?>\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n          \"DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n  <title>CHEM.Common.Model.ChemicalSearchModel</title>\n  <link rel=\"stylesheet\" href=\"epydoc.css\" type=\"text/css\" />\n  <script type=\"text/javascript\" src=\"epydoc.js\"></script>\n</head>\n\n<body bgcolor=\"white\" text=\"black\" link=\"blue\" vlink=\"#204080\"\n      alink=\"#204080\">\n<!-- ==================== NAVIGATION BAR ==================== -->\n<table class=\"navbar\" border=\"0\" width=\"100%\" cellpadding=\"0\"\n       bgcolor=\"#a0c0ff\" cellspacing=\"0\">\n  <tr valign=\"middle\">\n  <!-- Home link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"CHEM-module.html\">Home</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Tree link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"module-tree.html\">Trees</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Index link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"identifier-index.html\">Indices</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Help link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"help.html\">Help</a>&nbsp;&nbsp;&nbsp;</th>\n\n      <th class=\"navbar\" width=\"100%\"></th>\n  </tr>\n</table>\n<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n  <tr valign=\"top\">\n    <td width=\"100%\">\n      <span class=\"breadcrumbs\">\n        <a href=\"CHEM-module.html\">Package&nbsp;CHEM</a> ::\n        <a href=\"CHEM.Common-module.html\">Package&nbsp;Common</a> ::\n        <a href=\"CHEM.Common.Model-module.html\">Module&nbsp;Model</a> ::\n        Class&nbsp;ChemicalSearchModel\n      </span>\n    </td>\n    <td>\n      <table cellpadding=\"0\" cellspacing=\"0\">\n        <!-- hide/show private -->\n        <tr><td align=\"right\"><span class=\"options\">[<a href=\"javascript:void(0);\" class=\"privatelink\"\n    onclick=\"toggle_private();\">hide&nbsp;private</a>]</span></td></tr>\n        <tr><td align=\"right\"><span class=\"options\"\n            >[<a href=\"frames.html\" target=\"_top\">frames</a\n            >]&nbsp;|&nbsp;<a href=\"CHEM.Common.Model.ChemicalSearchModel-class.html\"\n            target=\"_top\">no&nbsp;frames</a>]</span></td></tr>\n      </table>\n    </td>\n  </tr>\n</table>\n<!-- ==================== CLASS DESCRIPTION ==================== -->\n<h1 class=\"epydoc\">Class ChemicalSearchModel</h1><br /><br />\n<p>Model object to build to define search criteria for chemicals.</p>\n  <p>For similarity searches, should have OEBaseMol objects in the \n  similarMols list. Furthermore, similarity search options should be set as\n  &quot;FloatData&quot; on the molecules.  For example, to set the alpha / \n  beta parameters for super vs. sub-structure searches, do the following \n  first, or else default values will be assumed:</p>\n  <p>from Const import ALPHA, BETA, WEIGHT; mol.SetFloatData(ALPHA, 0.9); \n  mol.SetFloatData(BETA,  0.1);</p>\n  Rather than having multiple options for search by can_smiles, \n  chemical_id, etc. just build a list of &quot;discreteCriteria&quot; and \n  have the user supply the name of the column to compare against and a list\n  of values to expect. Likewise, rather than separate options for searching\n  by logp, num_heavy_atoms, etc., just build a list of \n  &quot;rangeCriteria&quot; and have the user supply the name of the column\n  and the boundary values to expect.<br /><br />\n\n<!-- ==================== INSTANCE METHODS ==================== -->\n<a name=\"section-InstanceMethods\"></a>\n<table class=\"summary\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr bgcolor=\"#70b0f0\" class=\"table-header\">\n  <td colspan=\"2\" class=\"table-header\">\n    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n      <tr valign=\"top\">\n        <td align=\"left\"><span class=\"table-header\">Instance Methods</span></td>\n        <td align=\"right\" valign=\"top\"\n         ><span class=\"options\">[<a href=\"#section-InstanceMethods\"\n         class=\"privatelink\" onclick=\"toggle_private();\"\n         >hide private</a>]</span></td>\n      </tr>\n    </table>\n  </td>\n</tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"__init__\"></a><span class=\"summary-sig-name\">__init__</span>(<span class=\"summary-sig-arg\">self</span>)</span></td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"addSimilarMol\"></a><span class=\"summary-sig-name\">addSimilarMol</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">mol</span>,\n        <span class=\"summary-sig-arg\">alpha</span>=<span class=\"summary-sig-default\">1.0</span>,\n        <span class=\"summary-sig-arg\">beta</span>=<span class=\"summary-sig-default\">1.0</span>,\n        <span class=\"summary-sig-arg\">weight</span>=<span class=\"summary-sig-default\">1.0</span>)</span><br />\n      Convenience function to specify similar molecule parameters</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"addSimilarMolBySmiles\"></a><span class=\"summary-sig-name\">addSimilarMolBySmiles</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">smiles</span>,\n        <span class=\"summary-sig-arg\">alpha</span>=<span class=\"summary-sig-default\">1.0</span>,\n        <span class=\"summary-sig-arg\">beta</span>=<span class=\"summary-sig-default\">1.0</span>,\n        <span class=\"summary-sig-arg\">weight</span>=<span class=\"summary-sig-default\">1.0</span>)</span><br />\n      Convenience function to specify molecule by SMILES</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"setTextCriteria\"></a><span class=\"summary-sig-name\">setTextCriteria</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">textValue</span>,\n        <span class=\"summary-sig-arg\">field</span>)</span><br />\n      Search by text criteria.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"getTextCriteria\"></a><span class=\"summary-sig-name\">getTextCriteria</span>(<span class=\"summary-sig-arg\">self</span>)</span></td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.Common.Model.ChemicalSearchModel-class.html#addDiscreteCriteria\" class=\"summary-sig-name\">addDiscreteCriteria</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">column</span>,\n        <span class=\"summary-sig-arg\">valueList</span>)</span><br />\n      Tell search to find rows where the named column has values in the \n      provided value list.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.Common.Model.ChemicalSearchModel-class.html#popDiscreteCriteria\" class=\"summary-sig-name\">popDiscreteCriteria</a>(<span class=\"summary-sig-arg\">self</span>)</span><br />\n      Remove the last discrete criteria specified, and return the \n      respective tuple.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"iterDiscreteCriteria\"></a><span class=\"summary-sig-name\">iterDiscreteCriteria</span>(<span class=\"summary-sig-arg\">self</span>)</span><br />\n      Return iterator over discrete criteria tuples</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.Common.Model.ChemicalSearchModel-class.html#addRangeCriteria\" class=\"summary-sig-name\">addRangeCriteria</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">column</span>,\n        <span class=\"summary-sig-arg\">minValue</span>,\n        <span class=\"summary-sig-arg\">maxValue</span>)</span><br />\n      Tell search to find rows where the named column has values &gt;= \n      the minValue and &lt;= the maxValue.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"iterRangeCriteria\"></a><span class=\"summary-sig-name\">iterRangeCriteria</span>(<span class=\"summary-sig-arg\">self</span>)</span><br />\n      Return iterator over range criteria tuples</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n</table>\n<!-- ==================== METHOD DETAILS ==================== -->\n<a name=\"section-MethodDetails\"></a>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr bgcolor=\"#70b0f0\" class=\"table-header\">\n  <td colspan=\"2\" class=\"table-header\">\n    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n      <tr valign=\"top\">\n        <td align=\"left\"><span class=\"table-header\">Method Details</span></td>\n        <td align=\"right\" valign=\"top\"\n         ><span class=\"options\">[<a href=\"#section-MethodDetails\"\n         class=\"privatelink\" onclick=\"toggle_private();\"\n         >hide private</a>]</span></td>\n      </tr>\n    </table>\n  </td>\n</tr>\n</table>\n<a name=\"addDiscreteCriteria\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">addDiscreteCriteria</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">column</span>,\n        <span class=\"sig-arg\">valueList</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  <p>Tell search to find rows where the named column has values in the \n  provided value list.</p>\n  Note, for extra safety, the column name should include the table name \n  as well, like &quot;chemical.can_smiles&quot; not just \n  &quot;can_smiles&quot; in case the query joins to other tables with the \n  same column name, an ambiguous column reference will break the query.\n  <dl class=\"fields\">\n  </dl>\n</td></tr></table>\n</div>\n<a name=\"popDiscreteCriteria\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">popDiscreteCriteria</span>(<span class=\"sig-arg\">self</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  Remove the last discrete criteria specified, and return the respective\n  tuple.  If none exist, return None.\n  <dl class=\"fields\">\n  </dl>\n</td></tr></table>\n</div>\n<a name=\"addRangeCriteria\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">addRangeCriteria</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">column</span>,\n        <span class=\"sig-arg\">minValue</span>,\n        <span class=\"sig-arg\">maxValue</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  <p>Tell search to find rows where the named column has values &gt;= the \n  minValue and &lt;= the maxValue.</p>\n  Note, for extra safety, the column name should include the table name \n  as well, like &quot;chemical.molecular_weight&quot; not just \n  &quot;molecular_weight&quot;.\n  <dl class=\"fields\">\n  </dl>\n</td></tr></table>\n</div>\n<br />\n<!-- ==================== NAVIGATION BAR ==================== -->\n<table class=\"navbar\" border=\"0\" width=\"100%\" cellpadding=\"0\"\n       bgcolor=\"#a0c0ff\" cellspacing=\"0\">\n  <tr valign=\"middle\">\n  <!-- Home link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"CHEM-module.html\">Home</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Tree link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"module-tree.html\">Trees</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Index link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"identifier-index.html\">Indices</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Help link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"help.html\">Help</a>&nbsp;&nbsp;&nbsp;</th>\n\n      <th class=\"navbar\" width=\"100%\"></th>\n  </tr>\n</table>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%%\">\n  <tr>\n    <td align=\"left\" class=\"footer\">\n    Generated by Epydoc 3.0beta1 on Thu Nov  8 17:49:28 2007\n    </td>\n    <td align=\"right\" class=\"footer\">\n      <a href=\"http://epydoc.sourceforge.net\">http://epydoc.sourceforge.net</a>\n    </td>\n  </tr>\n</table>\n\n<script type=\"text/javascript\">\n  <!--\n  // Private objects are initially displayed (because if\n  // javascript is turned off then we want them to be\n  // visible); but by default, we want to hide them.  So hide\n  // them unless we have a cookie that says to show them.\n  checkCookie()\n  // -->\n</script>\n  \n</body>\n</html>\n", "id": 40373.0}