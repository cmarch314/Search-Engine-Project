{"text": "View Javadoc 1 package swirl workspace 2 3 import java io IOException 4 5 import javax servlet http HttpServletRequest 6 import javax servlet http HttpServletResponse 7 8 import org apache commons httpclient HttpMethod 9 import org apache commons httpclient methods PutMethod 1 import org apache commons logging Log 11 import org apache commons logging LogFactory 12 13 14 Sends a PUT method to the peer 15 16 author bpillet 17 18 public class PutCommand extends ProxyCommand 19 2 commons logging log that maps to this Command 21 private Log log LogFactory getLog this getClass 22 23 24 See super 25 26 param req see super 27 param resp see super 28 param host see super 29 param path see super 3 param peerManager see super 31 32 public PutCommand final HttpServletRequest req 33 final HttpServletResponse resp final String host 34 final String path final PeerManager peerManager 35 36 super req resp host path peerManager 37 38 39 4 Overrides super 41 42 param url the url to send the Put method to 43 44 return an initialized PutMethod 45 46 public HttpMethod createMethod final String url 47 48 PutMethod method new PutMethod url 49 5 set If header only if it exists 51 String ifHeader getRequest getHeader If 52 53 if log isDebugEnabled 54 55 log debug If ifHeader 56 57 58 if ifHeader null 59 6 method setRequestHeader If ifHeader 61 62 63 try 64 65 method setRequestBody getRequest getInputStream 66 method setRequestContentLength getRequest getContentLength 67 68 catch IOException ex 69 7 log error ex 71 72 73 return method 74 75 This page was automatically generated by Maven", "_id": "http://drzaius.ics.uci.edu/~swirl/impromptu-0.20/xref/swirl/workspace/PutCommand.html", "title": "putcommand xref", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n<meta http-equiv=\"content-type\" content=\"text/html; charset=ISO-8859-1\" /><title>PutCommand xref</title>\n<link type=\"text/css\" rel=\"stylesheet\" href=\"../../stylesheet.css\" />\n</head>\n<body>\n<div id=\"overview\"><a href=\"../../../apidocs/swirl/workspace/PutCommand.html\">View Javadoc</a></div><pre>\n\n<a name=\"1\" href=\"#1\">1</a>   <strong>package</strong> <a href=\"../../swirl/workspace/package-summary.html\">swirl.workspace</a>;\n<a name=\"2\" href=\"#2\">2</a>   \n<a name=\"3\" href=\"#3\">3</a>   <strong>import</strong> java.io.IOException;\n<a name=\"4\" href=\"#4\">4</a>   \n<a name=\"5\" href=\"#5\">5</a>   <strong>import</strong> javax.servlet.http.HttpServletRequest;\n<a name=\"6\" href=\"#6\">6</a>   <strong>import</strong> javax.servlet.http.HttpServletResponse;\n<a name=\"7\" href=\"#7\">7</a>   \n<a name=\"8\" href=\"#8\">8</a>   <strong>import</strong> org.apache.commons.httpclient.HttpMethod;\n<a name=\"9\" href=\"#9\">9</a>   <strong>import</strong> org.apache.commons.httpclient.methods.PutMethod;\n<a name=\"10\" href=\"#10\">10</a>  <strong>import</strong> org.apache.commons.logging.Log;\n<a name=\"11\" href=\"#11\">11</a>  <strong>import</strong> org.apache.commons.logging.LogFactory;\n<a name=\"12\" href=\"#12\">12</a>  \n<a name=\"13\" href=\"#13\">13</a>  <em>/**<em>*</em></em>\n<a name=\"14\" href=\"#14\">14</a>  <em> * Sends a PUT method to the peer</em>\n<a name=\"15\" href=\"#15\">15</a>  <em> *</em>\n<a name=\"16\" href=\"#16\">16</a>  <em> * @author bpillet</em>\n<a name=\"17\" href=\"#17\">17</a>  <em> */</em>\n<a name=\"18\" href=\"#18\">18</a>  <strong>public</strong> <strong>class</strong> <a href=\"../../swirl/workspace/PutCommand.html\">PutCommand</a> <strong>extends</strong> <a href=\"../../swirl/workspace/ProxyCommand.html\">ProxyCommand</a>\n<a name=\"19\" href=\"#19\">19</a>  {\n<a name=\"20\" href=\"#20\">20</a>      <em>/**<em>* commons-logging log that maps to this Command */</em></em>\n<a name=\"21\" href=\"#21\">21</a>      <strong>private</strong> Log log = LogFactory.getLog(<strong>this</strong>.getClass());\n<a name=\"22\" href=\"#22\">22</a>  \n<a name=\"23\" href=\"#23\">23</a>      <em>/**<em>*</em></em>\n<a name=\"24\" href=\"#24\">24</a>  <em>     * See super</em>\n<a name=\"25\" href=\"#25\">25</a>  <em>     *</em>\n<a name=\"26\" href=\"#26\">26</a>  <em>     * @param req see super</em>\n<a name=\"27\" href=\"#27\">27</a>  <em>     * @param resp see super</em>\n<a name=\"28\" href=\"#28\">28</a>  <em>     * @param host see super</em>\n<a name=\"29\" href=\"#29\">29</a>  <em>     * @param path see super</em>\n<a name=\"30\" href=\"#30\">30</a>  <em>     * @param peerManager see super</em>\n<a name=\"31\" href=\"#31\">31</a>  <em>     */</em>\n<a name=\"32\" href=\"#32\">32</a>      <strong>public</strong> <a href=\"../../swirl/workspace/PutCommand.html\">PutCommand</a>(<strong>final</strong> HttpServletRequest req,\n<a name=\"33\" href=\"#33\">33</a>                        <strong>final</strong> HttpServletResponse resp, <strong>final</strong> String host,\n<a name=\"34\" href=\"#34\">34</a>                        <strong>final</strong> String path, <strong>final</strong> <a href=\"../../swirl/workspace/PeerManager.html\">PeerManager</a> peerManager)\n<a name=\"35\" href=\"#35\">35</a>      {\n<a name=\"36\" href=\"#36\">36</a>          <strong>super</strong>(req, resp, host, path, peerManager);\n<a name=\"37\" href=\"#37\">37</a>      }\n<a name=\"38\" href=\"#38\">38</a>  \n<a name=\"39\" href=\"#39\">39</a>      <em>/**<em>*</em></em>\n<a name=\"40\" href=\"#40\">40</a>  <em>     * Overrides super</em>\n<a name=\"41\" href=\"#41\">41</a>  <em>     *</em>\n<a name=\"42\" href=\"#42\">42</a>  <em>     * @param url the url to send the Put method to</em>\n<a name=\"43\" href=\"#43\">43</a>  <em>     *</em>\n<a name=\"44\" href=\"#44\">44</a>  <em>     * @return an initialized PutMethod</em>\n<a name=\"45\" href=\"#45\">45</a>  <em>     */</em>\n<a name=\"46\" href=\"#46\">46</a>      <strong>public</strong> HttpMethod createMethod(<strong>final</strong> String url)\n<a name=\"47\" href=\"#47\">47</a>      {\n<a name=\"48\" href=\"#48\">48</a>          PutMethod method = <strong>new</strong> PutMethod(url);\n<a name=\"49\" href=\"#49\">49</a>  \n<a name=\"50\" href=\"#50\">50</a>          <em class=\"comment\">//set If header only if it exists</em>\n<a name=\"51\" href=\"#51\">51</a>          String ifHeader = getRequest().getHeader(<span class=\"string\">\"If\"</span>);\n<a name=\"52\" href=\"#52\">52</a>  \n<a name=\"53\" href=\"#53\">53</a>          <strong>if</strong>(log.isDebugEnabled())\n<a name=\"54\" href=\"#54\">54</a>          {\n<a name=\"55\" href=\"#55\">55</a>              log.debug(<span class=\"string\">\"If: \"</span> + ifHeader);\n<a name=\"56\" href=\"#56\">56</a>          }\n<a name=\"57\" href=\"#57\">57</a>  \n<a name=\"58\" href=\"#58\">58</a>          <strong>if</strong>(<strong>if</strong>Header != <strong>null</strong>)\n<a name=\"59\" href=\"#59\">59</a>          {\n<a name=\"60\" href=\"#60\">60</a>              method.setRequestHeader(<span class=\"string\">\"If\"</span>, ifHeader);\n<a name=\"61\" href=\"#61\">61</a>          }\n<a name=\"62\" href=\"#62\">62</a>  \n<a name=\"63\" href=\"#63\">63</a>          <strong>try</strong>\n<a name=\"64\" href=\"#64\">64</a>          {\n<a name=\"65\" href=\"#65\">65</a>              method.setRequestBody(getRequest().getInputStream());\n<a name=\"66\" href=\"#66\">66</a>              method.setRequestContentLength(getRequest().getContentLength());\n<a name=\"67\" href=\"#67\">67</a>          }\n<a name=\"68\" href=\"#68\">68</a>          <strong>catch</strong>(IOException ex)\n<a name=\"69\" href=\"#69\">69</a>          {\n<a name=\"70\" href=\"#70\">70</a>              log.error(ex);\n<a name=\"71\" href=\"#71\">71</a>          }\n<a name=\"72\" href=\"#72\">72</a>  \n<a name=\"73\" href=\"#73\">73</a>          <strong>return</strong> method;\n<a name=\"74\" href=\"#74\">74</a>      }\n<a name=\"75\" href=\"#75\">75</a>  }\n</pre>\n<hr/><div id=\"footer\">This page was automatically generated by <a href=\"http://maven.apache.org/\">Maven</a></div></body>\n</html>\n\n", "id": 33050.0}