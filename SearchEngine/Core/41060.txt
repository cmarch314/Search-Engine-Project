{"text": "Search LoginPreferencesHelp GuideAbout Trac WikiTimelineRoadmapBrowse SourceView TicketsSearch Context Navigation Previous ChangeNext Change Changeset 228 for vendor current libgaim plugins log reader c View differences inlineside by side Show lines around each change Show the changes in full context Ignore Blank lines Case changes White space changes Timestamp Mar 6 2 7 1 39 26 PM 8 years ago Author djp3Message Updating from gaim Repository File 1 edited vendor current libgaim plugins log reader c modified 11 diffs Legend UnmodifiedAddedRemoved vendor current libgaim plugins log reader c r65 r228 446446 447447 448 static time t msn logger parse timestamp xmlnode message 449 448 This function is really confusing It makes baby rlaager cry 449 In other news You lost a lot of blood but we found most of it 45 451static time t msn logger parse timestamp xmlnode message struct tm tm out 452 453 const char datetime 454 static struct tm tm2 455 time t stamp 45 456 const char date 451457 const char time 452 struct tm tm 458 int month 459 int day 46 int year 461 int hour 462 int min 463 int sec 453464 char am pm 454 455 g return val if fail message NULL time t 465 char str 466 static struct tm tm 467 time t t 468 time t diff 469 47 ifndef G DISABLE CHECKS 471 if message NULL 472 473 tm out NULL 474 475 Trigger the usual warning 476 g return val if fail message NULL time t 477 478 endif 479 48 datetime xmlnode get attrib message DateTime 481 if datetime datetime 482 483 gaim debug error MSN log timestamp parse 484 Attribute missing s n DateTime 485 return time t 486 487 488 stamp gaim str to time datetime TRUE tm2 NULL NULL 489 ifdef HAVE TM GMTOFF 49 tm2 tm gmtoff 491 endif 492 ifdef HAVE STRUCT TM TM ZONE 493 This is used in the place of a timezone abbreviation if the 494 offset is way off The user should never really see it but 495 it s here just in case The parens are to make it clear it s 496 not a real timezone 497 tm2 tm zone UTC 498 endif 499 4565 4575 1 date xmlnode get attrib message Date 458 if date date 459 gaim debug GAIM DEBUG ERROR MSN log timestamp parse 46 Attribute missing s n Date 461 return time t 5 2 if date date 5 3 5 4 gaim debug error MSN log timestamp parse 5 5 Attribute missing s n Date 5 6 tm out tm2 5 7 return stamp 4625 8 4635 9 46451 time xmlnode get attrib message Time 465 if time time 466 gaim debug GAIM DEBUG ERROR MSN log timestamp parse 467 Attribute missing s n Time 468 return time t 469 47 471 if sscanf date u u u tm tm mon tm tm mday tm tm year 3 472 gaim debug GAIM DEBUG ERROR MSN log timestamp parse 473 s parsing error n Date 474 475 if sscanf time u u u c tm tm hour tm tm min tm tm sec am pm 4 476 gaim debug GAIM DEBUG ERROR MSN log timestamp parse 477 s parsing error n Time 478 479 tm tm year 19 48 tm tm mon 1 481 if am pm P 482 tm tm hour 12 483 else if tm tm hour 12 484 12 AM hr 485 tm tm hour 486 487 Let the C library deal with daylight savings time 488 tm tm isdst 1 489 49 return mktime tm 491 492 511 if time time 512 513 gaim debug error MSN log timestamp parse 514 Attribute missing s n Time 515 tm out tm2 516 return stamp 517 518 519 if sscanf date u u u month day year 3 52 521 gaim debug error MSN log timestamp parse 522 s parsing error n Date 523 tm out tm2 524 return stamp 525 526 else 527 528 if month 12 529 53 int tmp day 531 day month 532 month tmp 533 534 535 536 if sscanf time u u u c hour min sec am pm 4 537 538 gaim debug error MSN log timestamp parse 539 s parsing error n Time 54 tm out tm2 541 return stamp 542 543 544 if am pm P 545 hour 12 546 else if hour 12 547 12 AM hr 548 hour 549 55 551 str g strdup printf 4i 2i 2iT 2i 2i 2i year month day hour min sec 552 t gaim str to time str TRUE tm NULL NULL 553 554 555 if stamp t 556 diff stamp t 557 else 558 diff t stamp 559 56 if diff 14 6 6 561 562 if day 12 563 564 Swap day month variables to see if it s a non US date 565 g free str 566 str g strdup printf 4i 2i 2iT 2i 2i 2i year month day hour min sec 567 t gaim str to time str TRUE tm NULL NULL 568 569 if stamp t 57 diff stamp t 571 else 572 diff t stamp 573 574 if diff 14 6 6 575 576 We got a time it s not impossible but 577 the diff is too large Display the UTC time 578 g free str 579 tm out tm2 58 return stamp 581 582 else 583 584 Legal time 585 Fall out 586 587 588 else 589 59 We got a time it s not impossible but 591 the diff is too large Display the UTC time 592 g free str 593 tm out tm2 594 return stamp 595 596 597 598 If we got here the time is legal with a reasonable offset 599 Let s find out if it s in our TZ 6 if gaim str to time str FALSE tm NULL NULL stamp 6 1 6 2 g free str 6 3 tm out tm 6 4 return stamp 6 5 6 6 g free str 6 7 6 8 The time isn t in our TZ but it s reasonable 6 9 ifdef HAVE STRUCT TM TM ZONE 61 tm tm zone 611 endif 612 tm out tm 613 return stamp 614 493615 494616static GList msn logger list GaimLogType type const char sn GaimAccount account 726848 Thus this is the start of a new conversation 727849 85 struct tm tm 851 time t stamp 728852 GaimLog log 729853 735859 data last log FALSE 73686 737 XXX Look into this later Should we pass in a struct tm 738 log gaim log new GAIM LOG IM sn account NULL msn logger parse timestamp message NULL 861 stamp msn logger parse timestamp message tm 862 863 log gaim log new GAIM LOG IM sn account NULL stamp tm 739864 log logger msn logger 74 865 log logger data data 793918 const char their name 794919 time t time unix 795 struct tm tm new 92 struct tm tm 796921 char timestamp 797922 char tmp 849974 if friendly name NULL 85 975 int friendly name length strlen friendly name 851 int alias length strlen log account alias 976 const char alias 977 int alias length 852978 GaimBuddy buddy gaim find buddy log account log name 853979 gboolean from name matches 856982 if buddy buddy alias 857983 their name buddy alias 984 985 if log account alias 986 987 alias log account alias 988 alias length strlen alias 989 99 else 991 992 alias 993 alias length 994 858995 859996 Try to guess which user is me 8641 1 from name matches gaim str has prefix from name friendly name 8651 2 isalnum from name friendly name length 866 gaim str has prefix from name log account alias 1 3 gaim str has prefix from name alias 8671 4 isalnum from name alias length 8681 5 87 1 7 gaim str has prefix to name friendly name 8711 8 isalnum to name friendly name length 872 gaim str has prefix to name log account alias 1 9 gaim str has prefix to name alias 8731 1 isalnum to name alias length 8741 11 9621 99 96311 964 time unix msn logger parse timestamp message 965 tm new localtime time unix 11 1 time unix msn logger parse timestamp message tm 96611 2 96711 3 timestamp g strdup printf font size 2 2u 2u 2u font 968 tm new tm hour tm new tm min tm new tm sec 11 4 tm tm hour tm tm min tm tm sec 96911 5 text g string append text timestamp 97 11 6 g free timestamp 97311 9 text g string append text b 974111 975 if name guessed NAME GUESS ME 976 text g string append text log account alias 1111 if name guessed NAME GUESS ME 1112 if log account alias 1113 text g string append text log account alias 1114 else 1115 text g string append text log account username 1116 9771117 else if name guessed NAME GUESS THEM 9781118 text g string append text their name 15 11641 line2 15 21642 if line2 1643 const char acct name 15 31644 line2 15 41645 line line2 1646 acct name gaim account get alias log account 1647 if acct name 1648 acct name gaim account get username log account 1649 15 5165 g string append printf formatted 15 61651 span style color 16569E 15 7 b s b span log account alias 1652 b s b span acct name 15 81653 15 91654 Note See TracChangeset for help on using the changeset viewer Download in other formats Unified Diff Zip Archive Powered by Trac 1 1 By Edgewall Software All content copyright 2 7 2 8 by LUCI http luci ics uci edu ", "_id": "http://djp3-pc2.ics.uci.edu/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/libgaim/plugins/log_reader.c", "title": "\n      changeset 228 for vendor/current/libgaim/plugins/log_reader.c \u2013 nomatic*im\n    ", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n  \n\n\n  <head>\n\t\t<title>\n      Changeset 228 for vendor/current/libgaim/plugins/log_reader.c \u2013 Nomatic*IM\n    </title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /><link rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search\" /><link rel=\"help\" href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\" /><link rel=\"alternate\" href=\"?format=diff&amp;new=228\" type=\"text/plain\" class=\"diff\" title=\"Unified Diff\" /><link rel=\"alternate\" href=\"?format=zip&amp;new=228\" type=\"application/zip\" class=\"zip\" title=\"Zip Archive\" /><link rel=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/libgaim/plugins/log_reader.c\" /><link rel=\"start\" href=\"/LUCICodeRepository/nomaticIM/wiki\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/changeset.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/LUCICodeRepository/nomaticIM/chrome/common/css/code.css\" type=\"text/css\" /><link rel=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/libgaim/plugins/log_reader.c\" title=\"Changeset 65 for vendor/current/libgaim/plugins/log_reader.c\" /><link rel=\"shortcut icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link rel=\"icon\" href=\"http://luci.ics.uci.edu/logo32by32.gif\" type=\"image/gif\" /><link type=\"application/opensearchdescription+xml\" rel=\"search\" href=\"/LUCICodeRepository/nomaticIM/search/opensearch\" title=\"Search Nomatic*IM\" /><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/jquery.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/babel.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/messages/en_US.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/trac.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/search.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" src=\"/LUCICodeRepository/nomaticIM/chrome/common/js/diff.js\"></script><script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\".trac-toggledeleted\").show().click(function() {\n                  $(this).siblings().find(\".trac-deleted\").toggle();\n                  return false;\n        }).click();\n        $(\"#content\").find(\"li.entry h2 a\").parent().addAnchor(_(\"Link to this diff\"));\n      });\n    </script>\n\t</head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://luci.ics.uci.edu/#code\"><img src=\"http://luci.ics.uci.edu/blog/archives/LUCIhorzTight.jpg\" alt=\"LUCI Code Repository\" /></a>\n      </div>\n      <form id=\"search\" action=\"/LUCICodeRepository/nomaticIM/search\" method=\"get\">\n        <div>\n          <label for=\"proj-search\">Search:</label>\n          <input type=\"text\" id=\"proj-search\" name=\"q\" size=\"18\" value=\"\" />\n          <input type=\"submit\" value=\"Search\" />\n        </div>\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/login\">Login</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/prefs\">Preferences</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/wiki/TracGuide\">Help/Guide</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/LUCICodeRepository/nomaticIM/wiki\">Wiki</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/timeline\">Timeline</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/roadmap\">Roadmap</a></li><li class=\"active\"><a href=\"/LUCICodeRepository/nomaticIM/browser\">Browse Source</a></li><li><a href=\"/LUCICodeRepository/nomaticIM/report\">View Tickets</a></li><li class=\"last\"><a href=\"/LUCICodeRepository/nomaticIM/search\">Search</a></li>\n    </ul>\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/LUCICodeRepository/nomaticIM/changeset/65/vendor/current/libgaim/plugins/log_reader.c\" title=\"Changeset 65 for vendor/current/libgaim/plugins/log_reader.c\">Previous Change</a></span></li><li class=\"last\"><span><a class=\"next\" href=\"/LUCICodeRepository/nomaticIM/changeset/274\" title=\"Changeset 274 for vendor/current/libgaim/plugins/log_reader.c\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"changeset\">\n      <div id=\"title\">\n            <h1>Changeset <a title=\"Show full changeset\" href=\"/LUCICodeRepository/nomaticIM/changeset/228\">228</a>\n              for <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228\">vendor/current/libgaim/plugins/log_reader.c</a></h1>\n      </div>\n      <form id=\"prefs\" action=\"\">\n        <div>\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n          <dt class=\"property time\">Timestamp:</dt>\n          <dd class=\"time\">\n             Mar 6, 2007, 10:39:26 PM\n             (<a class=\"timeline\" href=\"/LUCICodeRepository/nomaticIM/timeline?from=2007-03-06T22%3A39%3A26-08%3A00&amp;precision=second\" title=\"See timeline at Mar 6, 2007, 10:39:26 PM\">8 years</a> ago)\n          </dd>\n          <dt class=\"property author\">Author:</dt>\n          <dd class=\"author\">djp3</dd>\n          <dt class=\"property message\">Message:</dt>\n          <dd class=\"message searchable\">\n            \n            \n              <p>\nUpdating from gaim Repository<br />\n</p>\n\n            \n            \n          </dd>\n        <dt class=\"property files\">\n          File:\n        </dt>\n        <dd class=\"files\">\n          <div class=\"legend\" id=\"file-legend\">\n            <dl>\n              <dt class=\"mod\"></dt><dd>1 edited</dd>\n            </dl>\n          </div>\n          <br />\n          <ul>\n            <li>\n          <div class=\"mod\"> </div>\n            <a title=\"Show entry in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228\">\n              vendor/current/libgaim/plugins/log_reader.c\n            </a>\n          <span class=\"comment\">(modified)</span>\n              (<a title=\"Show differences\" href=\"#file0\">11 diffs</a>)\n            </li>\n          </ul>\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/LUCICodeRepository/nomaticIM/changeset/228/vendor/current/libgaim/plugins/log_reader.c\" title=\"Show the changeset 228 restricted to vendor/current/libgaim/plugins/log_reader.c\">vendor/current/libgaim/plugins/log_reader.c</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Revision 65\">\n                    <a title=\"Show revision 65 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L446\">\n                      r65</a>\n                  </th>\n                  <th title=\"Revision 228\">\n                    <a title=\"Show revision 228 of this file in browser\" href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L446\">\n                      r228</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>446</th><th>446</th><td class=\"l\"><span>};</span>\u00a0</td>\n                  </tr><tr>\n                          <th>447</th><th>447</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>448</th><th>\u00a0</th><td class=\"l\"><span>static time_t msn_logger_parse_timestamp(xmlnode *message)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>449</th><th>\u00a0</th><td class=\"l\"><span>{</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>448</th><td class=\"r\"><span>/* This function is really confusing.&nbsp; It makes baby rlaager cry...</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>449</th><td class=\"r\"><span>&nbsp; &nbsp;In other news: \"You lost a lot of blood but we found most of it.\"</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>450</th><td class=\"r\"><span>&nbsp;*/</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>451</th><td class=\"r\"><span>static time_t msn_logger_parse_timestamp(xmlnode *message, struct tm **tm_out)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>452</th><td class=\"r\"><span>{</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>453</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const char *datetime;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>454</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; static struct tm tm2;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>455</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; time_t stamp;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>450</th><th>456</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const char *date;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>451</th><th>457</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; const char *time;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>452</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; struct tm tm;</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>458</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int month;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>459</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int day;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>460</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int year;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>461</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int hour;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>462</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int min;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>463</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; int sec;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>453</th><th>464</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char am_pm;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>454</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>455</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_return_val_if_fail(message != NULL, (time_t)0);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>465</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; char *str;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>466</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; static struct tm tm;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>467</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; time_t t;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>468</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; time_t diff;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>469</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>470</th><td class=\"r\"><span>#ifndef G_DISABLE_CHECKS</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>471</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (message != NULL)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>472</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>473</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = NULL;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>474</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>475</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Trigger the usual warning. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>476</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_return_val_if_fail(message != NULL, (time_t)0);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>477</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>478</th><td class=\"r\"><span>#endif</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>479</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>480</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; datetime = xmlnode_get_attrib(message, \"DateTime\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>481</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!(datetime &amp;&amp; *datetime))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>482</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>483</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug_error(\"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>484</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"Attribute missing: %s\\n\", \"DateTime\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>485</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (time_t)0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>486</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>487</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>488</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; stamp = gaim_str_to_time(datetime, TRUE, &amp;tm2, NULL, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>489</th><td class=\"r\"><span>#ifdef HAVE_TM_GMTOFF</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>490</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tm2.tm_gmtoff = 0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>491</th><td class=\"r\"><span>#endif</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>492</th><td class=\"r\"><span>#ifdef HAVE_STRUCT_TM_TM_ZONE</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>493</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* This is used in the place of a timezone abbreviation if the</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>494</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* offset is way off.&nbsp; The user should never really see it, but</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>495</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* it's here just in case.&nbsp; The parens are to make it clear it's</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>496</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* not a real timezone. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>497</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tm2.tm_zone = _(\"(UTC)\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>498</th><td class=\"r\"><span>#endif</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>499</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>456</th><th>500</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>457</th><th>501</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; date = xmlnode_get_attrib(message, \"Date\");</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>458</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!(date &amp;&amp; *date)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>459</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug(GAIM_DEBUG_ERROR, \"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>460</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"Attribute missing: %s\\n\", \"Date\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>461</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (time_t)0;</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>502</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!(date &amp;&amp; *date))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>503</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>504</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug_error(\"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>505</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"Attribute missing: %s\\n\", \"Date\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>506</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm2;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>507</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>462</th><th>508</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>463</th><th>509</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>464</th><th>510</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; time = xmlnode_get_attrib(message, \"Time\");</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>465</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!(time &amp;&amp; *time)) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>466</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug(GAIM_DEBUG_ERROR, \"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>467</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"Attribute missing: %s\\n\", \"Time\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>468</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (time_t)0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>469</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>470</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>471</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (sscanf(date, \"%u/%u/%u\", &amp;tm.tm_mon, &amp;tm.tm_mday, &amp;tm.tm_year) != 3)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>472</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug(GAIM_DEBUG_ERROR, \"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>473</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"%s parsing error\\n\", \"Date\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>474</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>475</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (sscanf(time, \"%u:%u:%u %c\", &amp;tm.tm_hour, &amp;tm.tm_min, &amp;tm.tm_sec, &amp;am_pm) != 4)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>476</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug(GAIM_DEBUG_ERROR, \"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>477</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"%s parsing error\\n\", \"Time\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>478</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>479</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tm.tm_year -= 1900;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>480</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tm.tm_mon&nbsp; -= 1;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>481</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (am_pm == 'P') {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>482</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tm.tm_hour += 12;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>483</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else if (tm.tm_hour == 12) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>484</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* 12 AM = 00 hr */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>485</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tm.tm_hour = 0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>486</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>487</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* Let the C library deal with daylight savings time. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>488</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tm.tm_isdst = -1;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>489</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>490</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return mktime(&amp;tm);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>491</th><th>\u00a0</th><td class=\"l\"><span>}</span>\u00a0</td>\n                      </tr><tr>\n                        <th>492</th><th>\u00a0</th><td class=\"l\"><span></span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>511</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!(time &amp;&amp; *time))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>512</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>513</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug_error(\"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>514</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"Attribute missing: %s\\n\", \"Time\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>515</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm2;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>516</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>517</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>518</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>519</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (sscanf(date, \"%u/%u/%u\", &amp;month, &amp;day, &amp;year) != 3)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>520</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>521</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug_error(\"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>522</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"%s parsing error\\n\", \"Date\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>523</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm2;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>524</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>525</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>526</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>527</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>528</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (month &gt; 12)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>529</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>530</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int tmp = day;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>531</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; day = month;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>532</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; month = tmp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>533</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>534</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>535</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>536</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (sscanf(time, \"%u:%u:%u %c\", &amp;hour, &amp;min, &amp;sec, &amp;am_pm) != 4)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>537</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>538</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gaim_debug_error(\"MSN log timestamp parse\",</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>539</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"%s parsing error\\n\", \"Time\");</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>540</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm2;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>541</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>542</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>543</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>544</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (am_pm == 'P') {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>545</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hour += 12;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>546</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; } else if (hour == 12) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>547</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* 12 AM = 00 hr */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>548</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hour = 0;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>549</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>550</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>551</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; str = g_strdup_printf(\"%04i-%02i-%02iT%02i:%02i:%02i\", year, month, day, hour, min, sec);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>552</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; t = gaim_str_to_time(str, TRUE, &amp;tm, NULL, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>553</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>554</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>555</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (stamp &gt; t)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>556</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; diff = stamp - t;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>557</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>558</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; diff = t - stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>559</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>560</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (diff &gt; (14 * 60 * 60))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>561</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>562</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (day &lt;= 12)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>563</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>564</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Swap day &amp; month variables, to see if it's a non-US date. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>565</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(str);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>566</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; str = g_strdup_printf(\"%04i-%02i-%02iT%02i:%02i:%02i\", year, month, day, hour, min, sec);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>567</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t = gaim_str_to_time(str, TRUE, &amp;tm, NULL, NULL);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>568</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>569</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (stamp &gt; t)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>570</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; diff = stamp - t;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>571</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>572</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; diff = t - stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>573</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>574</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (diff &gt; (14 * 60 * 60))</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>575</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>576</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* We got a time, it's not impossible, but</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>577</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* the diff is too large.&nbsp; Display the UTC time. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>578</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(str);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>579</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm2;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>580</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>581</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>582</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>583</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>584</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Legal time */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>585</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Fall out */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>586</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>587</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>588</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>589</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>590</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* We got a time, it's not impossible, but</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>591</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* the diff is too large.&nbsp; Display the UTC time. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>592</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(str);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>593</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm2;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>594</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>595</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>596</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>597</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>598</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* If we got here, the time is legal with a reasonable offset.</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>599</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Let's find out if it's in our TZ. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>600</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (gaim_str_to_time(str, FALSE, &amp;tm, NULL, NULL) == stamp)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>601</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>602</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(str);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>603</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>604</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>605</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>606</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; g_free(str);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>607</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>608</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; /* The time isn't in our TZ, but it's reasonable. */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>609</th><td class=\"r\"><span>#ifdef HAVE_STRUCT_TM_TM_ZONE</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>610</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; tm.tm_zone = \"&nbsp; &nbsp;\";</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>611</th><td class=\"r\"><span>#endif</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>612</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; *tm_out = &amp;tm;</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>613</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; return stamp;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>614</th><td class=\"r\"><span>}</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>493</th><th>615</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>494</th><th>616</th><td class=\"l\"><span>static GList *msn_logger_list(GaimLogType type, const char *sn, GaimAccount *account)</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L726\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L848\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>726</th><th>848</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Thus, this is the start of a new conversation.</span>\u00a0</td>\n                  </tr><tr>\n                          <th>727</th><th>849</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>850</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct tm *tm;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>851</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time_t stamp;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>728</th><th>852</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimLog *log;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>729</th><th>853</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L735\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L859\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>735</th><th>859</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data-&gt;last_log = FALSE;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>736</th><th>860</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>737</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* XXX: Look into this later... Should we pass in a struct tm? */</span>\u00a0</td>\n                      </tr><tr>\n                        <th>738</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log = gaim_log_new(GAIM_LOG_IM, sn, account, NULL, msn_logger_parse_timestamp(message), NULL);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>861</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; stamp = msn_logger_parse_timestamp(message, &amp;tm);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>862</th><td class=\"r\"><span></span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>863</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log = gaim_log_new(GAIM_LOG_IM, sn, account, NULL, stamp, tm);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>739</th><th>864</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log-&gt;logger = msn_logger;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>740</th><th>865</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log-&gt;logger_data = data;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L793\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L918\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>793</th><th>918</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const char *their_name;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>794</th><th>919</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time_t time_unix;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>795</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct tm *tm<del>_new</del>;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>920</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; struct tm *tm<ins></ins>;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>796</th><th>921</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *timestamp;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>797</th><th>922</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; char *tmp;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L849\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L974\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>849</th><th>974</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (friendly_name != NULL) {</span>\u00a0</td>\n                  </tr><tr>\n                          <th>850</th><th>975</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int friendly_name_length = strlen(friendly_name);</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>851</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int alias_length&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= strlen(log-&gt;account-&gt;alias);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>976</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const char *alias;</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>977</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int alias_length;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>852</th><th>978</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GaimBuddy *buddy = gaim_find_buddy(log-&gt;account, log-&gt;name);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>853</th><th>979</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gboolean from_name_matches;</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L856\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L982\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>856</th><th>982</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (buddy &amp;&amp; buddy-&gt;alias)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>857</th><th>983</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; their_name = buddy-&gt;alias;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>984</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>985</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (log-&gt;account-&gt;alias)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>986</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>987</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alias = log-&gt;account-&gt;alias;</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>988</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alias_length = strlen(alias);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>989</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>990</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>991</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>992</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alias = \"\";</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>993</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alias_length = 0;</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>994</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>858</th><th>995</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>859</th><th>996</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Try to guess which user is me.</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L864\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L1001\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>864</th><th>1001</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; from_name_matches = (gaim_str_has_prefix(from_name, friendly_name) &amp;&amp;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>865</th><th>1002</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !isalnum(*(from_name + friendly_name_length))) ||</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>866</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(gaim_str_has_prefix(from_name, <del>log-&gt;account-&gt;</del>alias) &amp;&amp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>1003</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(gaim_str_has_prefix(from_name, <ins></ins>alias) &amp;&amp;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>867</th><th>1004</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !isalnum(*(from_name + alias_length)));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>868</th><th>1005</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L870\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L1007\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>870</th><th>1007</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(gaim_str_has_prefix(to_name, friendly_name) &amp;&amp;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>871</th><th>1008</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !isalnum(*(to_name + friendly_name_length))) ||</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>872</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(gaim_str_has_prefix(to_name, <del>log-&gt;account-&gt;</del>alias) &amp;&amp;</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>1009</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(gaim_str_has_prefix(to_name, <ins></ins>alias) &amp;&amp;</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>873</th><th>1010</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !isalnum(*(to_name + alias_length))));</span>\u00a0</td>\n                  </tr><tr>\n                          <th>874</th><th>1011</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L962\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L1099\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>962</th><th>1099</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>963</th><th>1100</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>964</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time_unix = msn_logger_parse_timestamp(message);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>965</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tm_new = localtime(&amp;time_unix);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>1101</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time_unix = msn_logger_parse_timestamp(message, &amp;tm);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>966</th><th>1102</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr><tr>\n                          <th>967</th><th>1103</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timestamp = g_strdup_printf(\"&lt;font size=\\\"2\\\"&gt;(%02u:%02u:%02u)&lt;/font&gt; \",</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>968</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tm<del>_new-&gt;tm_hour, tm_new-&gt;tm_min, tm_new</del>-&gt;tm_sec);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>1104</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tm<ins>-&gt;tm_hour, tm-&gt;tm_min, tm</ins>-&gt;tm_sec);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>969</th><th>1105</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; text = g_string_append(text, timestamp);</span>\u00a0</td>\n                  </tr><tr>\n                          <th>970</th><th>1106</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_free(timestamp);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L973\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L1109\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>973</th><th>1109</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; text = g_string_append(text, \"&lt;b&gt;\");</span>\u00a0</td>\n                  </tr><tr>\n                          <th>974</th><th>1110</th><td class=\"l\"><span></span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>975</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (name_guessed == NAME_GUESS_ME)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>976</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; text = g_string_append(text, log-&gt;account-&gt;alias);</span>\u00a0</td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>1111</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (name_guessed == NAME_GUESS_ME) {</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>1112</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (log-&gt;account-&gt;alias)</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>1113</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; text = g_string_append(text, log-&gt;account-&gt;alias);</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>1114</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span>\u00a0</td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>1115</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; text = g_string_append(text, log-&gt;account-&gt;username);</span>\u00a0</td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>1116</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>977</th><th>1117</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (name_guessed == NAME_GUESS_THEM)</span>\u00a0</td>\n                  </tr><tr>\n                          <th>978</th><th>1118</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; text = g_string_append(text, their_name);</span>\u00a0</td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=65#L1501\">\u2026</a></th>\n                  <th><a href=\"/LUCICodeRepository/nomaticIM/browser/vendor/current/libgaim/plugins/log_reader.c?rev=228#L1641\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>1501</th><th>1641</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; line2++;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1502</th><th>1642</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (*line2 == ':') {</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"last first\">\n                          <th>\u00a0</th><th>1643</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const char *acct_name;</ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1503</th><th>1644</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; line2++;</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1504</th><th>1645</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; line = line2;</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>1646</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acct_name = gaim_account_get_alias(log-&gt;account);</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1647</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!acct_name)</ins>\u00a0</td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>1648</th><td class=\"r\"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acct_name = gaim_account_get_username(log-&gt;account);</ins>\u00a0</td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>1649</th><td class=\"r\"><ins></ins>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1505</th><th>1650</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_string_append_printf(formatted,</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1506</th><th>1651</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"&lt;span style=\\\"color: #16569E;\\\"&gt;\"</span>\u00a0</td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>1507</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"&lt;b&gt;%s&lt;/b&gt;&lt;/span&gt;:\", <del>log-&gt;account-&gt;alias</del>);</span>\u00a0</td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>1652</th><td class=\"r\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"&lt;b&gt;%s&lt;/b&gt;&lt;/span&gt;:\", <ins>acct_name</ins>);</span>\u00a0</td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>1508</th><th>1653</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr><tr>\n                          <th>1509</th><th>1654</th><td class=\"l\"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>\u00a0</td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n        <div id=\"help\"><strong>Note:</strong> See <a href=\"/LUCICodeRepository/nomaticIM/wiki/TracChangeset\">TracChangeset</a>\n          for help on using the changeset viewer.</div>\n      </div>\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"first\">\n          <a rel=\"nofollow\" href=\"?format=diff&amp;new=228\" class=\"diff\">Unified Diff</a>\n        </li><li class=\"last\">\n          <a rel=\"nofollow\" href=\"?format=zip&amp;new=228\" class=\"zip\">Zip Archive</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/LUCICodeRepository/nomaticIM/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/LUCICodeRepository/nomaticIM/about\"><strong>Trac 1.0.1</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">All content copyright 2007-2008 by LUCI <br /><a href=\"http://luci.ics.uci.edu/\">http://luci.ics.uci.edu/</a></p>\n    </div>\n\t\t<div id=\"sitefooter\">\n\t\t\t<script src=\"http://www.google-analytics.com/urchin.js\" type=\"text/javascript\">\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t_uacct = \"UA-338915-2\";\n\t\t\t\turchinTracker();\n\t\t\t</script>\n\t\t</div>\n\t</body>\n</html>", "id": 41060.0}