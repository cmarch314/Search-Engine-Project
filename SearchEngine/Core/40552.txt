{"text": " Home Trees Indices Help Package CHEM Package datatype Module compress Class EliasGammaCodec hide private frames no frames Class EliasGammaCodec Codec EliasGammaCodec Encode Decode integer according to http www inference phy cam ac uk mackay itprnn code c compress Integer must be 1 unless codec is initialized with the signed True FORMAT run of zeros of length 1 bits needed to encode data data first bit MUST be 1 optional 1 bit for the sign notice that zero cannot be encoded by this scheme So if data we subtract 1 before encoding add 1 after decoding to enable zero also the coding most efficiently enodes numbers close to 1 and does one the best The position of this optimal encoding can be adjusted by setting the center option OPTIONS sign DEFAULT False allow encoding data less than center center DEFAULT 1 most efficient encoding of this integer and lower bound if sign False Instance Methods hide private init self center 1 sign False encodeL self data decodeI self iter Inherited from Codec call decode finger Method Details hide private init self center 1 sign False Constructor CA EliasGammaCodec print CA 1 CA 4 1 1 for x in xrange 1 1 if x CA decode CA x print x CA x CA decode CA x CA EliasGammaCodec sign True print CA 1 CA CA 1 11 1 1 for x in xrange 1 1 if x CA decode CA x print x CA x CA decode CA x CA EliasGammaCodec center 1 print CA 1 1 for x in xrange 1 1 if x CA decode CA x print x CA x CA decode CA x CA EliasGammaCodec center 1 print CA 1 1 CA EliasGammaCodec center 1 sign True for x in xrange 2 if x CA decode CA x print x CA x CA decode CA x Overrides Codec init encodeL self data Overrides Codec encodeL decodeI self iter Overrides Codec decodeI Home Trees Indices Help Generated by Epydoc 3 beta1 on Thu Nov 8 17 49 33 2 7 http epydoc sourceforge net", "_id": "http://www.ics.uci.edu/~dock/CHEM_docs/CHEM.datatype.compress.EliasGammaCodec-class.html", "title": "chem.datatype.compress.eliasgammacodec", "html": "<?xml version=\"1.0\" encoding=\"ascii\"?>\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n          \"DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n  <title>CHEM.datatype.compress.EliasGammaCodec</title>\n  <link rel=\"stylesheet\" href=\"epydoc.css\" type=\"text/css\" />\n  <script type=\"text/javascript\" src=\"epydoc.js\"></script>\n</head>\n\n<body bgcolor=\"white\" text=\"black\" link=\"blue\" vlink=\"#204080\"\n      alink=\"#204080\">\n<!-- ==================== NAVIGATION BAR ==================== -->\n<table class=\"navbar\" border=\"0\" width=\"100%\" cellpadding=\"0\"\n       bgcolor=\"#a0c0ff\" cellspacing=\"0\">\n  <tr valign=\"middle\">\n  <!-- Home link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"CHEM-module.html\">Home</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Tree link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"module-tree.html\">Trees</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Index link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"identifier-index.html\">Indices</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Help link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"help.html\">Help</a>&nbsp;&nbsp;&nbsp;</th>\n\n      <th class=\"navbar\" width=\"100%\"></th>\n  </tr>\n</table>\n<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n  <tr valign=\"top\">\n    <td width=\"100%\">\n      <span class=\"breadcrumbs\">\n        <a href=\"CHEM-module.html\">Package&nbsp;CHEM</a> ::\n        <a href=\"CHEM.datatype-module.html\">Package&nbsp;datatype</a> ::\n        <a href=\"CHEM.datatype.compress-module.html\">Module&nbsp;compress</a> ::\n        Class&nbsp;EliasGammaCodec\n      </span>\n    </td>\n    <td>\n      <table cellpadding=\"0\" cellspacing=\"0\">\n        <!-- hide/show private -->\n        <tr><td align=\"right\"><span class=\"options\">[<a href=\"javascript:void(0);\" class=\"privatelink\"\n    onclick=\"toggle_private();\">hide&nbsp;private</a>]</span></td></tr>\n        <tr><td align=\"right\"><span class=\"options\"\n            >[<a href=\"frames.html\" target=\"_top\">frames</a\n            >]&nbsp;|&nbsp;<a href=\"CHEM.datatype.compress.EliasGammaCodec-class.html\"\n            target=\"_top\">no&nbsp;frames</a>]</span></td></tr>\n      </table>\n    </td>\n  </tr>\n</table>\n<!-- ==================== CLASS DESCRIPTION ==================== -->\n<h1 class=\"epydoc\">Class EliasGammaCodec</h1><br /><br />\n<pre class=\"base-tree\">\n<a href=\"CHEM.datatype.compress.Codec-class.html\">Codec</a> --+\n        |\n       <strong class=\"uidshort\">EliasGammaCodec</strong>\n</pre>\n\n<hr />\n<pre class=\"literalblock\">\n\nEncode/Decode integer according to:\nhttp://www.inference.phy.cam.ac.uk/mackay/itprnn/code/c/compress/\n\nInteger must be &gt;=1, unless codec is initialized with the &quot;signed=True&quot;\n\nFORMAT:\n  -run of zeros of length = 1 - bits needed to encode data\n  -data, first bit MUST be 1\n  -(optional) 1 bit for the sign\n\nnotice, that zero cannot be encoded by this scheme. So:\n\nif data&lt;=0: we subtract 1 before encoding (add 1 after decoding) to enable zero\n\nalso, the coding most efficiently enodes, numbers close to 1 (and does one the best).\nThe position of this optimal encoding can be adjusted by setting the &quot;center&quot; option.\n\nOPTIONS:\n  'sign' = DEFAULT=False, allow encoding data less than center?\n  'center' = DEFAULT=1, most efficient encoding of this integer, and lower bound if sign=False\n\n</pre><br /><br />\n\n<!-- ==================== INSTANCE METHODS ==================== -->\n<a name=\"section-InstanceMethods\"></a>\n<table class=\"summary\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr bgcolor=\"#70b0f0\" class=\"table-header\">\n  <td colspan=\"2\" class=\"table-header\">\n    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n      <tr valign=\"top\">\n        <td align=\"left\"><span class=\"table-header\">Instance Methods</span></td>\n        <td align=\"right\" valign=\"top\"\n         ><span class=\"options\">[<a href=\"#section-InstanceMethods\"\n         class=\"privatelink\" onclick=\"toggle_private();\"\n         >hide private</a>]</span></td>\n      </tr>\n    </table>\n  </td>\n</tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.datatype.compress.EliasGammaCodec-class.html#__init__\" class=\"summary-sig-name\">__init__</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">center</span>=<span class=\"summary-sig-default\">1</span>,\n        <span class=\"summary-sig-arg\">sign</span>=<span class=\"summary-sig-default\">False</span>)</span></td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.datatype.compress.EliasGammaCodec-class.html#encodeL\" class=\"summary-sig-name\">encodeL</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">data</span>)</span></td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.datatype.compress.EliasGammaCodec-class.html#decodeI\" class=\"summary-sig-name\">decodeI</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">iter</span>)</span></td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n  <tr>\n    <td colspan=\"2\" class=\"summary\">\n    <p class=\"indent-wrapped-lines\"><b>Inherited from <code><a href=\"CHEM.datatype.compress.Codec-class.html\">Codec</a></code></b>:\n      <code><a href=\"CHEM.datatype.compress.Codec-class.html#__call__\">__call__</a></code>,\n      <code><a href=\"CHEM.datatype.compress.Codec-class.html#decode\">decode</a></code>,\n      <code><a href=\"CHEM.datatype.compress.Codec-class.html#finger\">finger</a></code>\n      </p>\n    </td>\n  </tr>\n</table>\n<!-- ==================== METHOD DETAILS ==================== -->\n<a name=\"section-MethodDetails\"></a>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr bgcolor=\"#70b0f0\" class=\"table-header\">\n  <td colspan=\"2\" class=\"table-header\">\n    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n      <tr valign=\"top\">\n        <td align=\"left\"><span class=\"table-header\">Method Details</span></td>\n        <td align=\"right\" valign=\"top\"\n         ><span class=\"options\">[<a href=\"#section-MethodDetails\"\n         class=\"privatelink\" onclick=\"toggle_private();\"\n         >hide private</a>]</span></td>\n      </tr>\n    </table>\n  </td>\n</tr>\n</table>\n<a name=\"__init__\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">__init__</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">center</span>=<span class=\"sig-default\">1</span>,\n        <span class=\"sig-arg\">sign</span>=<span class=\"sig-default\">False</span>)</span>\n    <br /><em class=\"fname\">(Constructor)</em>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  <pre class=\"py-doctest\">\n<span class=\"py-prompt\">&gt;&gt;&gt; </span>CA=EliasGammaCodec()\n<span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">print</span> CA(1), CA(4)\n<span class=\"py-output\">1 00100</span>\n<span class=\"py-output\"></span><span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">for</span> x <span class=\"py-keyword\">in</span> xrange(1,100): \n<span class=\"py-more\">... </span>  <span class=\"py-keyword\">if</span> x!=CA.decode(CA(x)): <span class=\"py-keyword\">print</span> x, CA(x), CA.decode(CA(x))\n<span class=\"py-prompt\">&gt;&gt;&gt; </span>CA=EliasGammaCodec(sign=True)\n<span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">print</span> CA(1), CA(0), CA(-1)\n<span class=\"py-output\">11 10 0100</span>\n<span class=\"py-output\"></span><span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">for</span> x <span class=\"py-keyword\">in</span> xrange(-100,100):\n<span class=\"py-more\">... </span>  <span class=\"py-keyword\">if</span> x!=CA.decode(CA(x)): <span class=\"py-keyword\">print</span> x, CA(x), CA.decode(CA(x))\n<span class=\"py-prompt\">&gt;&gt;&gt; </span>CA=EliasGammaCodec(center=10)\n<span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">print</span> CA(10)\n<span class=\"py-output\">1</span>\n<span class=\"py-output\"></span><span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">for</span> x <span class=\"py-keyword\">in</span> xrange(10,100):\n<span class=\"py-more\">... </span>  <span class=\"py-keyword\">if</span> x!=CA.decode(CA(x)): <span class=\"py-keyword\">print</span> x, CA(x), CA.decode(CA(x))\n<span class=\"py-prompt\">&gt;&gt;&gt; </span>CA=EliasGammaCodec(center=10)\n<span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">print</span> CA(10)\n<span class=\"py-output\">1</span>\n<span class=\"py-output\"></span><span class=\"py-prompt\">&gt;&gt;&gt; </span>CA=EliasGammaCodec(center=10, sign=True)\n<span class=\"py-prompt\">&gt;&gt;&gt; </span><span class=\"py-keyword\">for</span> x <span class=\"py-keyword\">in</span> xrange(0,20):\n<span class=\"py-more\">... </span>  <span class=\"py-keyword\">if</span> x!=CA.decode(CA(x)): <span class=\"py-keyword\">print</span> x, CA(x), CA.decode(CA(x))</pre>\n  <dl class=\"fields\">\n    <dt>Overrides:\n      <a href=\"CHEM.datatype.compress.Codec-class.html#__init__\">Codec.__init__</a>\n    </dt>\n  </dl>\n</td></tr></table>\n</div>\n<a name=\"encodeL\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">encodeL</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">data</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  \n  <dl class=\"fields\">\n    <dt>Overrides:\n      <a href=\"CHEM.datatype.compress.Codec-class.html#encodeL\">Codec.encodeL</a>\n    </dt>\n  </dl>\n</td></tr></table>\n</div>\n<a name=\"decodeI\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">decodeI</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">iter</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  \n  <dl class=\"fields\">\n    <dt>Overrides:\n      <a href=\"CHEM.datatype.compress.Codec-class.html#decodeI\">Codec.decodeI</a>\n    </dt>\n  </dl>\n</td></tr></table>\n</div>\n<br />\n<!-- ==================== NAVIGATION BAR ==================== -->\n<table class=\"navbar\" border=\"0\" width=\"100%\" cellpadding=\"0\"\n       bgcolor=\"#a0c0ff\" cellspacing=\"0\">\n  <tr valign=\"middle\">\n  <!-- Home link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"CHEM-module.html\">Home</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Tree link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"module-tree.html\">Trees</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Index link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"identifier-index.html\">Indices</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Help link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"help.html\">Help</a>&nbsp;&nbsp;&nbsp;</th>\n\n      <th class=\"navbar\" width=\"100%\"></th>\n  </tr>\n</table>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%%\">\n  <tr>\n    <td align=\"left\" class=\"footer\">\n    Generated by Epydoc 3.0beta1 on Thu Nov  8 17:49:33 2007\n    </td>\n    <td align=\"right\" class=\"footer\">\n      <a href=\"http://epydoc.sourceforge.net\">http://epydoc.sourceforge.net</a>\n    </td>\n  </tr>\n</table>\n\n<script type=\"text/javascript\">\n  <!--\n  // Private objects are initially displayed (because if\n  // javascript is turned off then we want them to be\n  // visible); but by default, we want to hide them.  So hide\n  // them unless we have a cookie that says to show them.\n  checkCookie()\n  // -->\n</script>\n  \n</body>\n</html>\n", "id": 40552.0}