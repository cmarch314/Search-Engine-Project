{"text": "1 package swirl workspace 2 3 import junit framework Test 4 import junit framework TestCase 5 import junit framework TestSuite 6 7 8 DOCUMENT ME 9 1 author bpillet 11 12 public class FileTest extends TestCase 13 14 15 Creates a new FileTest object 16 17 param arg TODO 18 19 public FileTest String arg 2 21 super arg 22 23 24 25 TODO 26 27 return TODO 28 29 public static Test suite 3 31 Configuration init System getProperty basedir 32 target webapps swirl 33 34 35 TestSuite suite new TestSuite 36 37 suite addTest new FileTest testCopy 38 return suite 39 4 41 return new TestSuite PeerManagerTest class 42 43 44 45 public void testUrl throws Exception 46 47 HttpURL url new HttpURL http myserver com 9876 slide myfolder myfile 48 System err println url url 49 System err println aboveHierPath url getAboveHierPath 5 System err println getCurrentHierPath url getCurrentHierPath 51 52 public void testFile throws Exception 53 54 System out println testFile 55 HttpURL url new HttpURL http localhost 9876 swirl 56 url setUserinfo root root 57 WebdavFile file new WebdavFile url 58 System err println exists file exists 59 String list file list 6 for int i i list length i 61 System out println file list i 62 File files file listFiles 63 for int i i files length i 64 System out println files files i isDir files i isDirectory 65 66 public void testPut throws Exception 67 68 System out println test put 69 String filepath C dingx svg svg 7 String surl http localhost 9876 swirl 71 File f new File filepath 72 WebdavResource resource new WebdavResource surl 73 FileInputStream stream new FileInputStream f 74 boolean success resource putMethod resource getPath f getName stream 75 System err println put success 76 HttpURL url new HttpURL http localhost 9876 slide 77 PutMethod put new PutMethod url f getName 78 System err println file name is f getName 79 setting the dummy content to the FILE string 8 put setRequestBody stream 81 HttpClient client new HttpClient 82 System err println put client executeMethod put put getStatusText 83 84 public void testCopy throws Exception 85 86 System out println test copy 87 HttpURL url new HttpURL http localhost 9876 swirl 88 url setUserinfo root root 89 WebdavResource resource new WebdavResource url 9 System err println the path is resource getPath 91 System err println exists resource exists 92 System err println isCollection resource isCollection 93 url new HttpURL http localhost 9876 swirl test txt 94 WebdavResource file new WebdavResource url 95 url new HttpURL C dingx svg svg 96 File f new File C dingx svg svg 97 WebdavFile f new WebdavFile url 98 System err println file name is f getName 99 System err println file length is file length 1 boolean success file copyMethod resource getPath 1 1 boolean success file copyMethod test 1 2 System err println status is file getStatusMessage 1 3 System err println success is success 1 4 String list resource list 1 5 WebdavResources resources resource getChildResources 1 6 for Enumeration en resources getResources en hasMoreElements 1 7 1 8 WebdavResource res WebdavResource en nextElement 1 9 System out println res res isCollection res isCollection 11 111 success file deleteMethod 112 System err println delete success is success 113 114 public void testMove throws Exception 115 116 System out println test copy 117 HttpURL url new HttpURL http 128 195 3 1 4 9876 slide 118 url setUserinfo root root 119 WebdavResource resource new WebdavResource url 12 System err println the path is resource getPath 121 System err println exists resource exists 122 System err println isCollection resource isCollection 123 url new HttpURL http localhost 9876 slide control xml 124 WebdavResource file new WebdavResource url 125 url new HttpURL C dingx svg svg 126 File f new File C dingx svg svg 127 WebdavFile f new WebdavFile url 128 System err println file length is file length 129 boolean success resource putMethod resource getPath f getName file getMethodData 13 System err println success is success 131 String list resource list 132 WebdavResources resources resource getChildResources 133 for Enumeration en resources getResources en hasMoreElements 134 135 WebdavResource res WebdavResource en nextElement 136 System out println res res isCollection res isCollection 137 138 success file deleteMethod 139 System err println delete success is success 14 141 public void testPropertySet throws Exception 142 143 System out println test PropertySet 144 HttpURL url new HttpURL http 128 195 3 1 5 9876 slide 145 WebdavResource resource new WebdavResource url 146 System err println the path is resource getPath 147 System err println exists resource exists 148 System err println isCollection resource isCollection 149 String file slide test1 15 String prop newProp3 151 PropPatchMethod method new PropPatchMethod file 152 method addPropertyToSet prop 1 153 System err println method resource executeHttpRequestMethod 154 resource retrieveSessionInstance method method getStatusText 155 DocumentLogger logDocument log proppath response method getResponseDocument 156 Vector vProperties new Vector 1 157 vProperties addElement prop 158 PropFindMethod propFind new PropFindMethod file 3 vProperties elements 159 System err println method resource executeHttpRequestMethod 16 resource retrieveSessionInstance propFind propFind getStatusText 161 DocumentLogger logDocument log propfind response method getResponseDocument 162 Enumeration enum propFind getResponseProperties file 163 System err println status is resource getStatusMessage 164 while enum hasMoreElements 165 166 Object o enum nextElement 167 System out println o o 168 Property p Property o 169 System out println p val p getElement 17 String s String o 171 System out println s s 172 173 174 public void testPropertySet2 throws Exception 175 176 System out println test PropertySet2 177 HttpURL url new HttpURL http 128 195 3 1 5 9876 swirl 178 WebdavResource resource new WebdavResource url 179 String file http 128 195 3 1 5 9876 swirl test1 18 PropertyName pn new PropertyName DAV sharingDegree 181 String prop newProp4 182 boolean bset resource proppatchMethod file pn somthin else true 183 System err println Setting property is bset 184 System err println status is resource getStatusMessage 185 Enumeration enum resource propfindMethod file sharingDegree 186 System err println status is resource getStatusMessage 187 while enum hasMoreElements 188 189 Object o enum nextElement 19 System out println o o 191 String s String o 192 System out println s s 193 194 195 public void testPropertyGet throws Exception 196 197 System out println test PropertyGet 198 HttpURL url new HttpURL http 128 195 3 1 5 9876 swirl 199 WebdavResource resource new WebdavResource url 2 PropertyName pn new PropertyName DAV sharingDegree 2 1 System err println the path is resource getPath 2 2 System err println exists resource exists 2 3 System err println isCollection resource isCollection 2 4 Enumeration enum resource propfindMethod swirl test doc sharingDegree 2 5 while enum hasMoreElements 2 6 2 7 Object o enum nextElement 2 8 System out println o o 2 9 String s String o 21 System out println s s 211 212 213 public void testLock throws Exception 214 215 System out println test lock 216 HttpURL url new HttpURL http localhost 9876 slide dingx 217 url setUserinfo root root 218 WebdavResource resource new WebdavResource url 219 resource lockMethod 22 System err println exists resource exists 221 System err println isCollection resource isCollection 222 url new HttpURL http localhost 9876 swirl control xml on 128 195 3 1 4 9876 223 WebdavResource file new WebdavResource url 224 file lockMethod 225 url new HttpURL C dingx svg svg 226 File f new File C dingx svg svg 227 WebdavFile f new WebdavFile url 228 System err println file length is file length 229 boolean success resource putMethod resource getPath f getName file getMethodData 23 System err println success is success 231 file unlockMethod 232 resource unlockMethod 233 String list resource list 234 WebdavResources resources resource getChildResources 235 for Enumeration en resources getResources en hasMoreElements 236 237 WebdavResource res WebdavResource en nextElement 238 System out println res res isCollection res isCollection 239 24 success file deleteMethod 241 System err println delete success is success 242 243 public void testResource throws Exception 244 245 246 247 This page was automatically generated by Maven", "_id": "http://drzaius.ics.uci.edu/~swirl/impromptu-0.20/xref-test/swirl/workspace/FileTest.html", "title": "filetest xref", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n<meta http-equiv=\"content-type\" content=\"text/html; charset=ISO-8859-1\" /><title>FileTest xref</title>\n<link type=\"text/css\" rel=\"stylesheet\" href=\"../../stylesheet.css\" />\n</head>\n<body>\n<pre>\n\n<a name=\"1\" href=\"#1\">1</a>   <strong>package</strong> <a href=\"../../swirl/workspace/package-summary.html\">swirl.workspace</a>;\n<a name=\"2\" href=\"#2\">2</a>   \n<a name=\"3\" href=\"#3\">3</a>   <strong>import</strong> junit.framework.Test;\n<a name=\"4\" href=\"#4\">4</a>   <strong>import</strong> junit.framework.TestCase;\n<a name=\"5\" href=\"#5\">5</a>   <strong>import</strong> junit.framework.TestSuite;\n<a name=\"6\" href=\"#6\">6</a>   \n<a name=\"7\" href=\"#7\">7</a>   <em>/**<em>*</em></em>\n<a name=\"8\" href=\"#8\">8</a>   <em> * DOCUMENT ME!</em>\n<a name=\"9\" href=\"#9\">9</a>   <em> *</em>\n<a name=\"10\" href=\"#10\">10</a>  <em> * @author bpillet</em>\n<a name=\"11\" href=\"#11\">11</a>  <em> */</em>\n<a name=\"12\" href=\"#12\">12</a>  <strong>public</strong> <strong>class</strong> <a href=\"../../swirl/workspace/FileTest.html\">FileTest</a> <strong>extends</strong> TestCase\n<a name=\"13\" href=\"#13\">13</a>  {\n<a name=\"14\" href=\"#14\">14</a>      <em>/**<em>*</em></em>\n<a name=\"15\" href=\"#15\">15</a>  <em>     * Creates a new FileTest object.</em>\n<a name=\"16\" href=\"#16\">16</a>  <em>     *</em>\n<a name=\"17\" href=\"#17\">17</a>  <em>     * @param arg0 TODO</em>\n<a name=\"18\" href=\"#18\">18</a>  <em>     */</em>\n<a name=\"19\" href=\"#19\">19</a>      <strong>public</strong> <a href=\"../../swirl/workspace/FileTest.html\">FileTest</a>(String arg0)\n<a name=\"20\" href=\"#20\">20</a>      {\n<a name=\"21\" href=\"#21\">21</a>          <strong>super</strong>(arg0);\n<a name=\"22\" href=\"#22\">22</a>      }\n<a name=\"23\" href=\"#23\">23</a>  \n<a name=\"24\" href=\"#24\">24</a>      <em>/**<em>*</em></em>\n<a name=\"25\" href=\"#25\">25</a>  <em>     * TODO</em>\n<a name=\"26\" href=\"#26\">26</a>  <em>     *</em>\n<a name=\"27\" href=\"#27\">27</a>  <em>     * @return TODO</em>\n<a name=\"28\" href=\"#28\">28</a>  <em>     */</em>\n<a name=\"29\" href=\"#29\">29</a>      <strong>public</strong> <strong>static</strong> Test suite()\n<a name=\"30\" href=\"#30\">30</a>      {\n<a name=\"31\" href=\"#31\">31</a>          Configuration.init(System.getProperty(<span class=\"string\">\"basedir\"</span>, <span class=\"string\">\".\"</span>)\n<a name=\"32\" href=\"#32\">32</a>                             + <span class=\"string\">\"/target/webapps/swirl\"</span>);\n<a name=\"33\" href=\"#33\">33</a>  \n<a name=\"34\" href=\"#34\">34</a>          /<em class=\"comment\">/*</em>\n<a name=\"35\" href=\"#35\">35</a>  <em class=\"comment\">        TestSuite suite = new TestSuite();</em>\n<a name=\"36\" href=\"#36\">36</a>  \n<a name=\"37\" href=\"#37\">37</a>  <em class=\"comment\">        //suite.addTest(new FileTest(\"testCopy\"));</em>\n<a name=\"38\" href=\"#38\">38</a>  <em class=\"comment\">        return suite;</em>\n<a name=\"39\" href=\"#39\">39</a>  \n<a name=\"40\" href=\"#40\">40</a>  <em class=\"comment\">        //*/</em>\n<a name=\"41\" href=\"#41\">41</a>          <em class=\"comment\">//return new TestSuite(PeerManagerTest.class);</em>\n<a name=\"42\" href=\"#42\">42</a>      }\n<a name=\"43\" href=\"#43\">43</a>  \n<a name=\"44\" href=\"#44\">44</a>      <em class=\"comment\">/*</em>\n<a name=\"45\" href=\"#45\">45</a>  <em class=\"comment\">       public void testUrl() throws Exception</em>\n<a name=\"46\" href=\"#46\">46</a>  <em class=\"comment\">       {</em>\n<a name=\"47\" href=\"#47\">47</a>  <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://myserver.com:9876/slide/myfolder/myfile\" target=\"alexandria_uri\">http://myserver.com:9876/slide/myfolder/myfile</a>\");</em>\n<a name=\"48\" href=\"#48\">48</a>  <em class=\"comment\">           System.err.println(\"url: \" + url);</em>\n<a name=\"49\" href=\"#49\">49</a>  <em class=\"comment\">           System.err.println(\"aboveHierPath: \" + url.getAboveHierPath());</em>\n<a name=\"50\" href=\"#50\">50</a>  <em class=\"comment\">           System.err.println(\"getCurrentHierPath: \" + url.getCurrentHierPath());</em>\n<a name=\"51\" href=\"#51\">51</a>  <em class=\"comment\">       }</em>\n<a name=\"52\" href=\"#52\">52</a>  <em class=\"comment\">       public void testFile() throws Exception</em>\n<a name=\"53\" href=\"#53\">53</a>  <em class=\"comment\">       {</em>\n<a name=\"54\" href=\"#54\">54</a>  <em class=\"comment\">           System.out.println(\"testFile\");</em>\n<a name=\"55\" href=\"#55\">55</a>  <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://localhost:9876/swirl/\" target=\"alexandria_uri\">http://localhost:9876/swirl/</a>\");</em>\n<a name=\"56\" href=\"#56\">56</a>  <em class=\"comment\">           //url.setUserinfo(\"root\", \"root\");</em>\n<a name=\"57\" href=\"#57\">57</a>  <em class=\"comment\">           WebdavFile file = new WebdavFile(url);</em>\n<a name=\"58\" href=\"#58\">58</a>  <em class=\"comment\">           System.err.println(\"exists: \" + file.exists());</em>\n<a name=\"59\" href=\"#59\">59</a>  <em class=\"comment\">           String[] list = file.list();</em>\n<a name=\"60\" href=\"#60\">60</a>  <em class=\"comment\">           for(int i = 0; i &lt; list.length; ++i)</em>\n<a name=\"61\" href=\"#61\">61</a>  <em class=\"comment\">               System.out.println(\"file: \" + list[i]);</em>\n<a name=\"62\" href=\"#62\">62</a>  <em class=\"comment\">           File[] files = file.listFiles();</em>\n<a name=\"63\" href=\"#63\">63</a>  <em class=\"comment\">                   for(int i = 0; i &lt; files.length; ++i)</em>\n<a name=\"64\" href=\"#64\">64</a>  <em class=\"comment\">                       System.out.println(\"files: \" + files[i] + \" isDir: \" + files[i].isDirectory());</em>\n<a name=\"65\" href=\"#65\">65</a>  <em class=\"comment\">       }</em>\n<a name=\"66\" href=\"#66\">66</a>  <em class=\"comment\">       public void testPut() throws Exception</em>\n<a name=\"67\" href=\"#67\">67</a>  <em class=\"comment\">       {</em>\n<a name=\"68\" href=\"#68\">68</a>  <em class=\"comment\">           System.out.println(\"test put\");</em>\n<a name=\"69\" href=\"#69\">69</a>  <em class=\"comment\">           String filepath = \"C:&#47;&#47;dingx&#47;&#47;svg.svg\";</em>\n<a name=\"70\" href=\"#70\">70</a>  <em class=\"comment\">           String surl = \"<a href=\"http://localhost:9876/swirl/\" target=\"alexandria_uri\">http://localhost:9876/swirl/</a>\";</em>\n<a name=\"71\" href=\"#71\">71</a>  <em class=\"comment\">           File f = new File(filepath);</em>\n<a name=\"72\" href=\"#72\">72</a>  <em class=\"comment\">           WebdavResource resource = new WebdavResource(surl);</em>\n<a name=\"73\" href=\"#73\">73</a>  <em class=\"comment\">           FileInputStream stream = new FileInputStream(f);</em>\n<a name=\"74\" href=\"#74\">74</a>  <em class=\"comment\">           boolean success = resource.putMethod(resource.getPath() + \"/\" + f.getName(), stream);</em>\n<a name=\"75\" href=\"#75\">75</a>  <em class=\"comment\">           System.err.println(\"put: \" + success);</em>\n<a name=\"76\" href=\"#76\">76</a>  <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://localhost:9876/slide/\" target=\"alexandria_uri\">http://localhost:9876/slide/</a>\");</em>\n<a name=\"77\" href=\"#77\">77</a>  <em class=\"comment\">           PutMethod put = new PutMethod(url + f.getName());</em>\n<a name=\"78\" href=\"#78\">78</a>  <em class=\"comment\">           System.err.println(\"file name is\" + f.getName());</em>\n<a name=\"79\" href=\"#79\">79</a>  <em class=\"comment\">           // setting the dummy content to the FILE string</em>\n<a name=\"80\" href=\"#80\">80</a>  <em class=\"comment\">           put.setRequestBody(stream);</em>\n<a name=\"81\" href=\"#81\">81</a>  <em class=\"comment\">           HttpClient client = new HttpClient();</em>\n<a name=\"82\" href=\"#82\">82</a>  <em class=\"comment\">           System.err.println(\"put: \" + client.executeMethod(put) + \":\" + put.getStatusText());</em>\n<a name=\"83\" href=\"#83\">83</a>  <em class=\"comment\">       }</em>\n<a name=\"84\" href=\"#84\">84</a>  <em class=\"comment\">       public void testCopy() throws Exception</em>\n<a name=\"85\" href=\"#85\">85</a>  <em class=\"comment\">       {</em>\n<a name=\"86\" href=\"#86\">86</a>  <em class=\"comment\">           System.out.println(\"test copy\");</em>\n<a name=\"87\" href=\"#87\">87</a>  <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://localhost:9876/swirl/\" target=\"alexandria_uri\">http://localhost:9876/swirl/</a>\");</em>\n<a name=\"88\" href=\"#88\">88</a>  <em class=\"comment\">           //url.setUserinfo(\"root\", \"root\");</em>\n<a name=\"89\" href=\"#89\">89</a>  <em class=\"comment\">           WebdavResource resource = new WebdavResource(url);</em>\n<a name=\"90\" href=\"#90\">90</a>  <em class=\"comment\">           System.err.println(\"the path is : \" + resource.getPath());</em>\n<a name=\"91\" href=\"#91\">91</a>  <em class=\"comment\">           System.err.println(\"exists: \" + resource.exists());</em>\n<a name=\"92\" href=\"#92\">92</a>  <em class=\"comment\">           System.err.println(\"isCollection: \" + resource.isCollection());</em>\n<a name=\"93\" href=\"#93\">93</a>  <em class=\"comment\">           url = new HttpURL(\"<a href=\"http://localhost:9876/swirl/test.txt\" target=\"alexandria_uri\">http://localhost:9876/swirl/test.txt</a>\");</em>\n<a name=\"94\" href=\"#94\">94</a>  <em class=\"comment\">           WebdavResource file = new WebdavResource(url);</em>\n<a name=\"95\" href=\"#95\">95</a>  <em class=\"comment\">           //url = new HttpURL(\"C:&#47;&#47;dingx&#47;&#47;svg.svg\");</em>\n<a name=\"96\" href=\"#96\">96</a>  <em class=\"comment\">           //File f = new File(\"C:&#47;&#47;dingx&#47;&#47;svg.svg\");</em>\n<a name=\"97\" href=\"#97\">97</a>  <em class=\"comment\">           WebdavFile f = new WebdavFile(url);</em>\n<a name=\"98\" href=\"#98\">98</a>  <em class=\"comment\">           System.err.println(\"file name is: \" + f.getName());</em>\n<a name=\"99\" href=\"#99\">99</a>  <em class=\"comment\">           //System.err.println(\"file length is\" + file.length());</em>\n<a name=\"100\" href=\"#100\">100</a> <em class=\"comment\">           //boolean success = file.copyMethod(resource.getPath());</em>\n<a name=\"101\" href=\"#101\">101</a> <em class=\"comment\">           boolean success = file.copyMethod(\"test/\");</em>\n<a name=\"102\" href=\"#102\">102</a> <em class=\"comment\">           System.err.println(\"status is \" + file.getStatusMessage());</em>\n<a name=\"103\" href=\"#103\">103</a> <em class=\"comment\">           System.err.println(\"success is \" + success);</em>\n<a name=\"104\" href=\"#104\">104</a> <em class=\"comment\">           String[] list = resource.list();</em>\n<a name=\"105\" href=\"#105\">105</a> <em class=\"comment\">           WebdavResources resources = resource.getChildResources();</em>\n<a name=\"106\" href=\"#106\">106</a> <em class=\"comment\">           for(Enumeration en = resources.getResources(); en.hasMoreElements(); )</em>\n<a name=\"107\" href=\"#107\">107</a> <em class=\"comment\">           {</em>\n<a name=\"108\" href=\"#108\">108</a> <em class=\"comment\">               WebdavResource res = (WebdavResource)en.nextElement();</em>\n<a name=\"109\" href=\"#109\">109</a> <em class=\"comment\">               System.out.println(\"res: \" + res + \"  isCollection: \" + res.isCollection());</em>\n<a name=\"110\" href=\"#110\">110</a> <em class=\"comment\">           }</em>\n<a name=\"111\" href=\"#111\">111</a> <em class=\"comment\">           //success = file.deleteMethod();</em>\n<a name=\"112\" href=\"#112\">112</a> <em class=\"comment\">           //System.err.println(\"delete success is \" + success);</em>\n<a name=\"113\" href=\"#113\">113</a> <em class=\"comment\">       }</em>\n<a name=\"114\" href=\"#114\">114</a> <em class=\"comment\">       public void testMove() throws Exception</em>\n<a name=\"115\" href=\"#115\">115</a> <em class=\"comment\">       {</em>\n<a name=\"116\" href=\"#116\">116</a> <em class=\"comment\">           System.out.println(\"test copy\");</em>\n<a name=\"117\" href=\"#117\">117</a> <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://128.195.30.104:9876/slide/\" target=\"alexandria_uri\">http://128.195.30.104:9876/slide/</a>\");</em>\n<a name=\"118\" href=\"#118\">118</a> <em class=\"comment\">           //url.setUserinfo(\"root\", \"root\");</em>\n<a name=\"119\" href=\"#119\">119</a> <em class=\"comment\">           WebdavResource resource = new WebdavResource(url);</em>\n<a name=\"120\" href=\"#120\">120</a> <em class=\"comment\">           System.err.println(\"the path is : \" + resource.getPath());</em>\n<a name=\"121\" href=\"#121\">121</a> <em class=\"comment\">           System.err.println(\"exists: \" + resource.exists());</em>\n<a name=\"122\" href=\"#122\">122</a> <em class=\"comment\">           System.err.println(\"isCollection: \" + resource.isCollection());</em>\n<a name=\"123\" href=\"#123\">123</a> <em class=\"comment\">           url = new HttpURL(\"<a href=\"http://localhost:9876/slide/control.xml\" target=\"alexandria_uri\">http://localhost:9876/slide/control.xml</a>\");</em>\n<a name=\"124\" href=\"#124\">124</a> <em class=\"comment\">           WebdavResource file = new WebdavResource(url);</em>\n<a name=\"125\" href=\"#125\">125</a> <em class=\"comment\">           //url = new HttpURL(\"C:&#47;&#47;dingx&#47;&#47;svg.svg\");</em>\n<a name=\"126\" href=\"#126\">126</a> <em class=\"comment\">           //File f = new File(\"C:&#47;&#47;dingx&#47;&#47;svg.svg\");</em>\n<a name=\"127\" href=\"#127\">127</a> <em class=\"comment\">           WebdavFile f = new WebdavFile(url);</em>\n<a name=\"128\" href=\"#128\">128</a> <em class=\"comment\">           //System.err.println(\"file length is\" + file.length());</em>\n<a name=\"129\" href=\"#129\">129</a> <em class=\"comment\">           boolean success = resource.putMethod(resource.getPath() + \"/\" + f.getName(), file.getMethodData());</em>\n<a name=\"130\" href=\"#130\">130</a> <em class=\"comment\">           System.err.println(\"success is \" + success);</em>\n<a name=\"131\" href=\"#131\">131</a> <em class=\"comment\">           String[] list = resource.list();</em>\n<a name=\"132\" href=\"#132\">132</a> <em class=\"comment\">           WebdavResources resources = resource.getChildResources();</em>\n<a name=\"133\" href=\"#133\">133</a> <em class=\"comment\">           for(Enumeration en = resources.getResources(); en.hasMoreElements(); )</em>\n<a name=\"134\" href=\"#134\">134</a> <em class=\"comment\">           {</em>\n<a name=\"135\" href=\"#135\">135</a> <em class=\"comment\">               WebdavResource res = (WebdavResource)en.nextElement();</em>\n<a name=\"136\" href=\"#136\">136</a> <em class=\"comment\">               System.out.println(\"res: \" + res + \"  isCollection: \" + res.isCollection());</em>\n<a name=\"137\" href=\"#137\">137</a> <em class=\"comment\">           }</em>\n<a name=\"138\" href=\"#138\">138</a> <em class=\"comment\">           //success = file.deleteMethod();</em>\n<a name=\"139\" href=\"#139\">139</a> <em class=\"comment\">           //System.err.println(\"delete success is \" + success);</em>\n<a name=\"140\" href=\"#140\">140</a> <em class=\"comment\">       }</em>\n<a name=\"141\" href=\"#141\">141</a> <em class=\"comment\">       public void testPropertySet() throws Exception</em>\n<a name=\"142\" href=\"#142\">142</a> <em class=\"comment\">       {</em>\n<a name=\"143\" href=\"#143\">143</a> <em class=\"comment\">           System.out.println(\"test PropertySet\");</em>\n<a name=\"144\" href=\"#144\">144</a> <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://128.195.30.105:9876/slide/\" target=\"alexandria_uri\">http://128.195.30.105:9876/slide/</a>\");</em>\n<a name=\"145\" href=\"#145\">145</a> <em class=\"comment\">           WebdavResource resource = new WebdavResource(url);</em>\n<a name=\"146\" href=\"#146\">146</a> <em class=\"comment\">           System.err.println(\"the path is : \" + resource.getPath());</em>\n<a name=\"147\" href=\"#147\">147</a> <em class=\"comment\">           System.err.println(\"exists: \" + resource.exists());</em>\n<a name=\"148\" href=\"#148\">148</a> <em class=\"comment\">           System.err.println(\"isCollection: \" + resource.isCollection());</em>\n<a name=\"149\" href=\"#149\">149</a> <em class=\"comment\">           String file = \"/slide/test1\";</em>\n<a name=\"150\" href=\"#150\">150</a> <em class=\"comment\">           String prop = \"newProp3\";</em>\n<a name=\"151\" href=\"#151\">151</a> <em class=\"comment\">           PropPatchMethod method = new PropPatchMethod(file);</em>\n<a name=\"152\" href=\"#152\">152</a> <em class=\"comment\">           method.addPropertyToSet(prop, \"1\");</em>\n<a name=\"153\" href=\"#153\">153</a> <em class=\"comment\">           System.err.println(\"method: \" + resource.executeHttpRequestMethod(</em>\n<a name=\"154\" href=\"#154\">154</a> <em class=\"comment\">                   resource.retrieveSessionInstance(), method)    + method.getStatusText());</em>\n<a name=\"155\" href=\"#155\">155</a> <em class=\"comment\">           DocumentLogger.logDocument(log, \"proppath response\", method.getResponseDocument());</em>\n<a name=\"156\" href=\"#156\">156</a> <em class=\"comment\">           Vector vProperties = new Vector(1);</em>\n<a name=\"157\" href=\"#157\">157</a> <em class=\"comment\">           vProperties.addElement(prop);</em>\n<a name=\"158\" href=\"#158\">158</a> <em class=\"comment\">           PropFindMethod propFind = new PropFindMethod(file,3, vProperties.elements());</em>\n<a name=\"159\" href=\"#159\">159</a> <em class=\"comment\">           System.err.println(\"method: \" + resource.executeHttpRequestMethod(</em>\n<a name=\"160\" href=\"#160\">160</a> <em class=\"comment\">                   resource.retrieveSessionInstance(), propFind) + propFind.getStatusText());</em>\n<a name=\"161\" href=\"#161\">161</a> <em class=\"comment\">           DocumentLogger.logDocument(log, \"propfind response\", method.getResponseDocument());</em>\n<a name=\"162\" href=\"#162\">162</a> <em class=\"comment\">           Enumeration enum = propFind.getResponseProperties(file);</em>\n<a name=\"163\" href=\"#163\">163</a> <em class=\"comment\">           //System.err.println(\"status is : \" + resource.getStatusMessage());</em>\n<a name=\"164\" href=\"#164\">164</a> <em class=\"comment\">           while(enum.hasMoreElements())</em>\n<a name=\"165\" href=\"#165\">165</a> <em class=\"comment\">           {</em>\n<a name=\"166\" href=\"#166\">166</a> <em class=\"comment\">               Object o = enum.nextElement();</em>\n<a name=\"167\" href=\"#167\">167</a> <em class=\"comment\">               System.out.println(\"o: \" + o);</em>\n<a name=\"168\" href=\"#168\">168</a> <em class=\"comment\">               Property p = (Property)o;</em>\n<a name=\"169\" href=\"#169\">169</a> <em class=\"comment\">               System.out.println(\"p.val\" + p.getElement());</em>\n<a name=\"170\" href=\"#170\">170</a> <em class=\"comment\">               //String s = (String)o;</em>\n<a name=\"171\" href=\"#171\">171</a> <em class=\"comment\">               //System.out.println(\"s: \" + s);</em>\n<a name=\"172\" href=\"#172\">172</a> <em class=\"comment\">           }</em>\n<a name=\"173\" href=\"#173\">173</a> <em class=\"comment\">       }</em>\n<a name=\"174\" href=\"#174\">174</a> <em class=\"comment\">       public void testPropertySet2() throws Exception</em>\n<a name=\"175\" href=\"#175\">175</a> <em class=\"comment\">       {</em>\n<a name=\"176\" href=\"#176\">176</a> <em class=\"comment\">           System.out.println(\"test PropertySet2\");</em>\n<a name=\"177\" href=\"#177\">177</a> <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://128.195.30.105:9876/swirl/\" target=\"alexandria_uri\">http://128.195.30.105:9876/swirl/</a>\");</em>\n<a name=\"178\" href=\"#178\">178</a> <em class=\"comment\">           WebdavResource resource = new WebdavResource(url);</em>\n<a name=\"179\" href=\"#179\">179</a> <em class=\"comment\">           String file = \"<a href=\"http://128.195.30.105:9876/swirl/test1\" target=\"alexandria_uri\">http://128.195.30.105:9876/swirl/test1</a>\";</em>\n<a name=\"180\" href=\"#180\">180</a> <em class=\"comment\">           PropertyName pn = new PropertyName(\"DAV:\", \"sharingDegree\");</em>\n<a name=\"181\" href=\"#181\">181</a> <em class=\"comment\">           //String prop = \"newProp4\";</em>\n<a name=\"182\" href=\"#182\">182</a> <em class=\"comment\">           boolean bset = resource.proppatchMethod(file, pn, \"somthin else\", true);</em>\n<a name=\"183\" href=\"#183\">183</a> <em class=\"comment\">           System.err.println(\"Setting property is : \" + bset);</em>\n<a name=\"184\" href=\"#184\">184</a> <em class=\"comment\">           System.err.println(\"status is : \" + resource.getStatusMessage());</em>\n<a name=\"185\" href=\"#185\">185</a> <em class=\"comment\">           Enumeration enum = resource.propfindMethod(file, \"sharingDegree\");</em>\n<a name=\"186\" href=\"#186\">186</a> <em class=\"comment\">           //System.err.println(\"status is : \" + resource.getStatusMessage());</em>\n<a name=\"187\" href=\"#187\">187</a> <em class=\"comment\">           while(enum.hasMoreElements())</em>\n<a name=\"188\" href=\"#188\">188</a> <em class=\"comment\">           {</em>\n<a name=\"189\" href=\"#189\">189</a> <em class=\"comment\">               Object o = enum.nextElement();</em>\n<a name=\"190\" href=\"#190\">190</a> <em class=\"comment\">               System.out.println(\"o: \" + o);</em>\n<a name=\"191\" href=\"#191\">191</a> <em class=\"comment\">               //String s = (String)o;</em>\n<a name=\"192\" href=\"#192\">192</a> <em class=\"comment\">               //System.out.println(\"s: \" + s);</em>\n<a name=\"193\" href=\"#193\">193</a> <em class=\"comment\">           }</em>\n<a name=\"194\" href=\"#194\">194</a> <em class=\"comment\">       }</em>\n<a name=\"195\" href=\"#195\">195</a> <em class=\"comment\">       public void testPropertyGet() throws Exception</em>\n<a name=\"196\" href=\"#196\">196</a> <em class=\"comment\">       {</em>\n<a name=\"197\" href=\"#197\">197</a> <em class=\"comment\">           System.out.println(\"test PropertyGet\");</em>\n<a name=\"198\" href=\"#198\">198</a> <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://128.195.30.105:9876/swirl/\" target=\"alexandria_uri\">http://128.195.30.105:9876/swirl/</a>\");</em>\n<a name=\"199\" href=\"#199\">199</a> <em class=\"comment\">           WebdavResource resource = new WebdavResource(url);</em>\n<a name=\"200\" href=\"#200\">200</a> <em class=\"comment\">           PropertyName pn = new PropertyName(\"DAV:\", \"sharingDegree\");</em>\n<a name=\"201\" href=\"#201\">201</a> <em class=\"comment\">           System.err.println(\"the path is : \" + resource.getPath());</em>\n<a name=\"202\" href=\"#202\">202</a> <em class=\"comment\">           System.err.println(\"exists: \" + resource.exists());</em>\n<a name=\"203\" href=\"#203\">203</a> <em class=\"comment\">           System.err.println(\"isCollection: \" + resource.isCollection());</em>\n<a name=\"204\" href=\"#204\">204</a> <em class=\"comment\">                   Enumeration enum = resource.propfindMethod(\"/swirl/test.doc\", \"sharingDegree\");</em>\n<a name=\"205\" href=\"#205\">205</a> <em class=\"comment\">           while(enum.hasMoreElements())</em>\n<a name=\"206\" href=\"#206\">206</a> <em class=\"comment\">           {</em>\n<a name=\"207\" href=\"#207\">207</a> <em class=\"comment\">               Object o = enum.nextElement();</em>\n<a name=\"208\" href=\"#208\">208</a> <em class=\"comment\">               System.out.println(\"o: \" + o);</em>\n<a name=\"209\" href=\"#209\">209</a> <em class=\"comment\">               String s = (String)o;</em>\n<a name=\"210\" href=\"#210\">210</a> <em class=\"comment\">               System.out.println(\"s: \" + s);</em>\n<a name=\"211\" href=\"#211\">211</a> <em class=\"comment\">           }</em>\n<a name=\"212\" href=\"#212\">212</a> <em class=\"comment\">       }</em>\n<a name=\"213\" href=\"#213\">213</a> <em class=\"comment\">       public void testLock() throws Exception</em>\n<a name=\"214\" href=\"#214\">214</a> <em class=\"comment\">       {</em>\n<a name=\"215\" href=\"#215\">215</a> <em class=\"comment\">           System.out.println(\"test lock\");</em>\n<a name=\"216\" href=\"#216\">216</a> <em class=\"comment\">           HttpURL url = new HttpURL(\"<a href=\"http://localhost:9876/slide/dingx\" target=\"alexandria_uri\">http://localhost:9876/slide/dingx</a>\");</em>\n<a name=\"217\" href=\"#217\">217</a> <em class=\"comment\">           //url.setUserinfo(\"root\", \"root\");</em>\n<a name=\"218\" href=\"#218\">218</a> <em class=\"comment\">           WebdavResource resource = new WebdavResource(url);</em>\n<a name=\"219\" href=\"#219\">219</a> <em class=\"comment\">           //resource.lockMethod();</em>\n<a name=\"220\" href=\"#220\">220</a> <em class=\"comment\">           System.err.println(\"exists: \" + resource.exists());</em>\n<a name=\"221\" href=\"#221\">221</a> <em class=\"comment\">           System.err.println(\"isCollection: \" + resource.isCollection());</em>\n<a name=\"222\" href=\"#222\">222</a> <em class=\"comment\">           url = new HttpURL(\"<a href=\"http://localhost:9876/swirl/control.xml_on_128.195.30.104:9876\" target=\"alexandria_uri\">http://localhost:9876/swirl/control.xml_on_128.195.30.104:9876</a>\");</em>\n<a name=\"223\" href=\"#223\">223</a> <em class=\"comment\">           WebdavResource file = new WebdavResource(url);</em>\n<a name=\"224\" href=\"#224\">224</a> <em class=\"comment\">           //file.lockMethod();</em>\n<a name=\"225\" href=\"#225\">225</a> <em class=\"comment\">           //url = new HttpURL(\"C:&#47;&#47;dingx&#47;&#47;svg.svg\");</em>\n<a name=\"226\" href=\"#226\">226</a> <em class=\"comment\">           //File f = new File(\"C:&#47;&#47;dingx&#47;&#47;svg.svg\");</em>\n<a name=\"227\" href=\"#227\">227</a> <em class=\"comment\">           WebdavFile f = new WebdavFile(url);</em>\n<a name=\"228\" href=\"#228\">228</a> <em class=\"comment\">           //System.err.println(\"file length is\" + file.length());</em>\n<a name=\"229\" href=\"#229\">229</a> <em class=\"comment\">           boolean success = resource.putMethod(resource.getPath() + \"/\" + f.getName(), file.getMethodData());</em>\n<a name=\"230\" href=\"#230\">230</a> <em class=\"comment\">           System.err.println(\"success is \" + success);</em>\n<a name=\"231\" href=\"#231\">231</a> <em class=\"comment\">           //file.unlockMethod();</em>\n<a name=\"232\" href=\"#232\">232</a> <em class=\"comment\">           //resource.unlockMethod();</em>\n<a name=\"233\" href=\"#233\">233</a> <em class=\"comment\">           String[] list = resource.list();</em>\n<a name=\"234\" href=\"#234\">234</a> <em class=\"comment\">           WebdavResources resources = resource.getChildResources();</em>\n<a name=\"235\" href=\"#235\">235</a> <em class=\"comment\">           for(Enumeration en = resources.getResources(); en.hasMoreElements(); )</em>\n<a name=\"236\" href=\"#236\">236</a> <em class=\"comment\">           {</em>\n<a name=\"237\" href=\"#237\">237</a> <em class=\"comment\">               WebdavResource res = (WebdavResource)en.nextElement();</em>\n<a name=\"238\" href=\"#238\">238</a> <em class=\"comment\">               System.out.println(\"res: \" + res + \"  isCollection: \" + res.isCollection());</em>\n<a name=\"239\" href=\"#239\">239</a> <em class=\"comment\">           }</em>\n<a name=\"240\" href=\"#240\">240</a> <em class=\"comment\">           //success = file.deleteMethod();</em>\n<a name=\"241\" href=\"#241\">241</a> <em class=\"comment\">           System.err.println(\"delete success is \" + success);</em>\n<a name=\"242\" href=\"#242\">242</a> <em class=\"comment\">       }</em>\n<a name=\"243\" href=\"#243\">243</a> <em class=\"comment\">       public void testResource() throws Exception</em>\n<a name=\"244\" href=\"#244\">244</a> <em class=\"comment\">       {</em>\n<a name=\"245\" href=\"#245\">245</a> <em class=\"comment\">               }</em>\n<a name=\"246\" href=\"#246\">246</a> <em class=\"comment\">     */</em>\n<a name=\"247\" href=\"#247\">247</a> }\n</pre>\n<hr/><div id=\"footer\">This page was automatically generated by <a href=\"http://maven.apache.org/\">Maven</a></div></body>\n</html>\n\n", "id": 32805.0}