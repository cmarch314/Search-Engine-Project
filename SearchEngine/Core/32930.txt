{"text": "View Javadoc 1 package swirl workspace viz 2 3 import java awt BorderLayout 4 import java awt Color 5 import java awt event ActionEvent 6 import java util Collections 7 import java util Iterator 8 import java util LinkedList 9 import java util List 1 import java util Map 11 import java util Set 12 13 import javax swing JFrame 14 import javax swing SwingUtilities 15 16 import org apache commons logging Log 17 import org apache commons logging LogFactory 18 19 import swirl workspace Peer 2 import swirl workspace messages MessageProcessor 21 import swirl workspace viz pie FileElement 22 import edu uci ics jung graph DirectedEdge 23 import edu uci ics jung graph Edge 24 import edu uci ics jung graph Graph 25 import edu uci ics jung graph Vertex 26 import edu uci ics jung graph decorators StringLabeller 27 import edu uci ics jung graph impl DirectedSparseEdge 28 import edu uci ics jung graph impl DirectedSparseGraph 29 import edu uci ics jung graph impl DirectedSparseVertex 3 import edu uci ics jung utils UserData 31 import edu uci ics jung visualization GraphDraw 32 import edu uci ics jung visualization LayoutMutable 33 import edu uci ics jung visualization VisualizationViewer 34 import edu uci ics jung visualization SpringLayout UnitLengthFunction 35 import edu uci ics jung visualization graphdraw EdgeColorFunction 36 import edu uci ics jung visualization graphdraw SettableRenderer 37 import edu uci ics jung visualization graphdraw VertexColorFunction 38 39 4 WebDAV visualization This class displays the WebDAV accesses between Swirl 41 servers Display is done through JUNG 42 43 public class WebDAVVisualization extends BaseVisualizer implements Controller 44 MessageProcessor 45 46 TODO 47 private static final long serialVersionUID 1L 48 49 TODO 5 protected Log log LogFactory getLog this getClass 51 52 TODO 53 boolean started false 54 55 TODO 56 private final Color edgeHideColor new Color 255 57 58 TODO 59 private final Color edgeShowColor new Color 255 255 6 61 TODO 62 private final Color receiverColor Color red 63 64 TODO 65 private final Color senderColor Color green 66 67 TODO 68 private final Color vertexBG Color blue 69 7 TODO 71 private final Color vertexFG Color blue 72 73 TODO 74 private Graph g 75 76 TODO 77 private GraphDraw gd 78 79 our own service type 8 81 TODO 82 private JFrame jf 83 84 TODO 85 private LayoutMutable layout 86 87 TODO 88 private MyEdgeStringer es 89 9 TODO 91 private final String edgeShow Show 92 93 TODO 94 private final String edgeType edgeType 95 96 TODO 97 private final String inactive inactive 98 99 TODO 1 private final String vertexReceiver Receiver 1 1 1 2 TODO 1 3 private final String vertexSender Sender 1 4 1 5 TODO 1 6 private final String vertexType vertexType 1 7 1 8 TODO 1 9 private StringLabeller sl 11 111 TODO 112 private VisualizationViewer vv 113 114 TODO 115 private final int edgeLength 12 116 117 The messages is a queue that stores every access message The message will 118 stay on for a while Then it will be turned off by the animator thread 119 12 TODO 121 private final int messageDuration 1 122 123 TODO 124 private List messages 125 126 TODO 127 private Thread animatorThread 128 129 13 Creates a new WebDAVVisualization object 131 132 public WebDAVVisualization 133 134 if log isDebugEnabled 135 136 log debug 137 138 139 g new DirectedSparseGraph 14 sl StringLabeller getLabeller g 141 es new MyEdgeStringer g 142 gd new GraphDraw g 143 144 SettableRenderer sr new SettableRenderer sl es 145 146 gd setRenderer sr 147 layout new edu uci ics jung visualization SpringLayout g 148 new UnitLengthFunction edgeLength 149 gd setGraphLayout layout 15 vv gd getVisualizationViewer 151 sr setEdgeColorFunction new EdgeColorFunction 152 153 public Color getEdgeColor Edge e 154 155 if edgeShow equals e getUserDatum edgeType 156 157 return edgeShowColor 158 159 else 16 161 return edgeHideColor 162 163 164 165 sr setVertexColorFunction new VertexColorFunction 166 167 public Color getForeColor Vertex v 168 169 return vertexFG 17 171 172 public Color getBackColor Vertex v 173 174 if vertexSender equals v getUserDatum vertexType 175 176 return senderColor 177 178 else if vertexReceiver equals v getUserDatum vertexType 179 18 return receiverColor 181 182 else 183 184 return vertexBG 185 186 187 188 messages Collections synchronizedList new LinkedList 189 animatorThread new Thread 19 191 public void run 192 193 while started 194 195 try 196 197 Thread sleep messageDuration 198 199 catch InterruptedException ie 2 2 1 long currentTime System currentTimeMillis 2 2 2 3 while true 2 4 2 5 if messages isEmpty 2 6 2 7 break 2 8 2 9 21 MessageEntry head MessageEntry messages get 211 212 if head startTime messageDuration currentTime 213 214 break 215 216 217 head e setUserDatum edgeType inactive 218 UserData CLONE 219 head sender setUserDatum vertexType inactive 22 UserData CLONE 221 head receiver setUserDatum vertexType inactive 222 UserData CLONE 223 messages remove 224 225 226 227 228 229 animatorThread start 23 this setLayout new BorderLayout 231 add gd BorderLayout CENTER 232 233 234 235 TODO 236 237 return TODO 238 239 public Controller getController 24 241 return this 242 243 244 245 TODO 246 247 return TODO 248 249 public Model getModel 25 251 return null 252 253 254 255 TODO 256 257 return TODO 258 259 public String getName 26 261 return WebDAV Visualization 262 263 264 265 TODO 266 267 return TODO 268 269 public View getView 27 271 return this 272 273 274 275 TODO 276 277 param e TODO 278 279 public void actionPerformed ActionEvent e 28 281 282 TODO 283 284 param msg TODO 285 286 public void processMessage Map msg 287 288 if log isDebugEnabled 289 29 log debug processMessage msg 291 292 293 String sender String msg get WEBDAV CLIENT 294 String receiver String msg get WEBDAV HOST 295 String command String msg get WEBDAV COMMAND 296 String path String msg get WEBDAV PATH 297 298 receiveMessage sender receiver command on path 299 3 3 1 3 2 private void removeVertex String sender String receiver String message 3 3 String name si getURL 3 4 hosts remove name 3 5 g removeVertex sl getVertex name 3 6 sl removeLabel name 3 7 3 8 3 9 public void receiveMessage final String sender final String receiver 31 final String message 311 312 if log isDebugEnabled 313 314 log debug receiveMessage sender receiver 315 message 316 317 318 SwingUtilities invokeLater new Runnable 319 32 public void run 321 322 vv suspend 323 324 Vertex vs getVertex sender 325 326 vs setUserDatum vertexType vertexSender UserData CLONE 327 328 Vertex vr getVertex receiver 329 33 vr setUserDatum vertexType vertexReceiver UserData CLONE 331 332 Edge e connectEdge vs vr message 333 334 e setUserDatum edgeType edgeShow UserData CLONE 335 336 record the current message 337 messages add new MessageEntry System currentTimeMillis 338 message e vs vr 339 34 synchronized gd 341 342 layout update 343 344 345 if vv isVisRunnerRunning 346 347 vv init 348 349 else 35 351 vv unsuspend 352 353 354 vv repaint 355 gd repaint 356 357 358 359 36 361 TODO 362 363 public void start 364 365 if log isDebugEnabled 366 367 log debug starting 368 369 37 started true 371 animatorThread start 372 373 if log isDebugEnabled 374 375 log debug started 376 377 378 379 38 TODO 381 382 public void stop 383 384 if log isDebugEnabled 385 386 log debug stopping 387 388 389 started false 39 391 if log isDebugEnabled 392 393 log debug stopped 394 395 396 397 398 TODO 399 4 param peer TODO 4 1 4 2 public void userJoined Peer peer 4 3 4 4 4 5 TODO 4 6 4 7 param name TODO 4 8 4 9 return TODO 41 411 private Vertex getVertex String name 412 413 if log isDebugEnabled 414 415 log debug getVertex name 416 417 418 Vertex v sl getVertex name 419 42 if v null 421 422 add a node 423 v new DirectedSparseVertex 424 g addVertex v 425 426 set a label 427 try 428 429 sl setLabel v name 43 431 catch Exception e 432 433 e printStackTrace 434 435 436 437 return v 438 439 44 441 TODO 442 443 param sender TODO 444 param receiver TODO 445 param label TODO 446 447 return TODO 448 449 private Edge connectEdge Vertex sender Vertex receiver String label 45 451 if log isDebugEnabled 452 453 log debug connectEdge sender receiver label 454 455 456 Set eges g getEdges 457 DirectedEdge thisEdge null 458 459 for Iterator i eges iterator i hasNext 46 461 DirectedEdge testEdge DirectedEdge i next 462 463 464 Pair vs testEdge getEndpoints 465 if sender equals vs getFirst receiver equals vs getSecond 466 467 sender equals vs getSecond receiver equals vs getFirst 468 469 if sender equals testEdge getSource 47 receiver equals testEdge getDest 471 472 thisEdge testEdge 473 474 break 475 476 477 478 if thisEdge null 479 48 thisEdge new DirectedSparseEdge sender receiver 481 g addEdge thisEdge 482 483 484 es setLabel thisEdge label 485 486 return thisEdge 487 488 489 non Javadoc 49 see swirl workspace viz ModelListener flashIt swirl workspace viz pie FileElement java lang String 491 492 public void flashIt FileElement fe String uColor 493 TODO Auto generated method stub 494 495 496 497 non Javadoc 498 see swirl workspace viz ModelListener backupPromotedToPersistent swirl workspace viz pie FileElement 499 5 public void backupPromotedToPersistent FileElement file 5 1 TODO Auto generated method stub 5 2 5 3 5 4 5 5 non Javadoc 5 6 see swirl workspace viz ModelListener fileUpdated swirl workspace viz pie FileElement 5 7 5 8 public void fileUpdated FileElement file 5 9 TODO Auto generated method stub 51 511 512 513 non Javadoc 514 see swirl workspace messages MessageProcessor initialMessageProcessor 515 516 public void initializeMessageProcessor 517 TODO Auto generated method stub 518 519 52 521 This page was automatically generated by Maven", "_id": "http://drzaius.ics.uci.edu/~swirl/impromptu-0.20/xref/swirl/workspace/viz/WebDAVVisualization.html", "title": "webdavvisualization xref", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n<meta http-equiv=\"content-type\" content=\"text/html; charset=ISO-8859-1\" /><title>WebDAVVisualization xref</title>\n<link type=\"text/css\" rel=\"stylesheet\" href=\"../../../stylesheet.css\" />\n</head>\n<body>\n<div id=\"overview\"><a href=\"../../../../apidocs/swirl/workspace/viz/WebDAVVisualization.html\">View Javadoc</a></div><pre>\n\n<a name=\"1\" href=\"#1\">1</a>   <strong>package</strong> <a href=\"../../../swirl/workspace/viz/package-summary.html\">swirl.workspace.viz</a>;\n<a name=\"2\" href=\"#2\">2</a>   \n<a name=\"3\" href=\"#3\">3</a>   <strong>import</strong> java.awt.BorderLayout;\n<a name=\"4\" href=\"#4\">4</a>   <strong>import</strong> java.awt.Color;\n<a name=\"5\" href=\"#5\">5</a>   <strong>import</strong> java.awt.event.ActionEvent;\n<a name=\"6\" href=\"#6\">6</a>   <strong>import</strong> java.util.Collections;\n<a name=\"7\" href=\"#7\">7</a>   <strong>import</strong> java.util.Iterator;\n<a name=\"8\" href=\"#8\">8</a>   <strong>import</strong> java.util.LinkedList;\n<a name=\"9\" href=\"#9\">9</a>   <strong>import</strong> java.util.List;\n<a name=\"10\" href=\"#10\">10</a>  <strong>import</strong> java.util.Map;\n<a name=\"11\" href=\"#11\">11</a>  <strong>import</strong> java.util.Set;\n<a name=\"12\" href=\"#12\">12</a>  \n<a name=\"13\" href=\"#13\">13</a>  <strong>import</strong> javax.swing.JFrame;\n<a name=\"14\" href=\"#14\">14</a>  <strong>import</strong> javax.swing.SwingUtilities;\n<a name=\"15\" href=\"#15\">15</a>  \n<a name=\"16\" href=\"#16\">16</a>  <strong>import</strong> org.apache.commons.logging.Log;\n<a name=\"17\" href=\"#17\">17</a>  <strong>import</strong> org.apache.commons.logging.LogFactory;\n<a name=\"18\" href=\"#18\">18</a>  \n<a name=\"19\" href=\"#19\">19</a>  <strong>import</strong> swirl.workspace.Peer;\n<a name=\"20\" href=\"#20\">20</a>  <strong>import</strong> swirl.workspace.messages.MessageProcessor;\n<a name=\"21\" href=\"#21\">21</a>  <strong>import</strong> swirl.workspace.viz.pie.FileElement;\n<a name=\"22\" href=\"#22\">22</a>  <strong>import</strong> edu.uci.ics.jung.graph.DirectedEdge;\n<a name=\"23\" href=\"#23\">23</a>  <strong>import</strong> edu.uci.ics.jung.graph.Edge;\n<a name=\"24\" href=\"#24\">24</a>  <strong>import</strong> edu.uci.ics.jung.graph.Graph;\n<a name=\"25\" href=\"#25\">25</a>  <strong>import</strong> edu.uci.ics.jung.graph.Vertex;\n<a name=\"26\" href=\"#26\">26</a>  <strong>import</strong> edu.uci.ics.jung.graph.decorators.StringLabeller;\n<a name=\"27\" href=\"#27\">27</a>  <strong>import</strong> edu.uci.ics.jung.graph.impl.DirectedSparseEdge;\n<a name=\"28\" href=\"#28\">28</a>  <strong>import</strong> edu.uci.ics.jung.graph.impl.DirectedSparseGraph;\n<a name=\"29\" href=\"#29\">29</a>  <strong>import</strong> edu.uci.ics.jung.graph.impl.DirectedSparseVertex;\n<a name=\"30\" href=\"#30\">30</a>  <strong>import</strong> edu.uci.ics.jung.utils.UserData;\n<a name=\"31\" href=\"#31\">31</a>  <strong>import</strong> edu.uci.ics.jung.visualization.GraphDraw;\n<a name=\"32\" href=\"#32\">32</a>  <strong>import</strong> edu.uci.ics.jung.visualization.LayoutMutable;\n<a name=\"33\" href=\"#33\">33</a>  <strong>import</strong> edu.uci.ics.jung.visualization.VisualizationViewer;\n<a name=\"34\" href=\"#34\">34</a>  <strong>import</strong> edu.uci.ics.jung.visualization.SpringLayout.UnitLengthFunction;\n<a name=\"35\" href=\"#35\">35</a>  <strong>import</strong> edu.uci.ics.jung.visualization.graphdraw.EdgeColorFunction;\n<a name=\"36\" href=\"#36\">36</a>  <strong>import</strong> edu.uci.ics.jung.visualization.graphdraw.SettableRenderer;\n<a name=\"37\" href=\"#37\">37</a>  <strong>import</strong> edu.uci.ics.jung.visualization.graphdraw.VertexColorFunction;\n<a name=\"38\" href=\"#38\">38</a>  \n<a name=\"39\" href=\"#39\">39</a>  <em>/**<em>*</em></em>\n<a name=\"40\" href=\"#40\">40</a>  <em> * WebDAV visualization. This class displays the WebDAV accesses between Swirl</em>\n<a name=\"41\" href=\"#41\">41</a>  <em> * servers. Display is done through JUNG.</em>\n<a name=\"42\" href=\"#42\">42</a>  <em> */</em>\n<a name=\"43\" href=\"#43\">43</a>  <strong>public</strong> <strong>class</strong> <a href=\"../../../swirl/workspace/viz/WebDAVVisualization.html\">WebDAVVisualization</a> <strong>extends</strong> <a href=\"../../../swirl/workspace/viz/BaseVisualizer.html\">BaseVisualizer</a> implements Controller,\n<a name=\"44\" href=\"#44\">44</a>                                                                     <a href=\"../../../swirl/workspace/messages/MessageProcessor.html\">MessageProcessor</a>\n<a name=\"45\" href=\"#45\">45</a>  {\n<a name=\"46\" href=\"#46\">46</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"47\" href=\"#47\">47</a>      <strong>private</strong> <strong>static</strong> <strong>final</strong> <strong>long</strong> serialVersionUID = 1L;\n<a name=\"48\" href=\"#48\">48</a>  \n<a name=\"49\" href=\"#49\">49</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"50\" href=\"#50\">50</a>      <strong>protected</strong> Log log = LogFactory.getLog(<strong>this</strong>.getClass());\n<a name=\"51\" href=\"#51\">51</a>  \n<a name=\"52\" href=\"#52\">52</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"53\" href=\"#53\">53</a>      <strong>boolean</strong> started = false;\n<a name=\"54\" href=\"#54\">54</a>  \n<a name=\"55\" href=\"#55\">55</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"56\" href=\"#56\">56</a>      <strong>private</strong> <strong>final</strong> Color edgeHideColor = <strong>new</strong> Color(255, 0, 0, 0);\n<a name=\"57\" href=\"#57\">57</a>  \n<a name=\"58\" href=\"#58\">58</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"59\" href=\"#59\">59</a>      <strong>private</strong> <strong>final</strong> Color edgeShowColor = <strong>new</strong> Color(255, 0, 0, 255);\n<a name=\"60\" href=\"#60\">60</a>  \n<a name=\"61\" href=\"#61\">61</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"62\" href=\"#62\">62</a>      <strong>private</strong> <strong>final</strong> Color receiverColor = Color.red;\n<a name=\"63\" href=\"#63\">63</a>  \n<a name=\"64\" href=\"#64\">64</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"65\" href=\"#65\">65</a>      <strong>private</strong> <strong>final</strong> Color senderColor = Color.green;\n<a name=\"66\" href=\"#66\">66</a>  \n<a name=\"67\" href=\"#67\">67</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"68\" href=\"#68\">68</a>      <strong>private</strong> <strong>final</strong> Color vertexBG = Color.blue;\n<a name=\"69\" href=\"#69\">69</a>  \n<a name=\"70\" href=\"#70\">70</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"71\" href=\"#71\">71</a>      <strong>private</strong> <strong>final</strong> Color vertexFG = Color.blue;\n<a name=\"72\" href=\"#72\">72</a>  \n<a name=\"73\" href=\"#73\">73</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"74\" href=\"#74\">74</a>      <strong>private</strong> Graph g;\n<a name=\"75\" href=\"#75\">75</a>  \n<a name=\"76\" href=\"#76\">76</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"77\" href=\"#77\">77</a>      <strong>private</strong> GraphDraw gd;\n<a name=\"78\" href=\"#78\">78</a>  \n<a name=\"79\" href=\"#79\">79</a>      <em class=\"comment\">// our own service type</em>\n<a name=\"80\" href=\"#80\">80</a>  \n<a name=\"81\" href=\"#81\">81</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"82\" href=\"#82\">82</a>      <strong>private</strong> JFrame jf;\n<a name=\"83\" href=\"#83\">83</a>  \n<a name=\"84\" href=\"#84\">84</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"85\" href=\"#85\">85</a>      <strong>private</strong> LayoutMutable layout;\n<a name=\"86\" href=\"#86\">86</a>  \n<a name=\"87\" href=\"#87\">87</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"88\" href=\"#88\">88</a>      <strong>private</strong> <a href=\"../../../swirl/workspace/viz/MyEdgeStringer.html\">MyEdgeStringer</a> es;\n<a name=\"89\" href=\"#89\">89</a>  \n<a name=\"90\" href=\"#90\">90</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"91\" href=\"#91\">91</a>      <strong>private</strong> <strong>final</strong> String edgeShow = <span class=\"string\">\"Show\"</span>;\n<a name=\"92\" href=\"#92\">92</a>  \n<a name=\"93\" href=\"#93\">93</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"94\" href=\"#94\">94</a>      <strong>private</strong> <strong>final</strong> String edgeType = <span class=\"string\">\"edgeType\"</span>;\n<a name=\"95\" href=\"#95\">95</a>  \n<a name=\"96\" href=\"#96\">96</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"97\" href=\"#97\">97</a>      <strong>private</strong> <strong>final</strong> String inactive = <span class=\"string\">\"inactive\"</span>;\n<a name=\"98\" href=\"#98\">98</a>  \n<a name=\"99\" href=\"#99\">99</a>      <em>/**<em>* TODO */</em></em>\n<a name=\"100\" href=\"#100\">100</a>     <strong>private</strong> <strong>final</strong> String vertexReceiver = <span class=\"string\">\"Receiver\"</span>;\n<a name=\"101\" href=\"#101\">101</a> \n<a name=\"102\" href=\"#102\">102</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"103\" href=\"#103\">103</a>     <strong>private</strong> <strong>final</strong> String vertexSender = <span class=\"string\">\"Sender\"</span>;\n<a name=\"104\" href=\"#104\">104</a> \n<a name=\"105\" href=\"#105\">105</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"106\" href=\"#106\">106</a>     <strong>private</strong> <strong>final</strong> String vertexType = <span class=\"string\">\"vertexType\"</span>;\n<a name=\"107\" href=\"#107\">107</a> \n<a name=\"108\" href=\"#108\">108</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"109\" href=\"#109\">109</a>     <strong>private</strong> StringLabeller sl;\n<a name=\"110\" href=\"#110\">110</a> \n<a name=\"111\" href=\"#111\">111</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"112\" href=\"#112\">112</a>     <strong>private</strong> VisualizationViewer vv;\n<a name=\"113\" href=\"#113\">113</a> \n<a name=\"114\" href=\"#114\">114</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"115\" href=\"#115\">115</a>     <strong>private</strong> <strong>final</strong> <strong>int</strong> edgeLength = 120;\n<a name=\"116\" href=\"#116\">116</a> \n<a name=\"117\" href=\"#117\">117</a>     <em class=\"comment\">// The messages is a queue that stores every access message. The message will</em>\n<a name=\"118\" href=\"#118\">118</a>     <em class=\"comment\">//\t\tstay on for a while. Then it will be turned off by the animator thread</em>\n<a name=\"119\" href=\"#119\">119</a> \n<a name=\"120\" href=\"#120\">120</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"121\" href=\"#121\">121</a>     <strong>private</strong> <strong>final</strong> <strong>int</strong> messageDuration = 1000;\n<a name=\"122\" href=\"#122\">122</a> \n<a name=\"123\" href=\"#123\">123</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"124\" href=\"#124\">124</a>     <strong>private</strong> List messages;\n<a name=\"125\" href=\"#125\">125</a> \n<a name=\"126\" href=\"#126\">126</a>     <em>/**<em>* TODO */</em></em>\n<a name=\"127\" href=\"#127\">127</a>     <strong>private</strong> Thread animatorThread;\n<a name=\"128\" href=\"#128\">128</a> \n<a name=\"129\" href=\"#129\">129</a>     <em>/**<em>*</em></em>\n<a name=\"130\" href=\"#130\">130</a> <em>     * Creates a new WebDAVVisualization object.</em>\n<a name=\"131\" href=\"#131\">131</a> <em>     */</em>\n<a name=\"132\" href=\"#132\">132</a>     <strong>public</strong> <a href=\"../../../swirl/workspace/viz/WebDAVVisualization.html\">WebDAVVisualization</a>()\n<a name=\"133\" href=\"#133\">133</a>     {\n<a name=\"134\" href=\"#134\">134</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"135\" href=\"#135\">135</a>         {\n<a name=\"136\" href=\"#136\">136</a>             log.debug(<span class=\"string\">\"()\"</span>);\n<a name=\"137\" href=\"#137\">137</a>         }\n<a name=\"138\" href=\"#138\">138</a> \n<a name=\"139\" href=\"#139\">139</a>         g = <strong>new</strong> DirectedSparseGraph();\n<a name=\"140\" href=\"#140\">140</a>         sl = StringLabeller.getLabeller(g);\n<a name=\"141\" href=\"#141\">141</a>         es = <strong>new</strong> <a href=\"../../../swirl/workspace/viz/MyEdgeStringer.html\">MyEdgeStringer</a>(g);\n<a name=\"142\" href=\"#142\">142</a>         gd = <strong>new</strong> GraphDraw(g);\n<a name=\"143\" href=\"#143\">143</a> \n<a name=\"144\" href=\"#144\">144</a>         SettableRenderer sr = <strong>new</strong> SettableRenderer(sl, es);\n<a name=\"145\" href=\"#145\">145</a> \n<a name=\"146\" href=\"#146\">146</a>         gd.setRenderer(sr);\n<a name=\"147\" href=\"#147\">147</a>         layout = <strong>new</strong> edu.uci.ics.jung.visualization.SpringLayout(g,\n<a name=\"148\" href=\"#148\">148</a>                                                                  <strong>new</strong> UnitLengthFunction(edgeLength));\n<a name=\"149\" href=\"#149\">149</a>         gd.setGraphLayout(layout);\n<a name=\"150\" href=\"#150\">150</a>         vv = gd.getVisualizationViewer();\n<a name=\"151\" href=\"#151\">151</a>         sr.setEdgeColorFunction(<strong>new</strong> EdgeColorFunction()\n<a name=\"152\" href=\"#152\">152</a>             {\n<a name=\"153\" href=\"#153\">153</a>                 <strong>public</strong> Color getEdgeColor(Edge e)\n<a name=\"154\" href=\"#154\">154</a>                 {\n<a name=\"155\" href=\"#155\">155</a>                     <strong>if</strong>(edgeShow.equals(e.getUserDatum(edgeType)))\n<a name=\"156\" href=\"#156\">156</a>                     {\n<a name=\"157\" href=\"#157\">157</a>                         <strong>return</strong> edgeShowColor;\n<a name=\"158\" href=\"#158\">158</a>                     }\n<a name=\"159\" href=\"#159\">159</a>                     <strong>else</strong>\n<a name=\"160\" href=\"#160\">160</a>                     {\n<a name=\"161\" href=\"#161\">161</a>                         <strong>return</strong> edgeHideColor;\n<a name=\"162\" href=\"#162\">162</a>                     }\n<a name=\"163\" href=\"#163\">163</a>                 }\n<a name=\"164\" href=\"#164\">164</a>             });\n<a name=\"165\" href=\"#165\">165</a>         sr.setVertexColorFunction(<strong>new</strong> VertexColorFunction()\n<a name=\"166\" href=\"#166\">166</a>             {\n<a name=\"167\" href=\"#167\">167</a>                 <strong>public</strong> Color getForeColor(Vertex v)\n<a name=\"168\" href=\"#168\">168</a>                 {\n<a name=\"169\" href=\"#169\">169</a>                     <strong>return</strong> vertexFG;\n<a name=\"170\" href=\"#170\">170</a>                 }\n<a name=\"171\" href=\"#171\">171</a> \n<a name=\"172\" href=\"#172\">172</a>                 <strong>public</strong> Color getBackColor(Vertex v)\n<a name=\"173\" href=\"#173\">173</a>                 {\n<a name=\"174\" href=\"#174\">174</a>                     <strong>if</strong>(vertexSender.equals(v.getUserDatum(vertexType)))\n<a name=\"175\" href=\"#175\">175</a>                     {\n<a name=\"176\" href=\"#176\">176</a>                         <strong>return</strong> senderColor;\n<a name=\"177\" href=\"#177\">177</a>                     }\n<a name=\"178\" href=\"#178\">178</a>                     <strong>else</strong> <strong>if</strong>(vertexReceiver.equals(v.getUserDatum(vertexType)))\n<a name=\"179\" href=\"#179\">179</a>                     {\n<a name=\"180\" href=\"#180\">180</a>                         <strong>return</strong> receiverColor;\n<a name=\"181\" href=\"#181\">181</a>                     }\n<a name=\"182\" href=\"#182\">182</a>                     <strong>else</strong>\n<a name=\"183\" href=\"#183\">183</a>                     {\n<a name=\"184\" href=\"#184\">184</a>                         <strong>return</strong> vertexBG;\n<a name=\"185\" href=\"#185\">185</a>                     }\n<a name=\"186\" href=\"#186\">186</a>                 }\n<a name=\"187\" href=\"#187\">187</a>             });\n<a name=\"188\" href=\"#188\">188</a>         messages = Collections.synchronizedList(<strong>new</strong> LinkedList());\n<a name=\"189\" href=\"#189\">189</a>         animatorThread = <strong>new</strong> Thread()\n<a name=\"190\" href=\"#190\">190</a>             {\n<a name=\"191\" href=\"#191\">191</a>                 <strong>public</strong> <strong>void</strong> run()\n<a name=\"192\" href=\"#192\">192</a>                 {\n<a name=\"193\" href=\"#193\">193</a>                     <strong>while</strong>(started)\n<a name=\"194\" href=\"#194\">194</a>                     {\n<a name=\"195\" href=\"#195\">195</a>                         <strong>try</strong>\n<a name=\"196\" href=\"#196\">196</a>                         {\n<a name=\"197\" href=\"#197\">197</a>                             Thread.sleep(messageDuration);\n<a name=\"198\" href=\"#198\">198</a>                         }\n<a name=\"199\" href=\"#199\">199</a>                         <strong>catch</strong>(InterruptedException ie){}\n<a name=\"200\" href=\"#200\">200</a> \n<a name=\"201\" href=\"#201\">201</a>                         <strong>long</strong> currentTime = System.currentTimeMillis();\n<a name=\"202\" href=\"#202\">202</a> \n<a name=\"203\" href=\"#203\">203</a>                         <strong>while</strong>(<strong>true</strong>)\n<a name=\"204\" href=\"#204\">204</a>                         {\n<a name=\"205\" href=\"#205\">205</a>                             <strong>if</strong>(messages.isEmpty())\n<a name=\"206\" href=\"#206\">206</a>                             {\n<a name=\"207\" href=\"#207\">207</a>                                 <strong>break</strong>;\n<a name=\"208\" href=\"#208\">208</a>                             }\n<a name=\"209\" href=\"#209\">209</a> \n<a name=\"210\" href=\"#210\">210</a>                             <a href=\"../../../swirl/workspace/viz/MessageEntry.html\">MessageEntry</a> head = (MessageEntry)messages.get(0);\n<a name=\"211\" href=\"#211\">211</a> \n<a name=\"212\" href=\"#212\">212</a>                             <strong>if</strong>((head.startTime + messageDuration) > currentTime)\n<a name=\"213\" href=\"#213\">213</a>                             {\n<a name=\"214\" href=\"#214\">214</a>                                 <strong>break</strong>;\n<a name=\"215\" href=\"#215\">215</a>                             }\n<a name=\"216\" href=\"#216\">216</a> \n<a name=\"217\" href=\"#217\">217</a>                             head.e.setUserDatum(edgeType, inactive,\n<a name=\"218\" href=\"#218\">218</a>                                                 UserData.CLONE);\n<a name=\"219\" href=\"#219\">219</a>                             head.sender.setUserDatum(vertexType, inactive,\n<a name=\"220\" href=\"#220\">220</a>                                                      UserData.CLONE);\n<a name=\"221\" href=\"#221\">221</a>                             head.receiver.setUserDatum(vertexType, inactive,\n<a name=\"222\" href=\"#222\">222</a>                                                        UserData.CLONE);\n<a name=\"223\" href=\"#223\">223</a>                             messages.remove(0);\n<a name=\"224\" href=\"#224\">224</a>                         }\n<a name=\"225\" href=\"#225\">225</a>                     }\n<a name=\"226\" href=\"#226\">226</a>                 }\n<a name=\"227\" href=\"#227\">227</a>             };\n<a name=\"228\" href=\"#228\">228</a> \n<a name=\"229\" href=\"#229\">229</a>         <em class=\"comment\">//animatorThread.start();</em>\n<a name=\"230\" href=\"#230\">230</a>         <strong>this</strong>.setLayout(<strong>new</strong> BorderLayout());\n<a name=\"231\" href=\"#231\">231</a>         add(gd, BorderLayout.CENTER);\n<a name=\"232\" href=\"#232\">232</a>     }\n<a name=\"233\" href=\"#233\">233</a> \n<a name=\"234\" href=\"#234\">234</a>     <em>/**<em>*</em></em>\n<a name=\"235\" href=\"#235\">235</a> <em>     * TODO</em>\n<a name=\"236\" href=\"#236\">236</a> <em>     *</em>\n<a name=\"237\" href=\"#237\">237</a> <em>     * @return TODO</em>\n<a name=\"238\" href=\"#238\">238</a> <em>     */</em>\n<a name=\"239\" href=\"#239\">239</a>     <strong>public</strong> <a href=\"../../../swirl/workspace/viz/Controller.html\">Controller</a> getController()\n<a name=\"240\" href=\"#240\">240</a>     {\n<a name=\"241\" href=\"#241\">241</a>         <strong>return</strong> <strong>this</strong>;\n<a name=\"242\" href=\"#242\">242</a>     }\n<a name=\"243\" href=\"#243\">243</a> \n<a name=\"244\" href=\"#244\">244</a>     <em>/**<em>*</em></em>\n<a name=\"245\" href=\"#245\">245</a> <em>     * TODO</em>\n<a name=\"246\" href=\"#246\">246</a> <em>     *</em>\n<a name=\"247\" href=\"#247\">247</a> <em>     * @return TODO</em>\n<a name=\"248\" href=\"#248\">248</a> <em>     */</em>\n<a name=\"249\" href=\"#249\">249</a>     <strong>public</strong> <a href=\"../../../swirl/workspace/viz/Model.html\">Model</a> getModel()\n<a name=\"250\" href=\"#250\">250</a>     {\n<a name=\"251\" href=\"#251\">251</a>         <strong>return</strong> <strong>null</strong>;\n<a name=\"252\" href=\"#252\">252</a>     }\n<a name=\"253\" href=\"#253\">253</a> \n<a name=\"254\" href=\"#254\">254</a>     <em>/**<em>*</em></em>\n<a name=\"255\" href=\"#255\">255</a> <em>     * TODO</em>\n<a name=\"256\" href=\"#256\">256</a> <em>     *</em>\n<a name=\"257\" href=\"#257\">257</a> <em>     * @return TODO</em>\n<a name=\"258\" href=\"#258\">258</a> <em>     */</em>\n<a name=\"259\" href=\"#259\">259</a>     <strong>public</strong> String getName()\n<a name=\"260\" href=\"#260\">260</a>     {\n<a name=\"261\" href=\"#261\">261</a>         <strong>return</strong> <span class=\"string\">\"WebDAV Visualization\"</span>;\n<a name=\"262\" href=\"#262\">262</a>     }\n<a name=\"263\" href=\"#263\">263</a> \n<a name=\"264\" href=\"#264\">264</a>     <em>/**<em>*</em></em>\n<a name=\"265\" href=\"#265\">265</a> <em>     * TODO</em>\n<a name=\"266\" href=\"#266\">266</a> <em>     *</em>\n<a name=\"267\" href=\"#267\">267</a> <em>     * @return TODO</em>\n<a name=\"268\" href=\"#268\">268</a> <em>     */</em>\n<a name=\"269\" href=\"#269\">269</a>     <strong>public</strong> <a href=\"../../../swirl/workspace/viz/View.html\">View</a> getView()\n<a name=\"270\" href=\"#270\">270</a>     {\n<a name=\"271\" href=\"#271\">271</a>         <strong>return</strong> <strong>this</strong>;\n<a name=\"272\" href=\"#272\">272</a>     }\n<a name=\"273\" href=\"#273\">273</a> \n<a name=\"274\" href=\"#274\">274</a>     <em>/**<em>*</em></em>\n<a name=\"275\" href=\"#275\">275</a> <em>     * TODO</em>\n<a name=\"276\" href=\"#276\">276</a> <em>     *</em>\n<a name=\"277\" href=\"#277\">277</a> <em>     * @param e TODO</em>\n<a name=\"278\" href=\"#278\">278</a> <em>     */</em>\n<a name=\"279\" href=\"#279\">279</a>     <strong>public</strong> <strong>void</strong> actionPerformed(ActionEvent e){}\n<a name=\"280\" href=\"#280\">280</a> \n<a name=\"281\" href=\"#281\">281</a>     <em>/**<em>*</em></em>\n<a name=\"282\" href=\"#282\">282</a> <em>     * TODO</em>\n<a name=\"283\" href=\"#283\">283</a> <em>     *</em>\n<a name=\"284\" href=\"#284\">284</a> <em>     * @param msg TODO</em>\n<a name=\"285\" href=\"#285\">285</a> <em>     */</em>\n<a name=\"286\" href=\"#286\">286</a>     <strong>public</strong> <strong>void</strong> processMessage(Map msg)\n<a name=\"287\" href=\"#287\">287</a>     {\n<a name=\"288\" href=\"#288\">288</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"289\" href=\"#289\">289</a>         {\n<a name=\"290\" href=\"#290\">290</a>             log.debug(<span class=\"string\">\"processMessage(\"</span> + msg + <span class=\"string\">\")\"</span>);\n<a name=\"291\" href=\"#291\">291</a>         }\n<a name=\"292\" href=\"#292\">292</a> \n<a name=\"293\" href=\"#293\">293</a>         String sender = (String)msg.get(<span class=\"string\">\"WEBDAV_CLIENT\"</span>);\n<a name=\"294\" href=\"#294\">294</a>         String receiver = (String)msg.get(<span class=\"string\">\"WEBDAV_HOST\"</span>);\n<a name=\"295\" href=\"#295\">295</a>         String command = (String)msg.get(<span class=\"string\">\"WEBDAV_COMMAND\"</span>);\n<a name=\"296\" href=\"#296\">296</a>         String path = (String)msg.get(<span class=\"string\">\"WEBDAV_PATH\"</span>);\n<a name=\"297\" href=\"#297\">297</a> \n<a name=\"298\" href=\"#298\">298</a>         receiveMessage(sender, receiver, command + <span class=\"string\">\" on \"</span> + path);\n<a name=\"299\" href=\"#299\">299</a>     }\n<a name=\"300\" href=\"#300\">300</a> \n<a name=\"301\" href=\"#301\">301</a>     <em class=\"comment\">/*</em>\n<a name=\"302\" href=\"#302\">302</a> <em class=\"comment\">       private void removeVertex(String sender, String receiver, String message) {</em>\n<a name=\"303\" href=\"#303\">303</a> <em class=\"comment\">           String    name = si.getURL();</em>\n<a name=\"304\" href=\"#304\">304</a> <em class=\"comment\">           hosts.remove(name);</em>\n<a name=\"305\" href=\"#305\">305</a> <em class=\"comment\">           g.removeVertex(sl.getVertex(name));</em>\n<a name=\"306\" href=\"#306\">306</a> <em class=\"comment\">           sl.removeLabel(name);</em>\n<a name=\"307\" href=\"#307\">307</a> <em class=\"comment\">       }</em>\n<a name=\"308\" href=\"#308\">308</a> <em class=\"comment\">     */</em>\n<a name=\"309\" href=\"#309\">309</a>     <strong>public</strong> <strong>void</strong> receiveMessage(<strong>final</strong> String sender, <strong>final</strong> String receiver,\n<a name=\"310\" href=\"#310\">310</a>                                <strong>final</strong> String message)\n<a name=\"311\" href=\"#311\">311</a>     {\n<a name=\"312\" href=\"#312\">312</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"313\" href=\"#313\">313</a>         {\n<a name=\"314\" href=\"#314\">314</a>             log.debug(<span class=\"string\">\"receiveMessage(\"</span> + sender + <span class=\"string\">\", \"</span> + receiver + <span class=\"string\">\", \"</span>\n<a name=\"315\" href=\"#315\">315</a>                       + message + <span class=\"string\">\")\"</span>);\n<a name=\"316\" href=\"#316\">316</a>         }\n<a name=\"317\" href=\"#317\">317</a> \n<a name=\"318\" href=\"#318\">318</a>         SwingUtilities.invokeLater(<strong>new</strong> Runnable()\n<a name=\"319\" href=\"#319\">319</a>             {\n<a name=\"320\" href=\"#320\">320</a>                 <strong>public</strong> <strong>void</strong> run()\n<a name=\"321\" href=\"#321\">321</a>                 {\n<a name=\"322\" href=\"#322\">322</a>                     vv.suspend();\n<a name=\"323\" href=\"#323\">323</a> \n<a name=\"324\" href=\"#324\">324</a>                     Vertex vs = getVertex(sender);\n<a name=\"325\" href=\"#325\">325</a> \n<a name=\"326\" href=\"#326\">326</a>                     vs.setUserDatum(vertexType, vertexSender, UserData.CLONE);\n<a name=\"327\" href=\"#327\">327</a> \n<a name=\"328\" href=\"#328\">328</a>                     Vertex vr = getVertex(receiver);\n<a name=\"329\" href=\"#329\">329</a> \n<a name=\"330\" href=\"#330\">330</a>                     vr.setUserDatum(vertexType, vertexReceiver, UserData.CLONE);\n<a name=\"331\" href=\"#331\">331</a> \n<a name=\"332\" href=\"#332\">332</a>                     Edge e = connectEdge(vs, vr, message);\n<a name=\"333\" href=\"#333\">333</a> \n<a name=\"334\" href=\"#334\">334</a>                     e.setUserDatum(edgeType, edgeShow, UserData.CLONE);\n<a name=\"335\" href=\"#335\">335</a> \n<a name=\"336\" href=\"#336\">336</a>                     <em class=\"comment\">// record the current message</em>\n<a name=\"337\" href=\"#337\">337</a>                     messages.add(<strong>new</strong> <a href=\"../../../swirl/workspace/viz/MessageEntry.html\">MessageEntry</a>(System.currentTimeMillis(),\n<a name=\"338\" href=\"#338\">338</a>                                                   message, e, vs, vr));\n<a name=\"339\" href=\"#339\">339</a> \n<a name=\"340\" href=\"#340\">340</a>                     <strong>synchronized</strong>(gd)\n<a name=\"341\" href=\"#341\">341</a>                     {\n<a name=\"342\" href=\"#342\">342</a>                         layout.update();\n<a name=\"343\" href=\"#343\">343</a>                     }\n<a name=\"344\" href=\"#344\">344</a> \n<a name=\"345\" href=\"#345\">345</a>                     <strong>if</strong>(!vv.isVisRunnerRunning())\n<a name=\"346\" href=\"#346\">346</a>                     {\n<a name=\"347\" href=\"#347\">347</a>                         vv.init();\n<a name=\"348\" href=\"#348\">348</a>                     }\n<a name=\"349\" href=\"#349\">349</a>                     <strong>else</strong>\n<a name=\"350\" href=\"#350\">350</a>                     {\n<a name=\"351\" href=\"#351\">351</a>                         vv.unsuspend();\n<a name=\"352\" href=\"#352\">352</a>                     }\n<a name=\"353\" href=\"#353\">353</a> \n<a name=\"354\" href=\"#354\">354</a>                     vv.repaint();\n<a name=\"355\" href=\"#355\">355</a>                     gd.repaint();\n<a name=\"356\" href=\"#356\">356</a>                 }\n<a name=\"357\" href=\"#357\">357</a>             });\n<a name=\"358\" href=\"#358\">358</a>     }\n<a name=\"359\" href=\"#359\">359</a> \n<a name=\"360\" href=\"#360\">360</a>     <em>/**<em>*</em></em>\n<a name=\"361\" href=\"#361\">361</a> <em>     * TODO</em>\n<a name=\"362\" href=\"#362\">362</a> <em>     */</em>\n<a name=\"363\" href=\"#363\">363</a>     <strong>public</strong> <strong>void</strong> start()\n<a name=\"364\" href=\"#364\">364</a>     {\n<a name=\"365\" href=\"#365\">365</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"366\" href=\"#366\">366</a>         {\n<a name=\"367\" href=\"#367\">367</a>             log.debug(<span class=\"string\">\"starting\"</span>);\n<a name=\"368\" href=\"#368\">368</a>         }\n<a name=\"369\" href=\"#369\">369</a> \n<a name=\"370\" href=\"#370\">370</a>         started = <strong>true</strong>;\n<a name=\"371\" href=\"#371\">371</a>         animatorThread.start();\n<a name=\"372\" href=\"#372\">372</a> \n<a name=\"373\" href=\"#373\">373</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"374\" href=\"#374\">374</a>         {\n<a name=\"375\" href=\"#375\">375</a>             log.debug(<span class=\"string\">\"started\"</span>);\n<a name=\"376\" href=\"#376\">376</a>         }\n<a name=\"377\" href=\"#377\">377</a>     }\n<a name=\"378\" href=\"#378\">378</a> \n<a name=\"379\" href=\"#379\">379</a>     <em>/**<em>*</em></em>\n<a name=\"380\" href=\"#380\">380</a> <em>     * TODO</em>\n<a name=\"381\" href=\"#381\">381</a> <em>     */</em>\n<a name=\"382\" href=\"#382\">382</a>     <strong>public</strong> <strong>void</strong> stop()\n<a name=\"383\" href=\"#383\">383</a>     {\n<a name=\"384\" href=\"#384\">384</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"385\" href=\"#385\">385</a>         {\n<a name=\"386\" href=\"#386\">386</a>             log.debug(<span class=\"string\">\"stopping\"</span>);\n<a name=\"387\" href=\"#387\">387</a>         }\n<a name=\"388\" href=\"#388\">388</a> \n<a name=\"389\" href=\"#389\">389</a>         started = false;\n<a name=\"390\" href=\"#390\">390</a> \n<a name=\"391\" href=\"#391\">391</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"392\" href=\"#392\">392</a>         {\n<a name=\"393\" href=\"#393\">393</a>             log.debug(<span class=\"string\">\"stopped\"</span>);\n<a name=\"394\" href=\"#394\">394</a>         }\n<a name=\"395\" href=\"#395\">395</a>     }\n<a name=\"396\" href=\"#396\">396</a> \n<a name=\"397\" href=\"#397\">397</a>     <em>/**<em>*</em></em>\n<a name=\"398\" href=\"#398\">398</a> <em>     * TODO</em>\n<a name=\"399\" href=\"#399\">399</a> <em>     *</em>\n<a name=\"400\" href=\"#400\">400</a> <em>     * @param peer TODO</em>\n<a name=\"401\" href=\"#401\">401</a> <em>     */</em>\n<a name=\"402\" href=\"#402\">402</a>     <strong>public</strong> <strong>void</strong> userJoined(<a href=\"../../../swirl/workspace/Peer.html\">Peer</a> peer){}\n<a name=\"403\" href=\"#403\">403</a> \n<a name=\"404\" href=\"#404\">404</a>     <em>/**<em>*</em></em>\n<a name=\"405\" href=\"#405\">405</a> <em>     * TODO</em>\n<a name=\"406\" href=\"#406\">406</a> <em>     *</em>\n<a name=\"407\" href=\"#407\">407</a> <em>     * @param name TODO</em>\n<a name=\"408\" href=\"#408\">408</a> <em>     *</em>\n<a name=\"409\" href=\"#409\">409</a> <em>     * @return TODO</em>\n<a name=\"410\" href=\"#410\">410</a> <em>     */</em>\n<a name=\"411\" href=\"#411\">411</a>     <strong>private</strong> Vertex getVertex(String name)\n<a name=\"412\" href=\"#412\">412</a>     {\n<a name=\"413\" href=\"#413\">413</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"414\" href=\"#414\">414</a>         {\n<a name=\"415\" href=\"#415\">415</a>             log.debug(<span class=\"string\">\"getVertex(\"</span> + name + <span class=\"string\">\")\"</span>);\n<a name=\"416\" href=\"#416\">416</a>         }\n<a name=\"417\" href=\"#417\">417</a> \n<a name=\"418\" href=\"#418\">418</a>         Vertex v = sl.getVertex(name);\n<a name=\"419\" href=\"#419\">419</a> \n<a name=\"420\" href=\"#420\">420</a>         <strong>if</strong>(v == <strong>null</strong>)\n<a name=\"421\" href=\"#421\">421</a>         {\n<a name=\"422\" href=\"#422\">422</a>             <em class=\"comment\">// add a node,</em>\n<a name=\"423\" href=\"#423\">423</a>             v = <strong>new</strong> DirectedSparseVertex();\n<a name=\"424\" href=\"#424\">424</a>             g.addVertex(v);\n<a name=\"425\" href=\"#425\">425</a> \n<a name=\"426\" href=\"#426\">426</a>             <em class=\"comment\">// set a label</em>\n<a name=\"427\" href=\"#427\">427</a>             <strong>try</strong>\n<a name=\"428\" href=\"#428\">428</a>             {\n<a name=\"429\" href=\"#429\">429</a>                 sl.setLabel(v, name);\n<a name=\"430\" href=\"#430\">430</a>             }\n<a name=\"431\" href=\"#431\">431</a>             <strong>catch</strong>(Exception e)\n<a name=\"432\" href=\"#432\">432</a>             {\n<a name=\"433\" href=\"#433\">433</a>                 e.printStackTrace();\n<a name=\"434\" href=\"#434\">434</a>             }\n<a name=\"435\" href=\"#435\">435</a>         }\n<a name=\"436\" href=\"#436\">436</a> \n<a name=\"437\" href=\"#437\">437</a>         <strong>return</strong> v;\n<a name=\"438\" href=\"#438\">438</a>     }\n<a name=\"439\" href=\"#439\">439</a> \n<a name=\"440\" href=\"#440\">440</a>     <em>/**<em>*</em></em>\n<a name=\"441\" href=\"#441\">441</a> <em>     * TODO</em>\n<a name=\"442\" href=\"#442\">442</a> <em>     *</em>\n<a name=\"443\" href=\"#443\">443</a> <em>     * @param sender TODO</em>\n<a name=\"444\" href=\"#444\">444</a> <em>     * @param receiver TODO</em>\n<a name=\"445\" href=\"#445\">445</a> <em>     * @param label TODO</em>\n<a name=\"446\" href=\"#446\">446</a> <em>     *</em>\n<a name=\"447\" href=\"#447\">447</a> <em>     * @return TODO</em>\n<a name=\"448\" href=\"#448\">448</a> <em>     */</em>\n<a name=\"449\" href=\"#449\">449</a>     <strong>private</strong> Edge connectEdge(Vertex sender, Vertex receiver, String label)\n<a name=\"450\" href=\"#450\">450</a>     {\n<a name=\"451\" href=\"#451\">451</a>         <strong>if</strong>(log.isDebugEnabled())\n<a name=\"452\" href=\"#452\">452</a>         {\n<a name=\"453\" href=\"#453\">453</a>             log.debug(<span class=\"string\">\"connectEdge(\"</span> + sender + <span class=\"string\">\", \"</span> + receiver + <span class=\"string\">\", \"</span> + label);\n<a name=\"454\" href=\"#454\">454</a>         }\n<a name=\"455\" href=\"#455\">455</a> \n<a name=\"456\" href=\"#456\">456</a>         Set eges = g.getEdges();\n<a name=\"457\" href=\"#457\">457</a>         DirectedEdge thisEdge = <strong>null</strong>;\n<a name=\"458\" href=\"#458\">458</a> \n<a name=\"459\" href=\"#459\">459</a>         <strong>for</strong>(Iterator i = eges.iterator(); i.hasNext();)\n<a name=\"460\" href=\"#460\">460</a>         {\n<a name=\"461\" href=\"#461\">461</a>             DirectedEdge testEdge = (DirectedEdge)i.next();\n<a name=\"462\" href=\"#462\">462</a> \n<a name=\"463\" href=\"#463\">463</a>             <em class=\"comment\">/*</em>\n<a name=\"464\" href=\"#464\">464</a> <em class=\"comment\">               Pair    vs = testEdge.getEndpoints();</em>\n<a name=\"465\" href=\"#465\">465</a> <em class=\"comment\">               if ( sender.equals(vs.getFirst()) &amp;&amp; receiver.equals(vs.getSecond())</em>\n<a name=\"466\" href=\"#466\">466</a> <em class=\"comment\">                       ||</em>\n<a name=\"467\" href=\"#467\">467</a> <em class=\"comment\">                    sender.equals(vs.getSecond()) &amp;&amp; receiver.equals(vs.getFirst()) )</em>\n<a name=\"468\" href=\"#468\">468</a> <em class=\"comment\">             */</em>\n<a name=\"469\" href=\"#469\">469</a>             <strong>if</strong>(sender.equals(testEdge.getSource())\n<a name=\"470\" href=\"#470\">470</a>                &amp;&amp; receiver.equals(testEdge.getDest()))\n<a name=\"471\" href=\"#471\">471</a>             {\n<a name=\"472\" href=\"#472\">472</a>                 thisEdge = testEdge;\n<a name=\"473\" href=\"#473\">473</a> \n<a name=\"474\" href=\"#474\">474</a>                 <strong>break</strong>;\n<a name=\"475\" href=\"#475\">475</a>             }\n<a name=\"476\" href=\"#476\">476</a>         }\n<a name=\"477\" href=\"#477\">477</a> \n<a name=\"478\" href=\"#478\">478</a>         <strong>if</strong>(thisEdge == <strong>null</strong>)\n<a name=\"479\" href=\"#479\">479</a>         {\n<a name=\"480\" href=\"#480\">480</a>             thisEdge = <strong>new</strong> DirectedSparseEdge(sender, receiver);\n<a name=\"481\" href=\"#481\">481</a>             g.addEdge(thisEdge);\n<a name=\"482\" href=\"#482\">482</a>         }\n<a name=\"483\" href=\"#483\">483</a> \n<a name=\"484\" href=\"#484\">484</a>         es.setLabel(thisEdge, label);\n<a name=\"485\" href=\"#485\">485</a> \n<a name=\"486\" href=\"#486\">486</a>         <strong>return</strong> thisEdge;\n<a name=\"487\" href=\"#487\">487</a>     }\n<a name=\"488\" href=\"#488\">488</a> \n<a name=\"489\" href=\"#489\">489</a> \t<em class=\"comment\">/*<em class=\"comment\"> (non-Javadoc)</em></em>\n<a name=\"490\" href=\"#490\">490</a> <em class=\"comment\">\t * @see swirl.workspace.viz.ModelListener#flashIt(swirl.workspace.viz.pie.FileElement, java.lang.String)</em>\n<a name=\"491\" href=\"#491\">491</a> <em class=\"comment\">\t */</em>\n<a name=\"492\" href=\"#492\">492</a> \t<strong>public</strong> <strong>void</strong> flashIt(<a href=\"../../../swirl/workspace/viz/pie/FileElement.html\">FileElement</a> fe, String uColor) {\n<a name=\"493\" href=\"#493\">493</a> \t\t<em class=\"comment\">// TODO Auto-generated method stub</em>\n<a name=\"494\" href=\"#494\">494</a> \t\t\n<a name=\"495\" href=\"#495\">495</a> \t}\n<a name=\"496\" href=\"#496\">496</a> \n<a name=\"497\" href=\"#497\">497</a> \t<em class=\"comment\">/*<em class=\"comment\"> (non-Javadoc)</em></em>\n<a name=\"498\" href=\"#498\">498</a> <em class=\"comment\">\t * @see swirl.workspace.viz.ModelListener#backupPromotedToPersistent(swirl.workspace.viz.pie.FileElement)</em>\n<a name=\"499\" href=\"#499\">499</a> <em class=\"comment\">\t */</em>\n<a name=\"500\" href=\"#500\">500</a> \t<strong>public</strong> <strong>void</strong> backupPromotedToPersistent(<a href=\"../../../swirl/workspace/viz/pie/FileElement.html\">FileElement</a> file) {\n<a name=\"501\" href=\"#501\">501</a> \t\t<em class=\"comment\">// TODO Auto-generated method stub</em>\n<a name=\"502\" href=\"#502\">502</a> \t\t\n<a name=\"503\" href=\"#503\">503</a> \t}\n<a name=\"504\" href=\"#504\">504</a> \n<a name=\"505\" href=\"#505\">505</a> \t<em class=\"comment\">/*<em class=\"comment\"> (non-Javadoc)</em></em>\n<a name=\"506\" href=\"#506\">506</a> <em class=\"comment\">\t * @see swirl.workspace.viz.ModelListener#fileUpdated(swirl.workspace.viz.pie.FileElement)</em>\n<a name=\"507\" href=\"#507\">507</a> <em class=\"comment\">\t */</em>\n<a name=\"508\" href=\"#508\">508</a> \t<strong>public</strong> <strong>void</strong> fileUpdated(<a href=\"../../../swirl/workspace/viz/pie/FileElement.html\">FileElement</a> file) {\n<a name=\"509\" href=\"#509\">509</a> \t\t<em class=\"comment\">// TODO Auto-generated method stub</em>\n<a name=\"510\" href=\"#510\">510</a> \t\t\n<a name=\"511\" href=\"#511\">511</a> \t}\n<a name=\"512\" href=\"#512\">512</a> \n<a name=\"513\" href=\"#513\">513</a> \t<em class=\"comment\">/*<em class=\"comment\"> (non-Javadoc)</em></em>\n<a name=\"514\" href=\"#514\">514</a> <em class=\"comment\">\t * @see swirl.workspace.messages.MessageProcessor#initialMessageProcessor()</em>\n<a name=\"515\" href=\"#515\">515</a> <em class=\"comment\">\t */</em>\n<a name=\"516\" href=\"#516\">516</a> \t<strong>public</strong> <strong>void</strong> initializeMessageProcessor() {\n<a name=\"517\" href=\"#517\">517</a> \t\t<em class=\"comment\">// TODO Auto-generated method stub</em>\n<a name=\"518\" href=\"#518\">518</a> \t\t\n<a name=\"519\" href=\"#519\">519</a> \t}\n<a name=\"520\" href=\"#520\">520</a> \t\n<a name=\"521\" href=\"#521\">521</a> }\n</pre>\n<hr/><div id=\"footer\">This page was automatically generated by <a href=\"http://maven.apache.org/\">Maven</a></div></body>\n</html>\n\n", "id": 32930.0}