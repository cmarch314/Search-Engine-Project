{"text": "OEChem C Theory Manual Version 1 3 1 Previous 4 4 1 GetConf and GetConfs Up 4 4 Properties of Multi Conformer Next 4 4 3 Use of the 4 4 2 Use of the conformer state OEMCMolBases have four functions which control the current state of the molecule with respect to conformers SetActive takes an OEConfBase as an object and makes the OEMCMolBase act exactly like an OEMolBase with the Active conformer as the only conformer The GetActive function returns a pointer to the currently Active conformation There are many OEMolBase functions which access the single conformer coordinates of a molecule When these functions are called on an OEMCMolBase the coordinates of the Active conformer are returned Similarly if the OEMCMolBase does not have a title or energy of its own the title or energy of the active conformer will be returned This is particularly convenient when passing the molecule to a function which has been written to use or manipulate the coordinates of an OEMolBase include oechem h include iostream using namespace OEChem using namespace OESystem using namespace std float GetMaxX const OEMolBase mol OEIter OEAtomBase atom float xyz 3 float maxX f bool first true for atom mol GetAtoms atom atom mol GetCoords atom xyz if first maxX xyz first false else if xyz maxX maxX xyz return maxX int main OEIter OEMCMolBase mol OEIter OEConfBase conf oemolistream ims for mol ims GetMCMolBases mol mol for conf mol GetConfs conf conf mol SetActive conf cerr maxX GetMaxX mol endl return Download as text While the SetActive and GetActive interface is sufficient for most uses it is sometimes necessary to think of a more complex representation of the state of the molecule The OEMCMolBase also has PushActive and PopActive functions which extend the control over the active conformation All four of these functions work together to determine which conformation is the current active conformation The active conformation is the top conformation in a stack of OEConfBases help by the molecule SetActive changes the top conformation on the stack while GetActive returns the top conformation on the stack PushActive puts a new conformation in the top position of the stack pushing all other members of the stack down PopActive removes the top conformer in the stack allowing the next lower conformer to become the active conformer The conformer stack is helpful for using the state of an OEMCMolBase within a function while restoring the molecule to its original state before returning it OEChem C Theory Manual Version 1 3 1 Previous 4 4 1 GetConf and GetConfs Up 4 4 Properties of Multi Conformer Next 4 4 3 Use of the Documentation released on July 3 2 4 ", "_id": "http://www.ics.uci.edu/~dock/manuals/oechem/cplusprog/node40.html", "title": "4.4.2 use of the conformer state", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<html>\n<head>\n<title>4.4.2 Use of the conformer state</title>\n<META NAME=\"description\" CONTENT=\"4.4.2 Use of the conformer state\">\n<META NAME=\"keywords\" CONTENT=\"cplusprog\">\n<META NAME=\"resource-type\" CONTENT=\"document\">\n<META NAME=\"distribution\" CONTENT=\"global\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\">\n<link rel=\"STYLESHEET\" href=\"cplusprog.css\">\n<link rel=\"first\" href=\"cplusprog.html\">\n<link rel=\"contents\" href=\"contents.html\" title=\"Contents\">\n\n<LINK REL=\"next\" HREF=\"node41.html\">\n<LINK REL=\"previous\" HREF=\"node39.html\">\n<LINK REL=\"up\" HREF=\"node38.html\">\n<LINK REL=\"next\" HREF=\"node41.html\">\n</head>\n<body>\n<DIV CLASS=\"navigation\">\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node39.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node38.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node41.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node39.html\">4.4.1 GetConf and GetConfs</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node38.html\">4.4 Properties of Multi-Conformer</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node41.html\">4.4.3 Use of the</A>\n<br><hr>\n</DIV>\n<!--End of Navigation Panel-->\n\n<H2><A NAME=\"SECTION007420000000000000000\">\n4.4.2 Use of the conformer state</A>\n</H2>\n\n<P>\nOEMCMolBases have four functions which control the current state of the\nmolecule with respect to conformers.  <code>SetActive</code> takes an OEConfBase\nas an object and makes the OEMCMolBase act exactly like an OEMolBase with\nthe \"Active\" conformer as the only conformer.  The <code>GetActive</code>\nfunction returns a pointer to the currently \"Active\" conformation.  There\nare many OEMolBase functions which access the single-conformer coordinates\nof a molecule.  When these functions are called on an OEMCMolBase, the\ncoordinates of the \"Active\" conformer are returned.  Similarly, if the\nOEMCMolBase does not have a title or energy of its own, the title or energy\nof the active conformer will be returned.  This is particularly convenient\nwhen passing the molecule to a function which has been written to use or\nmanipulate the coordinates of an OEMolBase.\n\n<P>\n<dl><dd><pre class=\"verbatim\">#include \"oechem.h\"\n#include &lt;iostream&gt;\n\nusing namespace OEChem;\nusing namespace OESystem;\nusing namespace std;\n\nfloat GetMaxX(const OEMolBase &amp;mol)\n{\n  OEIter&lt;OEAtomBase&gt; atom;\n  float xyz[3];\n  float maxX = 0.0f;\n  bool first = true;\n  for(atom = mol.GetAtoms();atom;++atom)\n  {\n    mol.GetCoords(atom,xyz);\n    if(first)\n    {\n      maxX = xyz[0];\n      first = false;\n    }\n    else\n      if(xyz[0] &gt; maxX)\n        maxX = xyz[0];\n  }\n  return maxX;\n}\n\nint main()\n{\n  OEIter&lt;OEMCMolBase&gt; mol;\n  OEIter&lt;OEConfBase&gt; conf;\n  oemolistream ims;\n\n  for (mol=ims.GetMCMolBases(); mol; ++mol)\n  {\n    for(conf = mol-&gt;GetConfs(); conf; ++conf)\n    {\n      mol-&gt;SetActive(conf);\n      cerr &lt;&#60; \"maxX = \" &lt;&#60; GetMaxX(*mol) &lt;&#60; endl;\n    }\n  }\n\n  return 0;\n}\n</pre>\n<div class=\"verbatiminput-footer\">\n<a href=\"ch5-3.txt\" type=\"text/plain\">Download as text.</a>\n</div>\n</dd></dl>\n\n<P>\nWhile the <code>SetActive</code> and <code>GetActive</code> interface is sufficient for\nmost uses, it is sometimes necessary to think of a more complex\nrepresentation of the state of the molecule.  The OEMCMolBase also has\n<code>PushActive</code> and <code>PopActive</code> functions which extend the control\nover the active conformation.  All four of these functions work together to\ndetermine which conformation is the current active conformation.  The\nactive conformation is the top conformation in a stack of OEConfBases help\nby the molecule.  <code>SetActive</code> changes the top conformation on the\nstack, while <code>GetActive</code> returns the top conformation on the stack.\n<code>PushActive</code> puts a new conformation in the top position of the stack,\npushing all other members of the stack down.  <code>PopActive</code> removes the\ntop conformer in the stack (allowing the next lower conformer to become the\nactive conformer).  The conformer stack is helpful for using the state of\nan OEMCMolBase within a function while restoring the molecule to its original\nstate before returning it.\n\n<P>\n\n<DIV CLASS=\"navigation\">\n<p><hr>\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node39.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node38.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node41.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node39.html\">4.4.1 GetConf and GetConfs</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node38.html\">4.4 Properties of Multi-Conformer</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node41.html\">4.4.3 Use of the</A>\n<hr>\n<span class=\"release-info\">Documentation released on July 30, 2004.</span>\n</DIV>\n<!--End of Navigation Panel-->\n\n</BODY>\n</HTML>\n", "id": 38426.0}