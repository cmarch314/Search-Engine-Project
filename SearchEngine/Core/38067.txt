{"text": "OEChem Python Theory Manual Version 1 3 1 Previous 4 5 Reading Multi conformer molecules Up 4 Reading and Writing Next 4 7 Format control from 4 6 Compressed Molecule Input and Output For any of the molecular file formats supported by OEChem it is often convenient to read and write compressed files or strings Molecule streams support gzipped input and output via the zlib library The gz suffix on any filename used to open a stream is recognized and the stream is read or written in compressed format This mechanism does not interfere with the format perception For instance fn sdf gz is recognized as a gzipped file with MDL s SD format The following example demonstrates use of compressed input and output usr bin env python ch4 6 py from openeye oechem import ifs oemolistream ofs oemolostream if ifs open drugs sdf gz 1 if ofs open drugs oeb gz 1 for mol in ifs GetOEGraphMols OEWriteMolecule ofs mol else sys stderr write Unable to open output file n else sys stderr write Unable to open input file n Download as text The example above converts all of the molecules in a gzipped SD format file into an OEBinary version 2 format gzipped file OEChem Python Theory Manual Version 1 3 1 Previous 4 5 Reading Multi conformer molecules Up 4 Reading and Writing Next 4 7 Format control from Documentation released on July 3 2 4 ", "_id": "http://www.ics.uci.edu/~dock/manuals/oechem/pyprog/node22.html", "title": "4.6 compressed molecule input and output", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<html>\n<head>\n<title>4.6 Compressed Molecule Input and Output</title>\n<META NAME=\"description\" CONTENT=\"4.6 Compressed Molecule Input and Output\">\n<META NAME=\"keywords\" CONTENT=\"pyprog\">\n<META NAME=\"resource-type\" CONTENT=\"document\">\n<META NAME=\"distribution\" CONTENT=\"global\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\">\n<link rel=\"STYLESHEET\" href=\"pyprog.css\">\n<link rel=\"first\" href=\"pyprog.html\">\n<link rel=\"contents\" href=\"contents.html\" title=\"Contents\">\n\n<LINK REL=\"next\" HREF=\"node23.html\">\n<LINK REL=\"previous\" HREF=\"node21.html\">\n<LINK REL=\"up\" HREF=\"node16.html\">\n<LINK REL=\"next\" HREF=\"node23.html\">\n</head>\n<body>\n<DIV CLASS=\"navigation\">\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node21.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node16.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node23.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - Python Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"genindex.html\"><img src=\"../icons/index.gif\"\n  border=\"0\" alt=\"Index\"></A></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node21.html\">4.5 Reading Multi-conformer molecules</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node16.html\">4. Reading and Writing</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node23.html\">4.7 Format control from</A>\n<br><hr>\n</DIV>\n<!--End of Navigation Panel-->\n\n<H1><A NAME=\"SECTION006600000000000000000\">\n4.6 Compressed Molecule Input and Output</A>\n</H1>\n\n<P>\nFor any of the molecular file formats supported by OEChem it is often\nconvenient to read and write compressed files or strings.  Molecule streams\nsupport gzipped input and output via the zlib library.  The \".gz\" suffix on\nany filename used to open a stream is recognized and the stream is read or\nwritten in compressed format.  This mechanism does not interfere with the\nformat perception.  For instance, \"fn.sdf.gz\" is recognized as a gzipped\nfile with MDL's SD format.\n\n<P>\nThe following example demonstrates use of compressed input and output\n\n<P>\n<dl><dd><pre class=\"verbatim\">#!/usr/bin/env python\n# ch4-6.py\nfrom openeye.oechem import *\n\nifs = oemolistream()\nofs = oemolostream()\n\nif (ifs.open(\"drugs.sdf.gz\") == 1):\n    if (ofs.open(\"drugs.oeb.gz\") == 1):\n        for mol in ifs.GetOEGraphMols():\n            OEWriteMolecule(ofs, mol)\n    else:\n        sys.stderr.write(\"Unable to open output file&#92;n\")\nelse:\n    sys.stderr.write(\"Unable to open input file&#92;n\")\n\n</pre>\n<div class=\"verbatiminput-footer\">\n<a href=\"ch4-6.txt\" type=\"text/plain\">Download as text.</a>\n</div>\n</dd></dl>\n\n<P>\nThe example above converts all of the molecules in a gzipped SD format file\ninto an OEBinary version 2 format gzipped file.\n\n<P>\n\n<DIV CLASS=\"navigation\">\n<p><hr>\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node21.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node16.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node23.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - Python Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"genindex.html\"><img src=\"../icons/index.gif\"\n  border=\"0\" alt=\"Index\"></A></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node21.html\">4.5 Reading Multi-conformer molecules</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node16.html\">4. Reading and Writing</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node23.html\">4.7 Format control from</A>\n<hr>\n<span class=\"release-info\">Documentation released on July 30, 2004.</span>\n</DIV>\n<!--End of Navigation Panel-->\n\n</BODY>\n</HTML>\n", "id": 38067.0}