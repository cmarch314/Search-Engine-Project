{"text": "View Javadoc 1 2 Created on Aug 27 2 4 3 4 package swirl workspace common 5 6 import java io File 7 import java io IOException 8 9 import org apache commons logging Log 1 import org apache commons logging LogFactory 11 12 13 DOCUMENT ME 14 15 author bpillet 16 17 public class MacFileLauncher implements FileLauncher 18 19 2 the logger for this class 21 private Log log LogFactory getLog this getClass 22 23 public MacFileLauncher 24 25 if log isDebugEnabled 26 27 log debug 28 29 3 31 public Process launch String url throws IOException 32 33 if log isDebugEnabled 34 35 log debug launch url 36 37 38 String temp url 39 4 first trim the path off 41 if temp lastIndexOf 1 42 43 temp temp substring temp lastIndexOf 44 45 46 if temp lastIndexOf 1 47 48 temp temp substring temp lastIndexOf 49 5 51 temp Volumes swirl NetUtils decode temp 52 53 if log isDebugEnabled 54 55 log debug final url is this temp 56 57 58 File f new File temp 59 if f exists 6 61 temp open temp 62 if log isDebugEnabled 63 64 log debug Mac command open temp 65 66 String macCommand new String open temp 67 Process process Runtime getRuntime exec macCommand 68 return process 69 7 else 71 72 throw new IOException temp does not exist Don t forget to mount swirl 73 74 75 76 77 public Process launch String url String mime throws IOException 78 return launch url 79 8 This page was automatically generated by Maven", "_id": "http://drzaius.ics.uci.edu/~swirl/impromptu-0.20/xref/swirl/workspace/common/MacFileLauncher.html", "title": "macfilelauncher xref", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n<meta http-equiv=\"content-type\" content=\"text/html; charset=ISO-8859-1\" /><title>MacFileLauncher xref</title>\n<link type=\"text/css\" rel=\"stylesheet\" href=\"../../../stylesheet.css\" />\n</head>\n<body>\n<div id=\"overview\"><a href=\"../../../../apidocs/swirl/workspace/common/MacFileLauncher.html\">View Javadoc</a></div><pre>\n\n<a name=\"1\" href=\"#1\">1</a>   <em class=\"comment\">/*</em>\n<a name=\"2\" href=\"#2\">2</a>   <em class=\"comment\"> * Created on Aug 27, 2004</em>\n<a name=\"3\" href=\"#3\">3</a>   <em class=\"comment\"> */</em>\n<a name=\"4\" href=\"#4\">4</a>   <strong>package</strong> <a href=\"../../../swirl/workspace/common/package-summary.html\">swirl.workspace.common</a>;\n<a name=\"5\" href=\"#5\">5</a>   \n<a name=\"6\" href=\"#6\">6</a>   <strong>import</strong> java.io.File;\n<a name=\"7\" href=\"#7\">7</a>   <strong>import</strong> java.io.IOException;\n<a name=\"8\" href=\"#8\">8</a>   \n<a name=\"9\" href=\"#9\">9</a>   <strong>import</strong> org.apache.commons.logging.Log;\n<a name=\"10\" href=\"#10\">10</a>  <strong>import</strong> org.apache.commons.logging.LogFactory;\n<a name=\"11\" href=\"#11\">11</a>  \n<a name=\"12\" href=\"#12\">12</a>  <em>/**<em>*</em></em>\n<a name=\"13\" href=\"#13\">13</a>  <em> * DOCUMENT ME!</em>\n<a name=\"14\" href=\"#14\">14</a>  <em> *</em>\n<a name=\"15\" href=\"#15\">15</a>  <em> * @author bpillet</em>\n<a name=\"16\" href=\"#16\">16</a>  <em> */</em>\n<a name=\"17\" href=\"#17\">17</a>  <strong>public</strong> <strong>class</strong> <a href=\"../../../swirl/workspace/common/MacFileLauncher.html\">MacFileLauncher</a> implements <a href=\"../../../swirl/workspace/common/FileLauncher.html\">FileLauncher</a>\n<a name=\"18\" href=\"#18\">18</a>  {\n<a name=\"19\" href=\"#19\">19</a>  \t\n<a name=\"20\" href=\"#20\">20</a>      <em>/**<em>* the logger for this class */</em></em>\n<a name=\"21\" href=\"#21\">21</a>      <strong>private</strong> Log log = LogFactory.getLog(<strong>this</strong>.getClass());\n<a name=\"22\" href=\"#22\">22</a>  \n<a name=\"23\" href=\"#23\">23</a>      <strong>public</strong> <a href=\"../../../swirl/workspace/common/MacFileLauncher.html\">MacFileLauncher</a>()\n<a name=\"24\" href=\"#24\">24</a>      {\n<a name=\"25\" href=\"#25\">25</a>      \t<strong>if</strong>(log.isDebugEnabled())\n<a name=\"26\" href=\"#26\">26</a>          {\n<a name=\"27\" href=\"#27\">27</a>      \t\tlog.debug(<span class=\"string\">\"()\"</span>);\n<a name=\"28\" href=\"#28\">28</a>          }\n<a name=\"29\" href=\"#29\">29</a>      }\n<a name=\"30\" href=\"#30\">30</a>      \n<a name=\"31\" href=\"#31\">31</a>  \t<strong>public</strong> Process launch(String url) throws IOException \n<a name=\"32\" href=\"#32\">32</a>      {\n<a name=\"33\" href=\"#33\">33</a>          <strong>if</strong>(log.isDebugEnabled())\n<a name=\"34\" href=\"#34\">34</a>          {\n<a name=\"35\" href=\"#35\">35</a>              log.debug(<span class=\"string\">\"launch(\"</span> + url + <span class=\"string\">\")\"</span>);\n<a name=\"36\" href=\"#36\">36</a>          }\n<a name=\"37\" href=\"#37\">37</a>  \n<a name=\"38\" href=\"#38\">38</a>          String temp = url;\n<a name=\"39\" href=\"#39\">39</a>  \n<a name=\"40\" href=\"#40\">40</a>          <em class=\"comment\">//first trim the path off</em>\n<a name=\"41\" href=\"#41\">41</a>          <strong>if</strong>(temp.lastIndexOf('&#47;&#47;') != -1)\n<a name=\"42\" href=\"#42\">42</a>          {\n<a name=\"43\" href=\"#43\">43</a>              temp = temp.substring(temp.lastIndexOf('&#47;&#47;'));\n<a name=\"44\" href=\"#44\">44</a>          }\n<a name=\"45\" href=\"#45\">45</a>  \n<a name=\"46\" href=\"#46\">46</a>          <strong>if</strong>(temp.lastIndexOf('/') != -1)\n<a name=\"47\" href=\"#47\">47</a>          {\n<a name=\"48\" href=\"#48\">48</a>              temp = temp.substring(temp.lastIndexOf('/'));\n<a name=\"49\" href=\"#49\">49</a>          }\n<a name=\"50\" href=\"#50\">50</a>          \n<a name=\"51\" href=\"#51\">51</a>          temp = <span class=\"string\">\"/Volumes/swirl\"</span> + NetUtils.decode(temp);\n<a name=\"52\" href=\"#52\">52</a>  \n<a name=\"53\" href=\"#53\">53</a>          <strong>if</strong>(log.isDebugEnabled())\n<a name=\"54\" href=\"#54\">54</a>          {\n<a name=\"55\" href=\"#55\">55</a>              log.debug(<span class=\"string\">\"final url is this: \"</span> + temp);\n<a name=\"56\" href=\"#56\">56</a>          }\n<a name=\"57\" href=\"#57\">57</a>         \n<a name=\"58\" href=\"#58\">58</a>          File f = <strong>new</strong> File(temp);\n<a name=\"59\" href=\"#59\">59</a>          <strong>if</strong>(f.exists())\n<a name=\"60\" href=\"#60\">60</a>          {\n<a name=\"61\" href=\"#61\">61</a>          \t\t<em class=\"comment\">// temp = \"open \" + \"'\" + temp + \"'\";</em>\n<a name=\"62\" href=\"#62\">62</a>  \t        \t<strong>if</strong>(log.isDebugEnabled())\n<a name=\"63\" href=\"#63\">63</a>  \t\t        {\n<a name=\"64\" href=\"#64\">64</a>  \t        \t\tlog.debug(<span class=\"string\">\"Mac command: open \"</span> + temp);\n<a name=\"65\" href=\"#65\">65</a>  \t\t        }\n<a name=\"66\" href=\"#66\">66</a>                  String[] macCommand = <strong>new</strong> String[] {<span class=\"string\">\"open\"</span>, temp};\n<a name=\"67\" href=\"#67\">67</a>          \t\tProcess process =  Runtime.getRuntime().exec(macCommand);\n<a name=\"68\" href=\"#68\">68</a>          \t\t<strong>return</strong> process;\n<a name=\"69\" href=\"#69\">69</a>          }\n<a name=\"70\" href=\"#70\">70</a>          <strong>else</strong>\n<a name=\"71\" href=\"#71\">71</a>          {\n<a name=\"72\" href=\"#72\">72</a>          \t\t<strong>throw</strong> <strong>new</strong> IOException(temp + <span class=\"string\">\" does not exist.  Don't forget to mount swirl\"</span>);\n<a name=\"73\" href=\"#73\">73</a>          }\n<a name=\"74\" href=\"#74\">74</a>      }\n<a name=\"75\" href=\"#75\">75</a>  \n<a name=\"76\" href=\"#76\">76</a>  \n<a name=\"77\" href=\"#77\">77</a>  \t<strong>public</strong> Process launch(String url, String mime) throws IOException {\n<a name=\"78\" href=\"#78\">78</a>  \t\t<strong>return</strong> launch(url);\n<a name=\"79\" href=\"#79\">79</a>  \t}\n<a name=\"80\" href=\"#80\">80</a>  }\n</pre>\n<hr/><div id=\"footer\">This page was automatically generated by <a href=\"http://maven.apache.org/\">Maven</a></div></body>\n</html>\n\n", "id": 32866.0}