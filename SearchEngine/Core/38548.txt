{"text": "OEChem C Theory Manual Version 1 3 1 Previous 22 4 OEUnaryPredicate Up 22 Predicate Functors Next 22 6 Predefined OEChem Functors 22 5 Call Backs Simply stated predicate functors boolean functors are functions which return true or false In OEChem these functors are often passed into another function The functors are then called from inside the second function This is the concept of a call back because the second function provides the argument and call s back to the functor which was passed into the function include oechem h include oesystem h include iostream using namespace OESystem using namespace OEChem using namespace std unsigned int Count const OEUnaryPredicate OEAtomBase fcn const OEMolBase mol unsigned int count OEIter OEAtomBase atom for atom mol GetAtoms atom atom if fcn atom count return count int main OEGraphMol mol OEParseSmiles mol c1c O c O c Cl cc1CCCBr cerr Number of Oxygens Count OEIsOxygen mol endl cerr Number of Carbons Count OEHasAtomicNum 6 mol endl cerr Number of Halides Count OEIsHalide mol endl return Download as text In the example above the function Count loops over the atom and performs a call back to the predicate functor fcn for each atom If the predicate returns true a counter is incremented The main loop passes three of OEChem s predefined atom predicates to the Count function allowing the same function to calculate the number atoms in the molecule which satisfy the functor passed to it OEChem C Theory Manual Version 1 3 1 Previous 22 4 OEUnaryPredicate Up 22 Predicate Functors Next 22 6 Predefined OEChem Functors Documentation released on July 3 2 4 ", "_id": "http://www.ics.uci.edu/~dock/manuals/oechem/cplusprog/node176.html", "title": "22.5 call-backs", "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<html>\n<head>\n<title>22.5 Call-Backs</title>\n<META NAME=\"description\" CONTENT=\"22.5 Call-Backs\">\n<META NAME=\"keywords\" CONTENT=\"cplusprog\">\n<META NAME=\"resource-type\" CONTENT=\"document\">\n<META NAME=\"distribution\" CONTENT=\"global\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\">\n<link rel=\"STYLESHEET\" href=\"cplusprog.css\">\n<link rel=\"first\" href=\"cplusprog.html\">\n<link rel=\"contents\" href=\"contents.html\" title=\"Contents\">\n\n<LINK REL=\"next\" HREF=\"node177.html\">\n<LINK REL=\"previous\" HREF=\"node175.html\">\n<LINK REL=\"up\" HREF=\"node171.html\">\n<LINK REL=\"next\" HREF=\"node177.html\">\n</head>\n<body>\n<DIV CLASS=\"navigation\">\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node175.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node171.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node177.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node175.html\">22.4 OEUnaryPredicate</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node171.html\">22. Predicate Functors</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node177.html\">22.6 Predefined OEChem Functors</A>\n<br><hr>\n</DIV>\n<!--End of Navigation Panel-->\n\n<H1><A NAME=\"SECTION0025500000000000000000\">\n22.5 Call-Backs</A>\n</H1>\n\n<P>\nSimply stated, predicate functors (boolean functors) are functions which\nreturn \"true\" or \"false\".  In OEChem, these functors are often passed into\nanother function.  The functors are then called from inside the second\nfunction.  This is the concept of a \"call-back\" because the second function\nprovides the argument and \"call's back\" to the functor which was passed\ninto the function.\n\n<P>\n<dl><dd><pre class=\"verbatim\">#include \"oechem.h\"\n#include \"oesystem.h\"\n\n#include &lt;iostream&gt;\n\nusing namespace OESystem;\nusing namespace OEChem;\nusing namespace std;\n\nunsigned int Count(const OEUnaryPredicate&lt;OEAtomBase&gt; &amp;fcn,\n                   const OEMolBase &amp;mol)\n{\n  unsigned int count = 0;\n  OEIter&lt;OEAtomBase&gt; atom;\n  for(atom = mol.GetAtoms();atom;++atom)\n    if(fcn(*atom))\n      ++count;\n\n  return count;\n}\n\nint main()\n{\n  OEGraphMol mol;\n  OEParseSmiles(mol, \"c1c(O)c(O)c(Cl)cc1CCCBr\");\n\n  cerr &lt;&#60; \"Number of Oxygens = \" &lt;&#60; Count(OEIsOxygen(),mol) &lt;&#60; endl;\n\n  cerr &lt;&#60; \"Number of Carbons = \" &lt;&#60; Count(OEHasAtomicNum(6),mol) &lt;&#60; endl;\n\n  cerr &lt;&#60; \"Number of Halides = \" &lt;&#60; Count(OEIsHalide(),mol) &lt;&#60; endl;\n\n  return 0;\n}\n</pre>\n<div class=\"verbatiminput-footer\">\n<a href=\"ch22-1.txt\" type=\"text/plain\">Download as text.</a>\n</div>\n</dd></dl>\n\n<P>\nIn the example above, the function <code>Count</code> loops over the atom and\nperforms a call-back to the predicate functor <code>fcn</code> for each atom.  If\nthe predicate returns true, a counter is incremented.  The main loop passes\nthree of OEChem's predefined atom predicates to the <code>Count</code> function,\nallowing the same function to calculate the number atoms in the molecule\nwhich satisfy the functor passed to it.\n\n<P>\n\n<DIV CLASS=\"navigation\">\n<p><hr>\n<table align=\"center\" border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td rowspan=2><A HREF=\"node175.html\"><img src=\"../icons/previous.gif\"\n  border=\"0\" alt=\"Previous Page\"></A></td>\n<td rowspan=2><A HREF=\"node171.html\"><img src=\"../icons/up.gif\"\n  border=\"0\" alt=\"Up One Level\"></A></td>\n<td rowspan=2><A HREF=\"node177.html\"><img src=\"../icons/next.gif\"\n  border=\"0\" alt=\"Next Page\"></A></td><td width=\"100%\" rowspan=\"2\"> </td>\n<td valign=\"center\" align=\"right\" height=\"56\" background=\"../icons/title_bkgd.gif\" colspan=4 class=\"navigation\">OEChem - C++ Theory Manual\n<BR>\nVersion 1.3.1</td></tr>\n<tr><td><img src=\"../icons/spacer_1.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><A href=\"contents.html\"><img src=\"../icons/contents.gif\"\n  border=\"0\" alt=\"Contents\"></A></td>\n<td><img src=\"../icons/spacer_2.gif\"\n  border=\"0\" alt=\"\"></td>\n<td><img src=\"../icons/blank_4.gif\"\n  border=\"0\" alt=\"\"></td>\n</tr></table>\n<b class=\"navlabel\">Previous:</b> <a class=\"sectref\" HREF=\"node175.html\">22.4 OEUnaryPredicate</A>\n<b class=\"navlabel\">Up:</b> <a class=\"sectref\" HREF=\"node171.html\">22. Predicate Functors</A>\n<b class=\"navlabel\">Next:</b> <a class=\"sectref\" HREF=\"node177.html\">22.6 Predefined OEChem Functors</A>\n<hr>\n<span class=\"release-info\">Documentation released on July 30, 2004.</span>\n</DIV>\n<!--End of Navigation Panel-->\n\n</BODY>\n</HTML>\n", "id": 38548.0}