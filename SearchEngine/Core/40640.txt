{"text": " Home Trees Indices Help Package CHEM Package DB Package rdb Module rdbprivatedb Class Controller hide private frames no frames Class Controller Establishes db connection and controlls db insertion Instance Methods hide private init self cmd db outputPath getReactionNames self Returns a list of reaction names ids from the database getAnnotationTypeIDs self annotationNameList Returns a list of ids for the specified annotation type names getReactionReferences self nameID annotationTypeIDList Returns a list of tuples containing the reference s author and publication year findValidYears self str min 188 max 2 7 Uses regex to find the valid years between 188 and 2 7 findValidAuthors self str rxnName checkRxn False checkStop True Uses regex to find the valid authors getAuthorYearPairs self reactionName referenceLines Parse the output of getReactionReferences to extra the author and years writeQueryFile self filename values Write expected query file checkRDB self reactionName annotation label smirks annotation insertFromFile self filename Custom insertion from smirks file queryPrivateDB self qdebug False Actually performs the system call to anan s program Method Details hide private findValidAuthors self str rxnName checkRxn False checkStop True Uses regex to find the valid authors Eg s M Amadori Atti Accad Naz Lincei 6 337 1925 C A 2 9 2 1926 ibid 6 68 226 1929 C A 23 3211 3443 1929 Conversion of N glycosides of aldoses to N r re compile A Z A Z a z pmatch r s M Amadori s L Claisen Ber 45 3157 1912 Migration of a carbon carbon double bond in a three carbon allylic system on treatment with nucleophiles under S N 1 conditions or under S N 2 conditions when the nucleophilic attack takes place at the pmatch r s L Claisen getAuthorYearPairs self reactionName referenceLines Parse the output of getReactionReferences to extra the author and years Create a combinatorial pairs insertFromFile self filename Custom insertion from smirks file Need to determine the name of the reaction from the filename Eg NR 958 Ziegler Natta Polymerization Ziegler 1956 selected smi NR 81 Bergmann Zervas Carbobenzoxy Method Bergmann 1932 selected smi Home Trees Indices Help Generated by Epydoc 3 beta1 on Thu Nov 8 17 49 3 2 7 http epydoc sourceforge net", "_id": "http://www.ics.uci.edu/~dock/CHEM_docs/CHEM.DB.rdb.rdbprivatedb.Controller-class.html", "title": "chem.db.rdb.rdbprivatedb.controller", "html": "<?xml version=\"1.0\" encoding=\"ascii\"?>\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n          \"DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n  <title>CHEM.DB.rdb.rdbprivatedb.Controller</title>\n  <link rel=\"stylesheet\" href=\"epydoc.css\" type=\"text/css\" />\n  <script type=\"text/javascript\" src=\"epydoc.js\"></script>\n</head>\n\n<body bgcolor=\"white\" text=\"black\" link=\"blue\" vlink=\"#204080\"\n      alink=\"#204080\">\n<!-- ==================== NAVIGATION BAR ==================== -->\n<table class=\"navbar\" border=\"0\" width=\"100%\" cellpadding=\"0\"\n       bgcolor=\"#a0c0ff\" cellspacing=\"0\">\n  <tr valign=\"middle\">\n  <!-- Home link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"CHEM-module.html\">Home</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Tree link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"module-tree.html\">Trees</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Index link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"identifier-index.html\">Indices</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Help link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"help.html\">Help</a>&nbsp;&nbsp;&nbsp;</th>\n\n      <th class=\"navbar\" width=\"100%\"></th>\n  </tr>\n</table>\n<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\n  <tr valign=\"top\">\n    <td width=\"100%\">\n      <span class=\"breadcrumbs\">\n        <a href=\"CHEM-module.html\">Package&nbsp;CHEM</a> ::\n        <a href=\"CHEM.DB-module.html\">Package&nbsp;DB</a> ::\n        <a href=\"CHEM.DB.rdb-module.html\">Package&nbsp;rdb</a> ::\n        <a href=\"CHEM.DB.rdb.rdbprivatedb-module.html\">Module&nbsp;rdbprivatedb</a> ::\n        Class&nbsp;Controller\n      </span>\n    </td>\n    <td>\n      <table cellpadding=\"0\" cellspacing=\"0\">\n        <!-- hide/show private -->\n        <tr><td align=\"right\"><span class=\"options\">[<a href=\"javascript:void(0);\" class=\"privatelink\"\n    onclick=\"toggle_private();\">hide&nbsp;private</a>]</span></td></tr>\n        <tr><td align=\"right\"><span class=\"options\"\n            >[<a href=\"frames.html\" target=\"_top\">frames</a\n            >]&nbsp;|&nbsp;<a href=\"CHEM.DB.rdb.rdbprivatedb.Controller-class.html\"\n            target=\"_top\">no&nbsp;frames</a>]</span></td></tr>\n      </table>\n    </td>\n  </tr>\n</table>\n<!-- ==================== CLASS DESCRIPTION ==================== -->\n<h1 class=\"epydoc\">Class Controller</h1><br /><br />\nEstablishes db connection and controlls db insertion.<br /><br />\n\n<!-- ==================== INSTANCE METHODS ==================== -->\n<a name=\"section-InstanceMethods\"></a>\n<table class=\"summary\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr bgcolor=\"#70b0f0\" class=\"table-header\">\n  <td colspan=\"2\" class=\"table-header\">\n    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n      <tr valign=\"top\">\n        <td align=\"left\"><span class=\"table-header\">Instance Methods</span></td>\n        <td align=\"right\" valign=\"top\"\n         ><span class=\"options\">[<a href=\"#section-InstanceMethods\"\n         class=\"privatelink\" onclick=\"toggle_private();\"\n         >hide private</a>]</span></td>\n      </tr>\n    </table>\n  </td>\n</tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"__init__\"></a><span class=\"summary-sig-name\">__init__</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">cmd</span>,\n        <span class=\"summary-sig-arg\">db</span>,\n        <span class=\"summary-sig-arg\">outputPath</span>)</span></td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"getReactionNames\"></a><span class=\"summary-sig-name\">getReactionNames</span>(<span class=\"summary-sig-arg\">self</span>)</span><br />\n      Returns a list of reaction names,ids from the database.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"getAnnotationTypeIDs\"></a><span class=\"summary-sig-name\">getAnnotationTypeIDs</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">annotationNameList</span>=<span class=\"summary-sig-default\">[]</span>)</span><br />\n      Returns a list of ids for the specified annotation type names.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"getReactionReferences\"></a><span class=\"summary-sig-name\">getReactionReferences</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">nameID</span>,\n        <span class=\"summary-sig-arg\">annotationTypeIDList</span>=<span class=\"summary-sig-default\">[]</span>)</span><br />\n      Returns a list of tuples containing the reference's author and \n      publication year.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"findValidYears\"></a><span class=\"summary-sig-name\">findValidYears</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">str</span>,\n        <span class=\"summary-sig-arg\">min</span>=<span class=\"summary-sig-default\">1880</span>,\n        <span class=\"summary-sig-arg\">max</span>=<span class=\"summary-sig-default\">2007</span>)</span><br />\n      Uses regex to find the valid years between 1880 and 2007.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.DB.rdb.rdbprivatedb.Controller-class.html#findValidAuthors\" class=\"summary-sig-name\">findValidAuthors</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">str</span>,\n        <span class=\"summary-sig-arg\">rxnName</span>,\n        <span class=\"summary-sig-arg\">checkRxn</span>=<span class=\"summary-sig-default\">False</span>,\n        <span class=\"summary-sig-arg\">checkStop</span>=<span class=\"summary-sig-default\">True</span>)</span><br />\n      Uses regex to find the valid authors.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.DB.rdb.rdbprivatedb.Controller-class.html#getAuthorYearPairs\" class=\"summary-sig-name\">getAuthorYearPairs</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">reactionName</span>,\n        <span class=\"summary-sig-arg\">referenceLines</span>)</span><br />\n      Parse the output of getReactionReferences to extra the author and \n      years.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"writeQueryFile\"></a><span class=\"summary-sig-name\">writeQueryFile</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">filename</span>,\n        <span class=\"summary-sig-arg\">values</span>=<span class=\"summary-sig-default\">[]</span>)</span><br />\n      Write expected query file.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"checkRDB\"></a><span class=\"summary-sig-name\">checkRDB</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">reactionName</span>,\n        <span class=\"summary-sig-arg\">annotation</span>,\n        <span class=\"summary-sig-arg\">label</span>=<span class=\"summary-sig-default\">&quot;smirks_annotation&quot;</span>)</span></td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a href=\"CHEM.DB.rdb.rdbprivatedb.Controller-class.html#insertFromFile\" class=\"summary-sig-name\">insertFromFile</a>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">filename</span>)</span><br />\n      Custom insertion from smirks file.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n<tr>\n    <td width=\"15%\" align=\"right\" valign=\"top\" class=\"summary\">\n      <span class=\"summary-type\">&nbsp;</span>\n    </td><td class=\"summary\">\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td><span class=\"summary-sig\"><a name=\"queryPrivateDB\"></a><span class=\"summary-sig-name\">queryPrivateDB</span>(<span class=\"summary-sig-arg\">self</span>,\n        <span class=\"summary-sig-arg\">qdebug</span>=<span class=\"summary-sig-default\">False</span>)</span><br />\n      Actually performs the system call to anan's program.</td>\n          <td align=\"right\" valign=\"top\">\n            \n            \n          </td>\n        </tr>\n      </table>\n      \n    </td>\n  </tr>\n</table>\n<!-- ==================== METHOD DETAILS ==================== -->\n<a name=\"section-MethodDetails\"></a>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr bgcolor=\"#70b0f0\" class=\"table-header\">\n  <td colspan=\"2\" class=\"table-header\">\n    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n      <tr valign=\"top\">\n        <td align=\"left\"><span class=\"table-header\">Method Details</span></td>\n        <td align=\"right\" valign=\"top\"\n         ><span class=\"options\">[<a href=\"#section-MethodDetails\"\n         class=\"privatelink\" onclick=\"toggle_private();\"\n         >hide private</a>]</span></td>\n      </tr>\n    </table>\n  </td>\n</tr>\n</table>\n<a name=\"findValidAuthors\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">findValidAuthors</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">str</span>,\n        <span class=\"sig-arg\">rxnName</span>,\n        <span class=\"sig-arg\">checkRxn</span>=<span class=\"sig-default\">False</span>,\n        <span class=\"sig-arg\">checkStop</span>=<span class=\"sig-default\">True</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  <pre class=\"literalblock\">\nUses regex to find the valid authors. \nEg,\n\n    s=&quot;M. Amadori, Atti Accad. Naz. Lincei (6), 337 (1925), C.A. 20, 902 (1926); ibid. (6), 68, 226 (1929), C.A. 23, 3211, 3443 (1929). Conversion of N -glycosides of aldoses to N&quot;\n    \n    &gt;&gt;&gt; r = re.compile(&quot;(([A-Z]\\.\\ *)([A-Z]+[a-z]+)+(,|\\.))+&quot;)\n    &gt;&gt;&gt; pmatch(r,s)\n    ['M. Amadori,']\n    \n    s=&quot;L. Claisen, Ber. 45, 3157 (1912). Migration of a carbon-carbon double bond in a three carbon (allylic) system on treatment with nucleophiles under S N 1 conditions (or under S N 2 conditions when the nucleophilic attack takes place at the&quot;\n    &gt;&gt;&gt; pmatch(r,s)\n    ['L. Claisen,']\n\n</pre>\n  <dl class=\"fields\">\n  </dl>\n</td></tr></table>\n</div>\n<a name=\"getAuthorYearPairs\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">getAuthorYearPairs</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">reactionName</span>,\n        <span class=\"sig-arg\">referenceLines</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  Parse the output of getReactionReferences to extra the author and \n  years. Create a combinatorial pairs.\n  <dl class=\"fields\">\n  </dl>\n</td></tr></table>\n</div>\n<a name=\"insertFromFile\"></a>\n<div>\n<table class=\"details\" border=\"1\" cellpadding=\"3\"\n       cellspacing=\"0\" width=\"100%\" bgcolor=\"white\">\n<tr><td>\n  <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n  <tr valign=\"top\"><td>\n  <h3 class=\"epydoc\"><span class=\"sig\"><span class=\"sig-name\">insertFromFile</span>(<span class=\"sig-arg\">self</span>,\n        <span class=\"sig-arg\">filename</span>)</span>\n  </h3>\n  </td><td align=\"right\" valign=\"top\"\n    >&nbsp;\n    </td>\n  </table>\n  \n  <pre class=\"literalblock\">\nCustom insertion from smirks file. \nNeed to determine the name of the reaction from the filename.\nEg, \n    NR_958_Ziegler-Natta Polymerization_Ziegler_1956_selected.smi\n    NR_81_Bergmann-Zervas Carbobenzoxy Method_Bergmann_1932_selected.smi\n\n</pre>\n  <dl class=\"fields\">\n  </dl>\n</td></tr></table>\n</div>\n<br />\n<!-- ==================== NAVIGATION BAR ==================== -->\n<table class=\"navbar\" border=\"0\" width=\"100%\" cellpadding=\"0\"\n       bgcolor=\"#a0c0ff\" cellspacing=\"0\">\n  <tr valign=\"middle\">\n  <!-- Home link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"CHEM-module.html\">Home</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Tree link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"module-tree.html\">Trees</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Index link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"identifier-index.html\">Indices</a>&nbsp;&nbsp;&nbsp;</th>\n\n  <!-- Help link -->\n      <th>&nbsp;&nbsp;&nbsp;<a\n        href=\"help.html\">Help</a>&nbsp;&nbsp;&nbsp;</th>\n\n      <th class=\"navbar\" width=\"100%\"></th>\n  </tr>\n</table>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%%\">\n  <tr>\n    <td align=\"left\" class=\"footer\">\n    Generated by Epydoc 3.0beta1 on Thu Nov  8 17:49:30 2007\n    </td>\n    <td align=\"right\" class=\"footer\">\n      <a href=\"http://epydoc.sourceforge.net\">http://epydoc.sourceforge.net</a>\n    </td>\n  </tr>\n</table>\n\n<script type=\"text/javascript\">\n  <!--\n  // Private objects are initially displayed (because if\n  // javascript is turned off then we want them to be\n  // visible); but by default, we want to hide them.  So hide\n  // them unless we have a cookie that says to show them.\n  checkCookie()\n  // -->\n</script>\n  \n</body>\n</html>\n", "id": 40640.0}